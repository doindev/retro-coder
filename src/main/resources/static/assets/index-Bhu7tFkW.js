var Nc=e=>{throw TypeError(e)};var Pa=(e,t,n)=>t.has(e)||Nc("Cannot "+n);var w=(e,t,n)=>(Pa(e,t,"read from private field"),n?n.call(e):t.get(e)),J=(e,t,n)=>t.has(e)?Nc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,r)=>(Pa(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ee=(e,t,n)=>(Pa(e,t,"access private method"),n);var Zs=(e,t,n,r)=>({set _(l){H(e,t,l,n)},get _(){return w(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();var ud={exports:{}},ua={},dd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=Symbol.for("react.element"),ip=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),dp=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),Sc=Symbol.iterator;function yp(e){return e===null||typeof e!="object"?null:(e=Sc&&e[Sc]||e["@@iterator"],typeof e=="function"?e:null)}var fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd=Object.assign,pd={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function md(){}md.prototype=Zr.prototype;function hi(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}var pi=hi.prototype=new md;pi.constructor=hi;hd(pi,Zr.prototype);pi.isPureReactComponent=!0;var kc=Array.isArray,gd=Object.prototype.hasOwnProperty,mi={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,n){var r,l={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)gd.call(t,r)&&!xd.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Hs,type:e,key:a,ref:o,props:l,_owner:mi.current}}function vp(e,t){return{$$typeof:Hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hs}function jp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cc=/\/+/g;function Ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jp(""+e.key):t.toString(36)}function jl(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hs:case ip:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+Ma(o,0):r,kc(l)?(n="",e!=null&&(n=e.replace(Cc,"$&/")+"/"),jl(l,t,n,"",function(u){return u})):l!=null&&(gi(l)&&(l=vp(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Cc,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",kc(e))for(var i=0;i<e.length;i++){a=e[i];var c=r+Ma(a,i);o+=jl(a,t,n,c,l)}else if(c=yp(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=r+Ma(a,i++),o+=jl(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Js(e,t,n){if(e==null)return e;var r=[],l=0;return jl(e,r,"","",function(a){return t.call(n,a,l++)}),r}function wp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},wl={transition:null},bp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:wl,ReactCurrentOwner:mi};function vd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Js,forEach:function(e,t,n){Js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Js(e,function(){t++}),t},toArray:function(e){return Js(e,function(t){return t})||[]},only:function(e){if(!gi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Zr;te.Fragment=cp;te.Profiler=dp;te.PureComponent=hi;te.StrictMode=up;te.Suspense=mp;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bp;te.act=vd;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hd({},e.props),l=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=mi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)gd.call(t,c)&&!xd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:Hs,type:e.type,key:l,ref:a,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fp,_context:e},e.Consumer=e};te.createElement=yd;te.createFactory=function(e){var t=yd.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:pp,render:e}};te.isValidElement=gi;te.lazy=function(e){return{$$typeof:xp,_payload:{_status:-1,_result:e},_init:wp}};te.memo=function(e,t){return{$$typeof:gp,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=wl.transition;wl.transition={};try{e()}finally{wl.transition=t}};te.unstable_act=vd;te.useCallback=function(e,t){return He.current.useCallback(e,t)};te.useContext=function(e){return He.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return He.current.useDeferredValue(e)};te.useEffect=function(e,t){return He.current.useEffect(e,t)};te.useId=function(){return He.current.useId()};te.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return He.current.useMemo(e,t)};te.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};te.useRef=function(e){return He.current.useRef(e)};te.useState=function(e){return He.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return He.current.useTransition()};te.version="18.3.1";dd.exports=te;var p=dd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=p,Sp=Symbol.for("react.element"),kp=Symbol.for("react.fragment"),Cp=Object.prototype.hasOwnProperty,Ep=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pp={key:!0,ref:!0,__self:!0,__source:!0};function jd(e,t,n){var r,l={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Cp.call(t,r)&&!Pp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Sp,type:e,key:a,ref:o,props:l,_owner:Ep.current}}ua.Fragment=kp;ua.jsx=jd;ua.jsxs=jd;ud.exports=ua;var s=ud.exports,wd={exports:{}},ot={},bd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,F){var k=z.length;z.push(F);e:for(;0<k;){var b=k-1>>>1,Q=z[b];if(0<l(Q,F))z[b]=F,z[k]=Q,k=b;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var F=z[0],k=z.pop();if(k!==F){z[0]=k;e:for(var b=0,Q=z.length,O=Q>>>1;b<O;){var B=2*(b+1)-1,K=z[B],M=B+1,D=z[M];if(0>l(K,k))M<Q&&0>l(D,K)?(z[b]=D,z[M]=k,b=M):(z[b]=K,z[B]=k,b=B);else if(M<Q&&0>l(D,k))z[b]=D,z[M]=k,b=M;else break e}}return F}function l(z,F){var k=z.sortIndex-F.sortIndex;return k!==0?k:z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],g=1,m=null,x=3,v=!1,j=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(z){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=z)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function y(z){if(N=!1,h(z),!j)if(n(c)!==null)j=!0,V(E);else{var F=n(u);F!==null&&Z(y,F.startTime-z)}}function E(z,F){j=!1,N&&(N=!1,f(I),I=-1),v=!0;var k=x;try{for(h(F),m=n(c);m!==null&&(!(m.expirationTime>F)||z&&!W());){var b=m.callback;if(typeof b=="function"){m.callback=null,x=m.priorityLevel;var Q=b(m.expirationTime<=F);F=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(c)&&r(c),h(F)}else r(c);m=n(c)}if(m!==null)var O=!0;else{var B=n(u);B!==null&&Z(y,B.startTime-F),O=!1}return O}finally{m=null,x=k,v=!1}}var S=!1,R=null,I=-1,P=5,_=-1;function W(){return!(e.unstable_now()-_<P)}function A(){if(R!==null){var z=e.unstable_now();_=z;var F=!0;try{F=R(!0,z)}finally{F?T():(S=!1,R=null)}}else S=!1}var T;if(typeof d=="function")T=function(){d(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=A,T=function(){$.postMessage(null)}}else T=function(){C(A,0)};function V(z){R=z,S||(S=!0,T())}function Z(z,F){I=C(function(){z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,V(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var k=x;x=F;try{return z()}finally{x=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var k=x;x=z;try{return F()}finally{x=k}},e.unstable_scheduleCallback=function(z,F,k){var b=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?b+k:b):k=b,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=k+Q,z={id:g++,callback:F,priorityLevel:z,startTime:k,expirationTime:Q,sortIndex:-1},k>b?(z.sortIndex=k,t(u,z),n(c)===null&&z===n(u)&&(N?(f(I),I=-1):N=!0,Z(y,k-b))):(z.sortIndex=Q,t(c,z),j||v||(j=!0,V(E))),z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(z){var F=x;return function(){var k=x;x=F;try{return z.apply(this,arguments)}finally{x=k}}}})(Nd);bd.exports=Nd;var Mp=bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=p,at=Mp;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,Ns={};function ir(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Ns[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=Object.prototype.hasOwnProperty,zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},Pc={};function Rp(e){return ro.call(Pc,e)?!0:ro.call(Ec,e)?!1:zp.test(e)?Pc[e]=!0:(Ec[e]=!0,!1)}function Tp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fp(e,t,n,r){if(t===null||typeof t>"u"||Tp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var xi=/[\-:]([a-z])/g;function yi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xi,yi);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xi,yi);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xi,yi);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function vi(e,t,n,r){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fp(t,n,l,r)&&(n=null),r||l===null?Rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),ji=Symbol.for("react.strict_mode"),so=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),wi=Symbol.for("react.forward_ref"),lo=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),bi=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Ed=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,_a;function cs(e){if(_a===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var za=!1;function Ra(e,t){if(!e||za)return"";za=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),o=l.length-1,i=a.length-1;1<=o&&0<=i&&l[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==a[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{za=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function Ip(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=Ra(e.type,!1),e;case 11:return e=Ra(e.type.render,!1),e;case 1:return e=Ra(e.type,!0),e;default:return""}}function oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case so:return"Profiler";case ji:return"StrictMode";case lo:return"Suspense";case ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cd:return(e.displayName||"Context")+".Consumer";case kd:return(e._context.displayName||"Context")+".Provider";case wi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bi:return t=e.displayName||null,t!==null?t:oo(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return oo(e(t))}catch{}}return null}function Ap(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oo(t);case 8:return t===ji?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Op(e){var t=Pd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function el(e){e._valueTracker||(e._valueTracker=Op(e))}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function io(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _c(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _d(e,t){t=t.checked,t!=null&&vi(e,"checked",t,!1)}function co(e,t){_d(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uo(e,t.type,n):t.hasOwnProperty("defaultValue")&&uo(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uo(e,t,n){(t!=="number"||Fl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function fo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(us(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function zd(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tl,Td=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dp=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(e){Dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ps[t]=ps[e]})});function Fd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ps.hasOwnProperty(e)&&ps[e]?(""+t).trim():t+"px"}function Id(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Fd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Lp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(e,t){if(t){if(Lp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,Sr=null,kr=null;function Fc(e){if(e=Gs(e)){if(typeof xo!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ma(t),xo(e.stateNode,e.type,t))}}function Ad(e){Sr?kr?kr.push(e):kr=[e]:Sr=e}function Od(){if(Sr){var e=Sr,t=kr;if(kr=Sr=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function Dd(e,t){return e(t)}function Ld(){}var Ta=!1;function Ud(e,t,n){if(Ta)return e(t,n);Ta=!0;try{return Dd(e,t,n)}finally{Ta=!1,(Sr!==null||kr!==null)&&(Ld(),Od())}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var r=ma(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var yo=!1;if(Zt)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){yo=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{yo=!1}function Up(e,t,n,r,l,a,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(g){this.onError(g)}}var ms=!1,Il=null,Al=!1,vo=null,$p={onError:function(e){ms=!0,Il=e}};function Qp(e,t,n,r,l,a,o,i,c){ms=!1,Il=null,Up.apply($p,arguments)}function Bp(e,t,n,r,l,a,o,i,c){if(Qp.apply(this,arguments),ms){if(ms){var u=Il;ms=!1,Il=null}else throw Error(U(198));Al||(Al=!0,vo=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ic(e){if(cr(e)!==e)throw Error(U(188))}function Wp(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Ic(l),e;if(a===r)return Ic(l),t;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=l,r=a;else{for(var o=!1,i=l.child;i;){if(i===n){o=!0,n=l,r=a;break}if(i===r){o=!0,r=l,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,r=l;break}if(i===r){o=!0,r=a,n=l;break}i=i.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Qd(e){return e=Wp(e),e!==null?Bd(e):null}function Bd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=at.unstable_scheduleCallback,Ac=at.unstable_cancelCallback,qp=at.unstable_shouldYield,Hp=at.unstable_requestPaint,Ne=at.unstable_now,Vp=at.unstable_getCurrentPriorityLevel,Si=at.unstable_ImmediatePriority,qd=at.unstable_UserBlockingPriority,Ol=at.unstable_NormalPriority,Kp=at.unstable_LowPriority,Hd=at.unstable_IdlePriority,da=null,At=null;function Gp(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Jp,Yp=Math.log,Zp=Math.LN2;function Jp(e){return e>>>=0,e===0?32:31-(Yp(e)/Zp|0)|0}var nl=64,rl=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~l;i!==0?r=ds(i):(a&=o,a!==0&&(r=ds(a)))}else o=n&~l,o!==0?r=ds(o):a!==0&&(r=ds(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),l=1<<n,r|=e[n],t&=~l;return r}function Xp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function em(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ct(a),i=1<<o,c=l[o];c===-1?(!(i&n)||i&r)&&(l[o]=Xp(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vd(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function Fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function tm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ct(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function ki(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ce=0;function Kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gd,Ci,Yd,Zd,Jd,wo=!1,sl=[],wn=null,bn=null,Nn=null,Cs=new Map,Es=new Map,on=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function rs(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Gs(t),t!==null&&Ci(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function rm(e,t,n,r,l){switch(t){case"focusin":return wn=rs(wn,e,t,n,r,l),!0;case"dragenter":return bn=rs(bn,e,t,n,r,l),!0;case"mouseover":return Nn=rs(Nn,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Cs.set(a,rs(Cs.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Es.set(a,rs(Es.get(a)||null,e,t,n,r,l)),!0}return!1}function Xd(e){var t=Un(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=$d(n),t!==null){e.blockedOn=t,Jd(e.priority,function(){Yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);go=r,n.target.dispatchEvent(r),go=null}else return t=Gs(n),t!==null&&Ci(t),e.blockedOn=n,!1;t.shift()}return!0}function Dc(e,t,n){bl(e)&&n.delete(t)}function sm(){wo=!1,wn!==null&&bl(wn)&&(wn=null),bn!==null&&bl(bn)&&(bn=null),Nn!==null&&bl(Nn)&&(Nn=null),Cs.forEach(Dc),Es.forEach(Dc)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,sm)))}function Ps(e){function t(l){return ss(l,e)}if(0<sl.length){ss(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&ss(wn,e),bn!==null&&ss(bn,e),Nn!==null&&ss(Nn,e),Cs.forEach(t),Es.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)Xd(n),n.blockedOn===null&&on.shift()}var Cr=nn.ReactCurrentBatchConfig,Ll=!0;function lm(e,t,n,r){var l=ce,a=Cr.transition;Cr.transition=null;try{ce=1,Ei(e,t,n,r)}finally{ce=l,Cr.transition=a}}function am(e,t,n,r){var l=ce,a=Cr.transition;Cr.transition=null;try{ce=4,Ei(e,t,n,r)}finally{ce=l,Cr.transition=a}}function Ei(e,t,n,r){if(Ll){var l=bo(e,t,n,r);if(l===null)Wa(e,t,r,Ul,n),Oc(e,r);else if(rm(l,e,t,n,r))r.stopPropagation();else if(Oc(e,r),t&4&&-1<nm.indexOf(e)){for(;l!==null;){var a=Gs(l);if(a!==null&&Gd(a),a=bo(e,t,n,r),a===null&&Wa(e,t,r,Ul,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else Wa(e,t,r,null,n)}}var Ul=null;function bo(e,t,n,r){if(Ul=null,e=Ni(r),e=Un(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vp()){case Si:return 1;case qd:return 4;case Ol:case Kp:return 16;case Hd:return 536870912;default:return 16}default:return 16}}var vn=null,Pi=null,Nl=null;function tf(){if(Nl)return Nl;var e,t=Pi,n=t.length,r,l="value"in vn?vn.value:vn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[a-r];r++);return Nl=l.slice(e,1<r?1-r:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Lc(){return!1}function it(e){function t(n,r,l,a,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ll:Lc,this.isPropagationStopped=Lc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=it(Jr),Ks=ve({},Jr,{view:0,detail:0}),om=it(Ks),Ia,Aa,ls,fa=ve({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Ia=e.screenX-ls.screenX,Aa=e.screenY-ls.screenY):Aa=Ia=0,ls=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Uc=it(fa),im=ve({},fa,{dataTransfer:0}),cm=it(im),um=ve({},Ks,{relatedTarget:0}),Oa=it(um),dm=ve({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=it(dm),hm=ve({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pm=it(hm),mm=ve({},Jr,{data:0}),$c=it(mm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ym[e])?!!t[e]:!1}function _i(){return vm}var jm=ve({},Ks,{key:function(e){if(e.key){var t=gm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wm=it(jm),bm=ve({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=it(bm),Nm=ve({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),Sm=it(Nm),km=ve({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=it(km),Em=ve({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=it(Em),Mm=[9,13,27,32],zi=Zt&&"CompositionEvent"in window,gs=null;Zt&&"documentMode"in document&&(gs=document.documentMode);var _m=Zt&&"TextEvent"in window&&!gs,nf=Zt&&(!zi||gs&&8<gs&&11>=gs),Bc=" ",Wc=!1;function rf(e,t){switch(e){case"keyup":return Mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function zm(e,t){switch(e){case"compositionend":return sf(t);case"keypress":return t.which!==32?null:(Wc=!0,Bc);case"textInput":return e=t.data,e===Bc&&Wc?null:e;default:return null}}function Rm(e,t){if(hr)return e==="compositionend"||!zi&&rf(e,t)?(e=tf(),Nl=Pi=vn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var Tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tm[e.type]:t==="textarea"}function lf(e,t,n,r){Ad(r),t=$l(t,"onChange"),0<t.length&&(n=new Mi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,Ms=null;function Fm(e){xf(e,0)}function ha(e){var t=gr(e);if(Md(t))return e}function Im(e,t){if(e==="change")return t}var af=!1;if(Zt){var Da;if(Zt){var La="oninput"in document;if(!La){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),La=typeof Hc.oninput=="function"}Da=La}else Da=!1;af=Da&&(!document.documentMode||9<document.documentMode)}function Vc(){xs&&(xs.detachEvent("onpropertychange",of),Ms=xs=null)}function of(e){if(e.propertyName==="value"&&ha(Ms)){var t=[];lf(t,Ms,e,Ni(e)),Ud(Fm,t)}}function Am(e,t,n){e==="focusin"?(Vc(),xs=t,Ms=n,xs.attachEvent("onpropertychange",of)):e==="focusout"&&Vc()}function Om(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(Ms)}function Dm(e,t){if(e==="click")return ha(t)}function Lm(e,t){if(e==="input"||e==="change")return ha(t)}function Um(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Um;function _s(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ro.call(t,l)||!Pt(e[l],t[l]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,t){var n=Kc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kc(n)}}function cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uf(){for(var e=window,t=Fl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fl(e.document)}return t}function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $m(e){var t=uf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cf(n.ownerDocument.documentElement,n)){if(r!==null&&Ri(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Gc(n,a);var o=Gc(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qm=Zt&&"documentMode"in document&&11>=document.documentMode,pr=null,No=null,ys=null,So=!1;function Yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;So||pr==null||pr!==Fl(r)||(r=pr,"selectionStart"in r&&Ri(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&_s(ys,r)||(ys=r,r=$l(No,"onSelect"),0<r.length&&(t=new Mi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Ua={},df={};Zt&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function pa(e){if(Ua[e])return Ua[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in df)return Ua[e]=t[n];return e}var ff=pa("animationend"),hf=pa("animationiteration"),pf=pa("animationstart"),mf=pa("transitionend"),gf=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){gf.set(e,t),ir(t,[e])}for(var $a=0;$a<Zc.length;$a++){var Qa=Zc[$a],Bm=Qa.toLowerCase(),Wm=Qa[0].toUpperCase()+Qa.slice(1);Tn(Bm,"on"+Wm)}Tn(ff,"onAnimationEnd");Tn(hf,"onAnimationIteration");Tn(pf,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(mf,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bp(r,t,void 0,e),e.currentTarget=null}function xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==a&&l.isPropagationStopped())break e;Jc(l,i,u),a=c}else for(o=0;o<r.length;o++){if(i=r[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==a&&l.isPropagationStopped())break e;Jc(l,i,u),a=c}}}if(Al)throw e=vo,Al=!1,vo=null,e}function fe(e,t){var n=t[Mo];n===void 0&&(n=t[Mo]=new Set);var r=e+"__bubble";n.has(r)||(yf(t,e,2,!1),n.add(r))}function Ba(e,t,n){var r=0;t&&(r|=4),yf(n,e,r,t)}var ol="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[ol]){e[ol]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(qm.has(n)||Ba(n,!1,e),Ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ol]||(t[ol]=!0,Ba("selectionchange",!1,t))}}function yf(e,t,n,r){switch(ef(t)){case 1:var l=lm;break;case 4:l=am;break;default:l=Ei}n=l.bind(null,t,n,e),l=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Wa(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=Un(i),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}i=i.parentNode}}r=r.return}Ud(function(){var u=a,g=Ni(n),m=[];e:{var x=gf.get(e);if(x!==void 0){var v=Mi,j=e;switch(e){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":v=wm;break;case"focusin":j="focus",v=Oa;break;case"focusout":j="blur",v=Oa;break;case"beforeblur":case"afterblur":v=Oa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sm;break;case ff:case hf:case pf:v=fm;break;case mf:v=Cm;break;case"scroll":v=om;break;case"wheel":v=Pm;break;case"copy":case"cut":case"paste":v=pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Qc}var N=(t&4)!==0,C=!N&&e==="scroll",f=N?x!==null?x+"Capture":null:x;N=[];for(var d=u,h;d!==null;){h=d;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,f!==null&&(y=ks(d,f),y!=null&&N.push(Rs(d,y,h)))),C)break;d=d.return}0<N.length&&(x=new v(x,j,null,n,g),m.push({event:x,listeners:N}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&n!==go&&(j=n.relatedTarget||n.fromElement)&&(Un(j)||j[Jt]))break e;if((v||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,v?(j=n.relatedTarget||n.toElement,v=u,j=j?Un(j):null,j!==null&&(C=cr(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=u),v!==j)){if(N=Uc,y="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=Qc,y="onPointerLeave",f="onPointerEnter",d="pointer"),C=v==null?x:gr(v),h=j==null?x:gr(j),x=new N(y,d+"leave",v,n,g),x.target=C,x.relatedTarget=h,y=null,Un(g)===u&&(N=new N(f,d+"enter",j,n,g),N.target=h,N.relatedTarget=C,y=N),C=y,v&&j)t:{for(N=v,f=j,d=0,h=N;h;h=ur(h))d++;for(h=0,y=f;y;y=ur(y))h++;for(;0<d-h;)N=ur(N),d--;for(;0<h-d;)f=ur(f),h--;for(;d--;){if(N===f||f!==null&&N===f.alternate)break t;N=ur(N),f=ur(f)}N=null}else N=null;v!==null&&Xc(m,x,v,N,!1),j!==null&&C!==null&&Xc(m,C,j,N,!0)}}e:{if(x=u?gr(u):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var E=Im;else if(qc(x))if(af)E=Lm;else{E=Om;var S=Am}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Dm);if(E&&(E=E(e,u))){lf(m,E,n,g);break e}S&&S(e,x,u),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&uo(x,"number",x.value)}switch(S=u?gr(u):window,e){case"focusin":(qc(S)||S.contentEditable==="true")&&(pr=S,No=u,ys=null);break;case"focusout":ys=No=pr=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Yc(m,n,g);break;case"selectionchange":if(Qm)break;case"keydown":case"keyup":Yc(m,n,g)}var R;if(zi)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else hr?rf(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(nf&&n.locale!=="ko"&&(hr||I!=="onCompositionStart"?I==="onCompositionEnd"&&hr&&(R=tf()):(vn=g,Pi="value"in vn?vn.value:vn.textContent,hr=!0)),S=$l(u,I),0<S.length&&(I=new $c(I,e,null,n,g),m.push({event:I,listeners:S}),R?I.data=R:(R=sf(n),R!==null&&(I.data=R)))),(R=_m?zm(e,n):Rm(e,n))&&(u=$l(u,"onBeforeInput"),0<u.length&&(g=new $c("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:u}),g.data=R))}xf(m,t)})}function Rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=ks(e,n),a!=null&&r.unshift(Rs(e,a,l)),a=ks(e,t),a!=null&&r.push(Rs(e,a,l))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,t,n,r,l){for(var a=t._reactName,o=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,l?(c=ks(n,a),c!=null&&o.unshift(Rs(n,c,i))):l||(c=ks(n,a),c!=null&&o.push(Rs(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hm=/\r\n?/g,Vm=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(Hm,`
`).replace(Vm,"")}function il(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(U(425))}function Ql(){}var ko=null,Co=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,Km=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,Gm=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(Ym)}:Po;function Ym(e){setTimeout(function(){throw e})}function qa(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Ps(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),It="__reactFiber$"+Xr,Ts="__reactProps$"+Xr,Jt="__reactContainer$"+Xr,Mo="__reactEvents$"+Xr,Zm="__reactListeners$"+Xr,Jm="__reactHandles$"+Xr;function Un(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[It])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[It]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ma(e){return e[Ts]||null}var _o=[],xr=-1;function Fn(e){return{current:e}}function he(e){0>xr||(e.current=_o[xr],_o[xr]=null,xr--)}function de(e,t){xr++,_o[xr]=e.current,e.current=t}var zn={},Ue=Fn(zn),Xe=Fn(!1),tr=zn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function et(e){return e=e.childContextTypes,e!=null}function Bl(){he(Xe),he(Ue)}function ru(e,t,n){if(Ue.current!==zn)throw Error(U(168));de(Ue,t),de(Xe,n)}function vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(U(108,Ap(e)||"Unknown",l));return ve({},n,r)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,tr=Ue.current,de(Ue,e),de(Xe,Xe.current),!0}function su(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=vf(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,he(Xe),he(Ue),de(Ue,e)):he(Xe),de(Xe,n)}var Qt=null,ga=!1,Ha=!1;function jf(e){Qt===null?Qt=[e]:Qt.push(e)}function Xm(e){ga=!0,jf(e)}function In(){if(!Ha&&Qt!==null){Ha=!0;var e=0,t=ce;try{var n=Qt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,ga=!1}catch(l){throw Qt!==null&&(Qt=Qt.slice(e+1)),Wd(Si,In),l}finally{ce=t,Ha=!1}}return null}var yr=[],vr=0,ql=null,Hl=0,dt=[],ft=0,nr=null,Vt=1,Kt="";function Dn(e,t){yr[vr++]=Hl,yr[vr++]=ql,ql=e,Hl=t}function wf(e,t,n){dt[ft++]=Vt,dt[ft++]=Kt,dt[ft++]=nr,nr=e;var r=Vt;e=Kt;var l=32-Ct(r)-1;r&=~(1<<l),n+=1;var a=32-Ct(t)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Vt=1<<32-Ct(t)+l|n<<l|r,Kt=a+e}else Vt=1<<a|n<<l|r,Kt=e}function Ti(e){e.return!==null&&(Dn(e,1),wf(e,1,0))}function Fi(e){for(;e===ql;)ql=yr[--vr],yr[vr]=null,Hl=yr[--vr],yr[vr]=null;for(;e===nr;)nr=dt[--ft],dt[ft]=null,Kt=dt[--ft],dt[ft]=null,Vt=dt[--ft],dt[ft]=null}var lt=null,st=null,ge=!1,kt=null;function bf(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:Vt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(ge){var t=st;if(t){var n=t;if(!lu(e,t)){if(zo(e))throw Error(U(418));t=Sn(n.nextSibling);var r=lt;t&&lu(e,t)?bf(r,n):(e.flags=e.flags&-4097|2,ge=!1,lt=e)}}else{if(zo(e))throw Error(U(418));e.flags=e.flags&-4097|2,ge=!1,lt=e}}}function au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function cl(e){if(e!==lt)return!1;if(!ge)return au(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=st)){if(zo(e))throw Nf(),Error(U(418));for(;t;)bf(e,t),t=Sn(t.nextSibling)}if(au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?Sn(e.stateNode.nextSibling):null;return!0}function Nf(){for(var e=st;e;)e=Sn(e.nextSibling)}function Br(){st=lt=null,ge=!1}function Ii(e){kt===null?kt=[e]:kt.push(e)}var eg=nn.ReactCurrentBatchConfig;function as(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=l.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ou(e){var t=e._init;return t(e._payload)}function Sf(e){function t(f,d){if(e){var h=f.deletions;h===null?(f.deletions=[d],f.flags|=16):h.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function l(f,d){return f=Pn(f,d),f.index=0,f.sibling=null,f}function a(f,d,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<d?(f.flags|=2,d):h):(f.flags|=2,d)):(f.flags|=1048576,d)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function i(f,d,h,y){return d===null||d.tag!==6?(d=Xa(h,f.mode,y),d.return=f,d):(d=l(d,h),d.return=f,d)}function c(f,d,h,y){var E=h.type;return E===fr?g(f,d,h.props.children,y,h.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ln&&ou(E)===d.type)?(y=l(d,h.props),y.ref=as(f,d,h),y.return=f,y):(y=zl(h.type,h.key,h.props,null,f.mode,y),y.ref=as(f,d,h),y.return=f,y)}function u(f,d,h,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=eo(h,f.mode,y),d.return=f,d):(d=l(d,h.children||[]),d.return=f,d)}function g(f,d,h,y,E){return d===null||d.tag!==7?(d=er(h,f.mode,y,E),d.return=f,d):(d=l(d,h),d.return=f,d)}function m(f,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Xa(""+d,f.mode,h),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Xs:return h=zl(d.type,d.key,d.props,null,f.mode,h),h.ref=as(f,null,d),h.return=f,h;case dr:return d=eo(d,f.mode,h),d.return=f,d;case ln:var y=d._init;return m(f,y(d._payload),h)}if(us(d)||ts(d))return d=er(d,f.mode,h,null),d.return=f,d;ul(f,d)}return null}function x(f,d,h,y){var E=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:i(f,d,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Xs:return h.key===E?c(f,d,h,y):null;case dr:return h.key===E?u(f,d,h,y):null;case ln:return E=h._init,x(f,d,E(h._payload),y)}if(us(h)||ts(h))return E!==null?null:g(f,d,h,y,null);ul(f,h)}return null}function v(f,d,h,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(h)||null,i(d,f,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:return f=f.get(y.key===null?h:y.key)||null,c(d,f,y,E);case dr:return f=f.get(y.key===null?h:y.key)||null,u(d,f,y,E);case ln:var S=y._init;return v(f,d,h,S(y._payload),E)}if(us(y)||ts(y))return f=f.get(h)||null,g(d,f,y,E,null);ul(d,y)}return null}function j(f,d,h,y){for(var E=null,S=null,R=d,I=d=0,P=null;R!==null&&I<h.length;I++){R.index>I?(P=R,R=null):P=R.sibling;var _=x(f,R,h[I],y);if(_===null){R===null&&(R=P);break}e&&R&&_.alternate===null&&t(f,R),d=a(_,d,I),S===null?E=_:S.sibling=_,S=_,R=P}if(I===h.length)return n(f,R),ge&&Dn(f,I),E;if(R===null){for(;I<h.length;I++)R=m(f,h[I],y),R!==null&&(d=a(R,d,I),S===null?E=R:S.sibling=R,S=R);return ge&&Dn(f,I),E}for(R=r(f,R);I<h.length;I++)P=v(R,f,I,h[I],y),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?I:P.key),d=a(P,d,I),S===null?E=P:S.sibling=P,S=P);return e&&R.forEach(function(W){return t(f,W)}),ge&&Dn(f,I),E}function N(f,d,h,y){var E=ts(h);if(typeof E!="function")throw Error(U(150));if(h=E.call(h),h==null)throw Error(U(151));for(var S=E=null,R=d,I=d=0,P=null,_=h.next();R!==null&&!_.done;I++,_=h.next()){R.index>I?(P=R,R=null):P=R.sibling;var W=x(f,R,_.value,y);if(W===null){R===null&&(R=P);break}e&&R&&W.alternate===null&&t(f,R),d=a(W,d,I),S===null?E=W:S.sibling=W,S=W,R=P}if(_.done)return n(f,R),ge&&Dn(f,I),E;if(R===null){for(;!_.done;I++,_=h.next())_=m(f,_.value,y),_!==null&&(d=a(_,d,I),S===null?E=_:S.sibling=_,S=_);return ge&&Dn(f,I),E}for(R=r(f,R);!_.done;I++,_=h.next())_=v(R,f,I,_.value,y),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?I:_.key),d=a(_,d,I),S===null?E=_:S.sibling=_,S=_);return e&&R.forEach(function(A){return t(f,A)}),ge&&Dn(f,I),E}function C(f,d,h,y){if(typeof h=="object"&&h!==null&&h.type===fr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Xs:e:{for(var E=h.key,S=d;S!==null;){if(S.key===E){if(E=h.type,E===fr){if(S.tag===7){n(f,S.sibling),d=l(S,h.props.children),d.return=f,f=d;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ln&&ou(E)===S.type){n(f,S.sibling),d=l(S,h.props),d.ref=as(f,S,h),d.return=f,f=d;break e}n(f,S);break}else t(f,S);S=S.sibling}h.type===fr?(d=er(h.props.children,f.mode,y,h.key),d.return=f,f=d):(y=zl(h.type,h.key,h.props,null,f.mode,y),y.ref=as(f,d,h),y.return=f,f=y)}return o(f);case dr:e:{for(S=h.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(f,d.sibling),d=l(d,h.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=eo(h,f.mode,y),d.return=f,f=d}return o(f);case ln:return S=h._init,C(f,d,S(h._payload),y)}if(us(h))return j(f,d,h,y);if(ts(h))return N(f,d,h,y);ul(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(f,d.sibling),d=l(d,h),d.return=f,f=d):(n(f,d),d=Xa(h,f.mode,y),d.return=f,f=d),o(f)):n(f,d)}return C}var Wr=Sf(!0),kf=Sf(!1),Vl=Fn(null),Kl=null,jr=null,Ai=null;function Oi(){Ai=jr=Kl=null}function Di(e){var t=Vl.current;he(Vl),e._currentValue=t}function To(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){Kl=e,Ai=jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Ai!==e)if(e={context:e,memoizedValue:t,next:null},jr===null){if(Kl===null)throw Error(U(308));jr=e,Kl.dependencies={lanes:0,firstContext:e}}else jr=jr.next=e;return t}var $n=null;function Li(e){$n===null?$n=[e]:$n.push(e)}function Cf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Li(t)):(n.next=l.next,l.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var an=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Xt(e,n)}return l=r.interleaved,l===null?(t.next=t,Li(r)):(t.next=l.next,l.next=t),r.interleaved=t,Xt(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ki(e,n)}}function iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gl(e,t,n,r){var l=e.updateQueue;an=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var g=e.alternate;g!==null&&(g=g.updateQueue,i=g.lastBaseUpdate,i!==o&&(i===null?g.firstBaseUpdate=u:i.next=u,g.lastBaseUpdate=c))}if(a!==null){var m=l.baseState;o=0,g=u=c=null,i=a;do{var x=i.lane,v=i.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var j=e,N=i;switch(x=t,v=n,N.tag){case 1:if(j=N.payload,typeof j=="function"){m=j.call(v,m,x);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=N.payload,x=typeof j=="function"?j.call(v,m,x):j,x==null)break e;m=ve({},m,x);break e;case 2:an=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[i]:x.push(i))}else v={eventTime:v,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},g===null?(u=g=v,c=m):g=g.next=v,o|=x;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;x=i,i=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(g===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);sr|=o,e.lanes=o,e.memoizedState=m}}function cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(U(191,l));l.call(r)}}}var Ys={},Ot=Fn(Ys),Fs=Fn(Ys),Is=Fn(Ys);function Qn(e){if(e===Ys)throw Error(U(174));return e}function $i(e,t){switch(de(Is,t),de(Fs,e),de(Ot,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ho(t,e)}he(Ot),de(Ot,t)}function qr(){he(Ot),he(Fs),he(Is)}function Pf(e){Qn(Is.current);var t=Qn(Ot.current),n=ho(t,e.type);t!==n&&(de(Fs,e),de(Ot,n))}function Qi(e){Fs.current===e&&(he(Ot),he(Fs))}var xe=Fn(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=[];function Bi(){for(var e=0;e<Va.length;e++)Va[e]._workInProgressVersionPrimary=null;Va.length=0}var Cl=nn.ReactCurrentDispatcher,Ka=nn.ReactCurrentBatchConfig,rr=0,ye=null,Ce=null,_e=null,Zl=!1,vs=!1,As=0,tg=0;function Oe(){throw Error(U(321))}function Wi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function qi(e,t,n,r,l,a){if(rr=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?lg:ag,e=n(r,l),vs){a=0;do{if(vs=!1,As=0,25<=a)throw Error(U(301));a+=1,_e=Ce=null,t.updateQueue=null,Cl.current=og,e=n(r,l)}while(vs)}if(Cl.current=Jl,t=Ce!==null&&Ce.next!==null,rr=0,_e=Ce=ye=null,Zl=!1,t)throw Error(U(300));return e}function Hi(){var e=As!==0;return As=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ye.memoizedState=_e=e:_e=_e.next=e,_e}function gt(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=_e===null?ye.memoizedState:_e.next;if(t!==null)_e=t,Ce=e;else{if(e===null)throw Error(U(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},_e===null?ye.memoizedState=_e=e:_e=_e.next=e}return _e}function Os(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ce,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var i=o=null,c=null,u=a;do{var g=u.lane;if((rr&g)===g)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=m,o=r):c=c.next=m,ye.lanes|=g,sr|=g}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=i,Pt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ye.lanes|=a,sr|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ya(e){var t=gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);Pt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Mf(){}function _f(e,t){var n=ye,r=gt(),l=t(),a=!Pt(r.memoizedState,l);if(a&&(r.memoizedState=l,Je=!0),r=r.queue,Vi(Tf.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Rf.bind(null,n,r,l,t),void 0,null),ze===null)throw Error(U(349));rr&30||zf(n,t,l)}return l}function zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rf(e,t,n,r){t.value=n,t.getSnapshot=r,Ff(t)&&If(e)}function Tf(e,t,n){return n(function(){Ff(t)&&If(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function If(e){var t=Xt(e,1);t!==null&&Et(t,e,1,-1)}function uu(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t.queue=e,e=e.dispatch=sg.bind(null,ye,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Af(){return gt().memoizedState}function El(e,t,n,r){var l=zt();ye.flags|=e,l.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function xa(e,t,n,r){var l=gt();r=r===void 0?null:r;var a=void 0;if(Ce!==null){var o=Ce.memoizedState;if(a=o.destroy,r!==null&&Wi(r,o.deps)){l.memoizedState=Ds(t,n,a,r);return}}ye.flags|=e,l.memoizedState=Ds(1|t,n,a,r)}function du(e,t){return El(8390656,8,e,t)}function Vi(e,t){return xa(2048,8,e,t)}function Of(e,t){return xa(4,2,e,t)}function Df(e,t){return xa(4,4,e,t)}function Lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uf(e,t,n){return n=n!=null?n.concat([e]):null,xa(4,4,Lf.bind(null,t,e),n)}function Ki(){}function $f(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qf(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bf(e,t,n){return rr&21?(Pt(n,t)||(n=Vd(),ye.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function ng(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Ka.transition;Ka.transition={};try{e(!1),t()}finally{ce=n,Ka.transition=r}}function Wf(){return gt().memoizedState}function rg(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qf(e))Hf(t,n);else if(n=Cf(e,t,n,r),n!==null){var l=qe();Et(n,e,r,l),Vf(n,t,r)}}function sg(e,t,n){var r=En(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Hf(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(l.hasEagerState=!0,l.eagerState=i,Pt(i,o)){var c=t.interleaved;c===null?(l.next=l,Li(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Cf(e,t,l,r),n!==null&&(l=qe(),Et(n,e,r,l),Vf(n,t,r))}}function qf(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Hf(e,t){vs=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ki(e,n)}}var Jl={readContext:mt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},lg={readContext:mt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,Lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rg.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:Ki,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=ng.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=zt();if(ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));rr&30||zf(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,du(Tf.bind(null,r,a,e),[e]),r.flags|=2048,Ds(9,Rf.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=zt(),t=ze.identifierPrefix;if(ge){var n=Kt,r=Vt;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ag={readContext:mt,useCallback:$f,useContext:mt,useEffect:Vi,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:Df,useMemo:Qf,useReducer:Ga,useRef:Af,useState:function(){return Ga(Os)},useDebugValue:Ki,useDeferredValue:function(e){var t=gt();return Bf(t,Ce.memoizedState,e)},useTransition:function(){var e=Ga(Os)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:_f,useId:Wf,unstable_isNewReconciler:!1},og={readContext:mt,useCallback:$f,useContext:mt,useEffect:Vi,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:Df,useMemo:Qf,useReducer:Ya,useRef:Af,useState:function(){return Ya(Os)},useDebugValue:Ki,useDeferredValue:function(e){var t=gt();return Ce===null?t.memoizedState=e:Bf(t,Ce.memoizedState,e)},useTransition:function(){var e=Ya(Os)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:_f,useId:Wf,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),l=En(e),a=Gt(r,l);a.payload=t,n!=null&&(a.callback=n),t=kn(e,a,l),t!==null&&(Et(t,e,l,r),kl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),l=En(e),a=Gt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=kn(e,a,l),t!==null&&(Et(t,e,l,r),kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=En(e),l=Gt(n,r);l.tag=2,t!=null&&(l.callback=t),t=kn(e,l,r),t!==null&&(Et(t,e,r,n),kl(t,e,r))}};function fu(e,t,n,r,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!_s(n,r)||!_s(l,a):!0}function Kf(e,t,n){var r=!1,l=zn,a=t.contextType;return typeof a=="object"&&a!==null?a=mt(a):(l=et(t)?tr:Ue.current,r=t.contextTypes,a=(r=r!=null)?Qr(e,l):zn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function Io(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ui(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=mt(a):(a=et(t)?tr:Ue.current,l.context=Qr(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fo(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ya.enqueueReplaceState(l,l.state,null),Gl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",r=t;do n+=Ip(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Za(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ao(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ig=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ea||(ea=!0,Ho=r),Ao(e,t)},n}function Yf(e,t,n){n=Gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ao(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ao(e,t),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ig;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=bg.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var cg=nn.ReactCurrentOwner,Je=!1;function Be(e,t,n,r){t.child=e===null?kf(t,null,n,r):Wr(t,e.child,n,r)}function xu(e,t,n,r,l){n=n.render;var a=t.ref;return Er(t,l),r=qi(e,t,n,r,a,l),n=Hi(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ge&&n&&Ti(t),t.flags|=1,Be(e,t,r,l),t.child)}function yu(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!nc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Zf(e,t,a,r,l)):(e=zl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:_s,n(o,r)&&e.ref===t.ref)return en(e,t,l)}return t.flags|=1,e=Pn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(_s(a,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,en(e,t,l)}return Oo(e,t,n,r,l)}function Jf(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(br,rt),rt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(br,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,de(br,rt),rt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,de(br,rt),rt|=r;return Be(e,t,l,n),t.child}function Xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oo(e,t,n,r,l){var a=et(n)?tr:Ue.current;return a=Qr(t,a),Er(t,l),n=qi(e,t,n,r,a,l),r=Hi(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ge&&r&&Ti(t),t.flags|=1,Be(e,t,n,l),t.child)}function vu(e,t,n,r,l){if(et(n)){var a=!0;Wl(t)}else a=!1;if(Er(t,l),t.stateNode===null)Pl(e,t),Kf(t,n,r),Io(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=et(n)?tr:Ue.current,u=Qr(t,u));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||c!==u)&&hu(t,o,r,u),an=!1;var x=t.memoizedState;o.state=x,Gl(t,r,o,l),c=t.memoizedState,i!==r||x!==c||Xe.current||an?(typeof g=="function"&&(Fo(t,n,g,r),c=t.memoizedState),(i=an||fu(t,n,i,r,x,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ef(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:wt(t.type,i),o.props=u,m=t.pendingProps,x=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=et(n)?tr:Ue.current,c=Qr(t,c));var v=n.getDerivedStateFromProps;(g=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||x!==c)&&hu(t,o,r,c),an=!1,x=t.memoizedState,o.state=x,Gl(t,r,o,l);var j=t.memoizedState;i!==m||x!==j||Xe.current||an?(typeof v=="function"&&(Fo(t,n,v,r),j=t.memoizedState),(u=an||fu(t,n,u,r,x,j,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Do(e,t,n,r,a,l)}function Do(e,t,n,r,l,a){Xf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&su(t,n,!1),en(e,t,a);r=t.stateNode,cg.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Wr(t,e.child,null,a),t.child=Wr(t,null,i,a)):Be(e,t,i,a),t.memoizedState=r.state,l&&su(t,n,!0),t.child}function eh(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),$i(e,t.containerInfo)}function ju(e,t,n,r,l){return Br(),Ii(l),t.flags|=256,Be(e,t,n,r),t.child}var Lo={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function th(e,t,n){var r=t.pendingProps,l=xe.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(xe,l&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=wa(o,r,0,null),e=er(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uo(n),t.memoizedState=Lo,e):Gi(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return ug(e,t,o,r,i,l,n);if(a){a=r.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?a=Pn(i,a):(a=er(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Uo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return a=e.child,e=a.sibling,r=Pn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gi(e,t){return t=wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dl(e,t,n,r){return r!==null&&Ii(r),Wr(t,e.child,null,n),e=Gi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ug(e,t,n,r,l,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Za(Error(U(422))),dl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=wa({mode:"visible",children:r.children},l,0,null),a=er(a,l,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Wr(t,e.child,null,o),t.child.memoizedState=Uo(o),t.memoizedState=Lo,a);if(!(t.mode&1))return dl(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(U(419)),r=Za(a,r,void 0),dl(e,t,o,r)}if(i=(o&e.childLanes)!==0,Je||i){if(r=ze,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,Xt(e,l),Et(r,e,l,-1))}return tc(),r=Za(Error(U(421))),dl(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ng.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,st=Sn(l.nextSibling),lt=t,ge=!0,kt=null,e!==null&&(dt[ft++]=Vt,dt[ft++]=Kt,dt[ft++]=nr,Vt=e.id,Kt=e.overflow,nr=t),t=Gi(t,r.children),t.flags|=4096,t)}function wu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),To(e.return,t,n)}function Ja(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function nh(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(Be(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wu(e,n,t);else if(e.tag===19)wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(xe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ja(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ja(t,!0,n,null,a);break;case"together":Ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dg(e,t,n){switch(t.tag){case 3:eh(t),Br();break;case 5:Pf(t);break;case 1:et(t.type)&&Wl(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;de(Vl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?th(e,t,n):(de(xe,xe.current&1),e=en(e,t,n),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nh(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Jf(e,t,n)}return en(e,t,n)}var rh,$o,sh,lh;rh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$o=function(){};sh=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Qn(Ot.current);var a=null;switch(n){case"input":l=io(e,l),r=io(e,r),a=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),a=[];break;case"textarea":l=fo(e,l),r=fo(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ql)}po(n,r);var o;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ns.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(i=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ns.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),a||i===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};lh=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fg(e,t,n){var r=t.pendingProps;switch(Fi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return et(t.type)&&Bl(),De(t),null;case 3:return r=t.stateNode,qr(),he(Xe),he(Ue),Bi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Go(kt),kt=null))),$o(e,t),De(t),null;case 5:Qi(t);var l=Qn(Is.current);if(n=t.type,e!==null&&t.stateNode!=null)sh(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return De(t),null}if(e=Qn(Ot.current),cl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[It]=t,r[Ts]=a,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(l=0;l<fs.length;l++)fe(fs[l],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":_c(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":Rc(r,a),fe("invalid",r)}po(n,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&il(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&il(r.textContent,i,e),l=["children",""+i]):Ns.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":el(r),zc(r,a,!0);break;case"textarea":el(r),Tc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ql)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[Ts]=r,rh(e,t,!1,!1),t.stateNode=e;e:{switch(o=mo(n,r),n){case"dialog":fe("cancel",e),fe("close",e),l=r;break;case"iframe":case"object":case"embed":fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<fs.length;l++)fe(fs[l],e);l=r;break;case"source":fe("error",e),l=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),l=r;break;case"details":fe("toggle",e),l=r;break;case"input":_c(e,r),l=io(e,r),fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Rc(e,r),l=fo(e,r),fe("invalid",e);break;default:l=r}po(n,l),i=l;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?Id(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Td(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ss(e,c):typeof c=="number"&&Ss(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ns.hasOwnProperty(a)?c!=null&&a==="onScroll"&&fe("scroll",e):c!=null&&vi(e,a,c,o))}switch(n){case"input":el(e),zc(e,r,!1);break;case"textarea":el(e),Tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Nr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)lh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Qn(Is.current),Qn(Ot.current),cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(a=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return De(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&st!==null&&t.mode&1&&!(t.flags&128))Nf(),Br(),t.flags|=98560,a=!1;else if(a=cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(U(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[It]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),a=!1}else kt!==null&&(Go(kt),kt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Pe===0&&(Pe=3):tc())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return qr(),$o(e,t),e===null&&zs(t.stateNode.containerInfo),De(t),null;case 10:return Di(t.type._context),De(t),null;case 17:return et(t.type)&&Bl(),De(t),null;case 19:if(he(xe),a=t.memoizedState,a===null)return De(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)os(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yl(e),o!==null){for(t.flags|=128,os(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>Vr&&(t.flags|=128,r=!0,os(a,!1),t.lanes=4194304)}else{if(!r)if(e=Yl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ge)return De(t),null}else 2*Ne()-a.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,os(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,n=xe.current,de(xe,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return ec(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function hg(e,t){switch(Fi(t),t.tag){case 1:return et(t.type)&&Bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),he(Xe),he(Ue),Bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qi(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return qr(),null;case 10:return Di(t.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var fl=!1,Le=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Y=null;function wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Qo(e,t,n){try{n()}catch(r){we(e,t,r)}}var bu=!1;function mg(e,t){if(ko=Ll,e=uf(),Ri(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,u=0,g=0,m=e,x=null;t:for(;;){for(var v;m!==n||l!==0&&m.nodeType!==3||(i=o+l),m!==a||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)x=m,m=v;for(;;){if(m===e)break t;if(x===n&&++u===l&&(i=o),x===a&&++g===r&&(c=o),(v=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:e,selectionRange:n},Ll=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var N=j.memoizedProps,C=j.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?N:wt(t.type,N),C);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(y){we(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return j=bu,bu=!1,j}function js(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Qo(t,n,a)}l=l.next}while(l!==r)}}function va(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Ts],delete t[Mo],delete t[Zm],delete t[Jm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oh(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ql));else if(r!==4&&(e=e.child,e!==null))for(Wo(e,t,n),e=e.sibling;e!==null;)Wo(e,t,n),e=e.sibling}function qo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qo(e,t,n),e=e.sibling;e!==null;)qo(e,t,n),e=e.sibling}var Fe=null,St=!1;function rn(e,t,n){for(n=n.child;n!==null;)ih(e,t,n),n=n.sibling}function ih(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:Le||wr(n,t);case 6:var r=Fe,l=St;Fe=null,rn(e,t,n),Fe=r,St=l,Fe!==null&&(St?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(St?(e=Fe,n=n.stateNode,e.nodeType===8?qa(e.parentNode,n):e.nodeType===1&&qa(e,n),Ps(e)):qa(Fe,n.stateNode));break;case 4:r=Fe,l=St,Fe=n.stateNode.containerInfo,St=!0,rn(e,t,n),Fe=r,St=l;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Qo(n,t,o),l=l.next}while(l!==r)}rn(e,t,n);break;case 1:if(!Le&&(wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){we(n,t,i)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,rn(e,t,n),Le=r):rn(e,t,n);break;default:rn(e,t,n)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pg),t.forEach(function(r){var l=Sg.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,St=!1;break e;case 3:Fe=i.stateNode.containerInfo,St=!0;break e;case 4:Fe=i.stateNode.containerInfo,St=!0;break e}i=i.return}if(Fe===null)throw Error(U(160));ih(a,o,l),Fe=null,St=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){we(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}function ch(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),_t(e),r&4){try{js(3,e,e.return),va(3,e)}catch(N){we(e,e.return,N)}try{js(5,e,e.return)}catch(N){we(e,e.return,N)}}break;case 1:jt(t,e),_t(e),r&512&&n!==null&&wr(n,n.return);break;case 5:if(jt(t,e),_t(e),r&512&&n!==null&&wr(n,n.return),e.flags&32){var l=e.stateNode;try{Ss(l,"")}catch(N){we(e,e.return,N)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&_d(l,a),mo(i,o);var u=mo(i,a);for(o=0;o<c.length;o+=2){var g=c[o],m=c[o+1];g==="style"?Id(l,m):g==="dangerouslySetInnerHTML"?Td(l,m):g==="children"?Ss(l,m):vi(l,g,m,u)}switch(i){case"input":co(l,a);break;case"textarea":zd(l,a);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Nr(l,!!a.multiple,v,!1):x!==!!a.multiple&&(a.defaultValue!=null?Nr(l,!!a.multiple,a.defaultValue,!0):Nr(l,!!a.multiple,a.multiple?[]:"",!1))}l[Ts]=a}catch(N){we(e,e.return,N)}}break;case 6:if(jt(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(U(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(N){we(e,e.return,N)}}break;case 3:if(jt(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(N){we(e,e.return,N)}break;case 4:jt(t,e),_t(e);break;case 13:jt(t,e),_t(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(Ji=Ne())),r&4&&Su(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||g,jt(t,e),Le=u):jt(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(Y=e,g=e.child;g!==null;){for(m=Y=g;Y!==null;){switch(x=Y,v=x.child,x.tag){case 0:case 11:case 14:case 15:js(4,x,x.return);break;case 1:wr(x,x.return);var j=x.stateNode;if(typeof j.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(N){we(r,n,N)}}break;case 5:wr(x,x.return);break;case 22:if(x.memoizedState!==null){Cu(m);continue}}v!==null?(v.return=x,Y=v):Cu(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{l=m.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Fd("display",o))}catch(N){we(e,e.return,N)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(N){we(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:jt(t,e),_t(e),r&4&&Su(e);break;case 21:break;default:jt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(oh(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ss(l,""),r.flags&=-33);var a=Nu(e);qo(e,a,l);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Nu(e);Wo(e,i,o);break;default:throw Error(U(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gg(e,t,n){Y=e,uh(e)}function uh(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var l=Y,a=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||fl;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||Le;i=fl;var u=Le;if(fl=o,(Le=c)&&!u)for(Y=l;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?Eu(l):c!==null?(c.return=o,Y=c):Eu(l);for(;a!==null;)Y=a,uh(a),a=a.sibling;Y=l,fl=i,Le=u}ku(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,Y=a):ku(e)}}function ku(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||va(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&cu(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cu(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Ps(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Le||t.flags&512&&Bo(t)}catch(x){we(t,t.return,x)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Cu(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Eu(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{va(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){we(t,l,c)}}var a=t.return;try{Bo(t)}catch(c){we(t,a,c)}break;case 5:var o=t.return;try{Bo(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){Y=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Y=i;break}Y=t.return}}var xg=Math.ceil,Xl=nn.ReactCurrentDispatcher,Yi=nn.ReactCurrentOwner,pt=nn.ReactCurrentBatchConfig,se=0,ze=null,Se=null,Ie=0,rt=0,br=Fn(0),Pe=0,Ls=null,sr=0,ja=0,Zi=0,ws=null,Ze=null,Ji=0,Vr=1/0,$t=null,ea=!1,Ho=null,Cn=null,hl=!1,jn=null,ta=0,bs=0,Vo=null,Ml=-1,_l=0;function qe(){return se&6?Ne():Ml!==-1?Ml:Ml=Ne()}function En(e){return e.mode&1?se&2&&Ie!==0?Ie&-Ie:eg.transition!==null?(_l===0&&(_l=Vd()),_l):(e=ce,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function Et(e,t,n,r){if(50<bs)throw bs=0,Vo=null,Error(U(185));Vs(e,n,r),(!(se&2)||e!==ze)&&(e===ze&&(!(se&2)&&(ja|=n),Pe===4&&cn(e,Ie)),tt(e,r),n===1&&se===0&&!(t.mode&1)&&(Vr=Ne()+500,ga&&In()))}function tt(e,t){var n=e.callbackNode;em(e,t);var r=Dl(e,e===ze?Ie:0);if(r===0)n!==null&&Ac(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ac(n),t===1)e.tag===0?Xm(Pu.bind(null,e)):jf(Pu.bind(null,e)),Gm(function(){!(se&6)&&In()}),n=null;else{switch(Kd(r)){case 1:n=Si;break;case 4:n=qd;break;case 16:n=Ol;break;case 536870912:n=Hd;break;default:n=Ol}n=yh(n,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dh(e,t){if(Ml=-1,_l=0,se&6)throw Error(U(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Dl(e,e===ze?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=na(e,r);else{t=r;var l=se;se|=2;var a=hh();(ze!==e||Ie!==t)&&($t=null,Vr=Ne()+500,Xn(e,t));do try{jg();break}catch(i){fh(e,i)}while(!0);Oi(),Xl.current=a,se=l,Se!==null?t=0:(ze=null,Ie=0,t=Pe)}if(t!==0){if(t===2&&(l=jo(e),l!==0&&(r=l,t=Ko(e,l))),t===1)throw n=Ls,Xn(e,0),cn(e,r),tt(e,Ne()),n;if(t===6)cn(e,r);else{if(l=e.current.alternate,!(r&30)&&!yg(l)&&(t=na(e,r),t===2&&(a=jo(e),a!==0&&(r=a,t=Ko(e,a))),t===1))throw n=Ls,Xn(e,0),cn(e,r),tt(e,Ne()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Ln(e,Ze,$t);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Ji+500-Ne(),10<t)){if(Dl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Po(Ln.bind(null,e,Ze,$t),t);break}Ln(e,Ze,$t);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-Ct(r);a=1<<o,o=t[o],o>l&&(l=o),r&=~a}if(r=l,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xg(r/1960))-r,10<r){e.timeoutHandle=Po(Ln.bind(null,e,Ze,$t),r);break}Ln(e,Ze,$t);break;case 5:Ln(e,Ze,$t);break;default:throw Error(U(329))}}}return tt(e,Ne()),e.callbackNode===n?dh.bind(null,e):null}function Ko(e,t){var n=ws;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=na(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Go(t)),e}function Go(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function yg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Pt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Zi,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Pu(e){if(se&6)throw Error(U(327));Pr();var t=Dl(e,0);if(!(t&1))return tt(e,Ne()),null;var n=na(e,t);if(e.tag!==0&&n===2){var r=jo(e);r!==0&&(t=r,n=Ko(e,r))}if(n===1)throw n=Ls,Xn(e,0),cn(e,t),tt(e,Ne()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Ze,$t),tt(e,Ne()),null}function Xi(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Vr=Ne()+500,ga&&In())}}function lr(e){jn!==null&&jn.tag===0&&!(se&6)&&Pr();var t=se;se|=1;var n=pt.transition,r=ce;try{if(pt.transition=null,ce=1,e)return e()}finally{ce=r,pt.transition=n,se=t,!(se&6)&&In()}}function ec(){rt=br.current,he(br)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Km(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Fi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:qr(),he(Xe),he(Ue),Bi();break;case 5:Qi(r);break;case 4:qr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:Di(r.type._context);break;case 22:case 23:ec()}n=n.return}if(ze=e,Se=e=Pn(e.current,null),Ie=rt=t,Pe=0,Ls=null,Zi=ja=sr=0,Ze=ws=null,$n!==null){for(t=0;t<$n.length;t++)if(n=$n[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=l,r.next=o}n.pending=r}$n=null}return e}function fh(e,t){do{var n=Se;try{if(Oi(),Cl.current=Jl,Zl){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Zl=!1}if(rr=0,_e=Ce=ye=null,vs=!1,As=0,Yi.current=null,n===null||n.return===null){Pe=1,Ls=t,Se=null;break}e:{var a=e,o=n.return,i=n,c=t;if(t=Ie,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,g=i,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=mu(o);if(v!==null){v.flags&=-257,gu(v,o,i,a,t),v.mode&1&&pu(a,u,t),t=v,c=u;var j=t.updateQueue;if(j===null){var N=new Set;N.add(c),t.updateQueue=N}else j.add(c);break e}else{if(!(t&1)){pu(a,u,t),tc();break e}c=Error(U(426))}}else if(ge&&i.mode&1){var C=mu(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),gu(C,o,i,a,t),Ii(Hr(c,i));break e}}a=c=Hr(c,i),Pe!==4&&(Pe=2),ws===null?ws=[a]:ws.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=Gf(a,c,t);iu(a,f);break e;case 1:i=c;var d=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Cn===null||!Cn.has(h)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=Yf(a,i,t);iu(a,y);break e}}a=a.return}while(a!==null)}mh(n)}catch(E){t=E,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function hh(){var e=Xl.current;return Xl.current=Jl,e===null?Jl:e}function tc(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),ze===null||!(sr&268435455)&&!(ja&268435455)||cn(ze,Ie)}function na(e,t){var n=se;se|=2;var r=hh();(ze!==e||Ie!==t)&&($t=null,Xn(e,t));do try{vg();break}catch(l){fh(e,l)}while(!0);if(Oi(),se=n,Xl.current=r,Se!==null)throw Error(U(261));return ze=null,Ie=0,Pe}function vg(){for(;Se!==null;)ph(Se)}function jg(){for(;Se!==null&&!qp();)ph(Se)}function ph(e){var t=xh(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?mh(e):Se=t,Yi.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hg(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Se=null;return}}else if(n=fg(n,t,rt),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Pe===0&&(Pe=5)}function Ln(e,t,n){var r=ce,l=pt.transition;try{pt.transition=null,ce=1,wg(e,t,n,r)}finally{pt.transition=l,ce=r}return null}function wg(e,t,n,r){do Pr();while(jn!==null);if(se&6)throw Error(U(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(tm(e,a),e===ze&&(Se=ze=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,yh(Ol,function(){return Pr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=pt.transition,pt.transition=null;var o=ce;ce=1;var i=se;se|=4,Yi.current=null,mg(e,n),ch(n,e),$m(Co),Ll=!!ko,Co=ko=null,e.current=n,gg(n),Hp(),se=i,ce=o,pt.transition=a}else e.current=n;if(hl&&(hl=!1,jn=e,ta=l),a=e.pendingLanes,a===0&&(Cn=null),Gp(n.stateNode),tt(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ea)throw ea=!1,e=Ho,Ho=null,e;return ta&1&&e.tag!==0&&Pr(),a=e.pendingLanes,a&1?e===Vo?bs++:(bs=0,Vo=e):bs=0,In(),null}function Pr(){if(jn!==null){var e=Kd(ta),t=pt.transition,n=ce;try{if(pt.transition=null,ce=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,ta=0,se&6)throw Error(U(331));var l=se;for(se|=4,Y=e.current;Y!==null;){var a=Y,o=a.child;if(Y.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(Y=u;Y!==null;){var g=Y;switch(g.tag){case 0:case 11:case 15:js(8,g,a)}var m=g.child;if(m!==null)m.return=g,Y=m;else for(;Y!==null;){g=Y;var x=g.sibling,v=g.return;if(ah(g),g===u){Y=null;break}if(x!==null){x.return=v,Y=x;break}Y=v}}}var j=a.alternate;if(j!==null){var N=j.child;if(N!==null){j.child=null;do{var C=N.sibling;N.sibling=null,N=C}while(N!==null)}}Y=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Y=o;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:js(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,Y=f;break e}Y=a.return}}var d=e.current;for(Y=d;Y!==null;){o=Y;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,Y=h;else e:for(o=d;Y!==null;){if(i=Y,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:va(9,i)}}catch(E){we(i,i.return,E)}if(i===o){Y=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,Y=y;break e}Y=i.return}}if(se=l,In(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(da,e)}catch{}r=!0}return r}finally{ce=n,pt.transition=t}}return!1}function Mu(e,t,n){t=Hr(n,t),t=Gf(e,t,1),e=kn(e,t,1),t=qe(),e!==null&&(Vs(e,1,t),tt(e,t))}function we(e,t,n){if(e.tag===3)Mu(e,e,n);else for(;t!==null;){if(t.tag===3){Mu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){e=Hr(n,e),e=Yf(t,e,1),t=kn(t,e,1),e=qe(),t!==null&&(Vs(t,1,e),tt(t,e));break}}t=t.return}}function bg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ie&n)===n&&(Pe===4||Pe===3&&(Ie&130023424)===Ie&&500>Ne()-Ji?Xn(e,0):Zi|=n),tt(e,t)}function gh(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var n=qe();e=Xt(e,t),e!==null&&(Vs(e,t,n),tt(e,n))}function Ng(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gh(e,n)}function Sg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),gh(e,n)}var xh;xh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,dg(e,t,n);Je=!!(e.flags&131072)}else Je=!1,ge&&t.flags&1048576&&wf(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pl(e,t),e=t.pendingProps;var l=Qr(t,Ue.current);Er(t,n),l=qi(null,t,r,e,l,n);var a=Hi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(a=!0,Wl(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ui(t),l.updater=ya,t.stateNode=l,l._reactInternals=t,Io(t,r,e,n),t=Do(null,t,r,!0,a,n)):(t.tag=0,ge&&a&&Ti(t),Be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Cg(r),e=wt(r,e),l){case 0:t=Oo(null,t,r,e,n);break e;case 1:t=vu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,wt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),Oo(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),vu(e,t,r,l,n);case 3:e:{if(eh(t),e===null)throw Error(U(387));r=t.pendingProps,a=t.memoizedState,l=a.element,Ef(e,t),Gl(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Hr(Error(U(423)),t),t=ju(e,t,r,n,l);break e}else if(r!==l){l=Hr(Error(U(424)),t),t=ju(e,t,r,n,l);break e}else for(st=Sn(t.stateNode.containerInfo.firstChild),lt=t,ge=!0,kt=null,n=kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===l){t=en(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Pf(t),e===null&&Ro(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,Eo(r,l)?o=null:a!==null&&Eo(r,a)&&(t.flags|=32),Xf(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&Ro(t),null;case 13:return th(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),xu(e,t,r,l,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,de(Vl,r._currentValue),r._currentValue=o,a!==null)if(Pt(a.value,o)){if(a.children===l.children&&!Xe.current){t=en(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Gt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),To(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),To(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Er(t,n),l=mt(l),r=r(l),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,l=wt(r,t.pendingProps),l=wt(r.type,l),yu(e,t,r,l,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),Pl(e,t),t.tag=1,et(r)?(e=!0,Wl(t)):e=!1,Er(t,n),Kf(t,r,l),Io(t,r,l,n),Do(null,t,r,!0,e,n);case 19:return nh(e,t,n);case 22:return Jf(e,t,n)}throw Error(U(156,t.tag))};function yh(e,t){return Wd(e,t)}function kg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new kg(e,t,n,r)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cg(e){if(typeof e=="function")return nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wi)return 11;if(e===bi)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,l,a){var o=2;if(r=e,typeof e=="function")nc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fr:return er(n.children,l,a,t);case ji:o=8,l|=8;break;case so:return e=ht(12,n,t,l|2),e.elementType=so,e.lanes=a,e;case lo:return e=ht(13,n,t,l),e.elementType=lo,e.lanes=a,e;case ao:return e=ht(19,n,t,l),e.elementType=ao,e.lanes=a,e;case Ed:return wa(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kd:o=10;break e;case Cd:o=9;break e;case wi:o=11;break e;case bi:o=14;break e;case ln:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ht(o,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function er(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function wa(e,t,n,r){return e=ht(22,e,r,t),e.elementType=Ed,e.lanes=n,e.stateNode={isHidden:!1},e}function Xa(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function eo(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function rc(e,t,n,r,l,a,o,i,c){return e=new Eg(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ht(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ui(a),e}function Pg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vh(e){if(!e)return zn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(et(n))return vf(e,n,t)}return t}function jh(e,t,n,r,l,a,o,i,c){return e=rc(n,r,!0,e,l,a,o,i,c),e.context=vh(null),n=e.current,r=qe(),l=En(n),a=Gt(r,l),a.callback=t??null,kn(n,a,l),e.current.lanes=l,Vs(e,l,r),tt(e,r),e}function ba(e,t,n,r){var l=t.current,a=qe(),o=En(l);return n=vh(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(l,t,o),e!==null&&(Et(e,l,o,a),kl(e,l,o)),o}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sc(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function Mg(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function lc(e){this._internalRoot=e}Na.prototype.render=lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));ba(e,t,null,null)};Na.prototype.unmount=lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){ba(null,e,null,null)}),t[Jt]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&Xd(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function _g(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=ra(o);a.call(u)}}var o=jh(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=o,e[Jt]=o.current,zs(e.nodeType===8?e.parentNode:e),lr(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var u=ra(c);i.call(u)}}var c=rc(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=c,e[Jt]=c.current,zs(e.nodeType===8?e.parentNode:e),lr(function(){ba(t,c,n,r)}),c}function ka(e,t,n,r,l){var a=n._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var i=l;l=function(){var c=ra(o);i.call(c)}}ba(t,o,e,l)}else o=_g(n,t,e,l,r);return ra(o)}Gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(ki(t,n|1),tt(t,Ne()),!(se&6)&&(Vr=Ne()+500,In()))}break;case 13:lr(function(){var r=Xt(e,1);if(r!==null){var l=qe();Et(r,e,1,l)}}),sc(e,1)}};Ci=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=qe();Et(t,e,134217728,n)}sc(e,134217728)}};Yd=function(e){if(e.tag===13){var t=En(e),n=Xt(e,t);if(n!==null){var r=qe();Et(n,e,t,r)}sc(e,t)}};Zd=function(){return ce};Jd=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};xo=function(e,t,n){switch(t){case"input":if(co(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ma(r);if(!l)throw Error(U(90));Md(r),co(r,l)}}}break;case"textarea":zd(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};Dd=Xi;Ld=lr;var zg={usingClientEntryPoint:!1,Events:[Gs,gr,ma,Ad,Od,Xi]},is={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rg={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Mg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{da=pl.inject(Rg),At=pl}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(U(200));return Pg(e,t,null,n)};ot.createRoot=function(e,t){if(!ac(e))throw Error(U(299));var n=!1,r="",l=wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=rc(e,1,!1,null,null,n,!1,r,l),e[Jt]=t.current,zs(e.nodeType===8?e.parentNode:e),new lc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return lr(e)};ot.hydrate=function(e,t,n){if(!Sa(t))throw Error(U(200));return ka(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!ac(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",o=wh;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jh(t,null,e,1,n??null,l,!1,a,o),e[Jt]=t.current,zs(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Na(t)};ot.render=function(e,t,n){if(!Sa(t))throw Error(U(200));return ka(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(U(40));return e._reactRootContainer?(lr(function(){ka(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};ot.unstable_batchedUpdates=Xi;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sa(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return ka(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),wd.exports=ot;var oc=wd.exports,Nh,Ru=oc;Nh=Ru.createRoot,Ru.hydrateRoot;var es=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},un,fi,Xu,Fg=(Xu=class{constructor(){J(this,un,Tg);J(this,fi,!1)}setTimeoutProvider(e){H(this,un,e)}setTimeout(e,t){return w(this,un).setTimeout(e,t)}clearTimeout(e){w(this,un).clearTimeout(e)}setInterval(e,t){return w(this,un).setInterval(e,t)}clearInterval(e){w(this,un).clearInterval(e)}},un=new WeakMap,fi=new WeakMap,Xu),Bn=new Fg;function Ig(e){setTimeout(e,0)}var ar=typeof window>"u"||"Deno"in globalThis;function We(){}function Ag(e,t){return typeof e=="function"?e(t):e}function Yo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mn(e,t){return typeof e=="function"?e(t):e}function ut(e,t){return typeof e=="function"?e(t):e}function Tu(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:a,queryKey:o,stale:i}=e;if(o){if(r){if(t.queryHash!==ic(o,t.options))return!1}else if(!Us(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||l&&l!==t.state.fetchStatus||a&&!a(t))}function Fu(e,t){const{exact:n,status:r,predicate:l,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(or(t.options.mutationKey)!==or(a))return!1}else if(!Us(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function ic(e,t){return((t==null?void 0:t.queryKeyHashFn)||or)(e)}function or(e){return JSON.stringify(e,(t,n)=>Zo(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function Us(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Us(e[n],t[n])):!1}var Og=Object.prototype.hasOwnProperty;function kh(e,t){if(e===t)return e;const n=Iu(e)&&Iu(t);if(!n&&!(Zo(e)&&Zo(t)))return t;const l=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,i=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const g=n?u:a[u],m=e[g],x=t[g];if(m===x){i[g]=m,(n?u<l:Og.call(e,g))&&c++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){i[g]=x;continue}const v=kh(m,x);i[g]=v,v===m&&c++}return l===o&&c===l?e:i}function sa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Iu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zo(e){if(!Au(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Au(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Au(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dg(e){return new Promise(t=>{Bn.setTimeout(t,e)})}function Jo(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kh(e,t):t}function Lg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ug(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var cc=Symbol();function Ch(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Eh(e,t){return typeof e=="function"?e(...t):!!e}function $g(e,t,n){let r=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??(l=t()),r||(r=!0,l.aborted?n():l.addEventListener("abort",n,{once:!0})),l)}),e}var Wn,dn,Mr,ed,Qg=(ed=class extends es{constructor(){super();J(this,Wn);J(this,dn);J(this,Mr);H(this,Mr,t=>{if(!ar&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){w(this,dn)||this.setEventListener(w(this,Mr))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,dn))==null||t.call(this),H(this,dn,void 0))}setEventListener(t){var n;H(this,Mr,t),(n=w(this,dn))==null||n.call(this),H(this,dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){w(this,Wn)!==t&&(H(this,Wn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof w(this,Wn)=="boolean"?w(this,Wn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wn=new WeakMap,dn=new WeakMap,Mr=new WeakMap,ed),uc=new Qg;function Xo(){let e,t;const n=new Promise((l,a)=>{e=l,t=a});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}var Bg=Ig;function Wg(){let e=[],t=0,n=i=>{i()},r=i=>{i()},l=Bg;const a=i=>{t?e.push(i):l(()=>{n(i)})},o=()=>{const i=e;e=[],i.length&&l(()=>{r(()=>{i.forEach(c=>{n(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||o()}return c},batchCalls:i=>(...c)=>{a(()=>{i(...c)})},schedule:a,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{l=i}}}var Ee=Wg(),_r,fn,zr,td,qg=(td=class extends es{constructor(){super();J(this,_r,!0);J(this,fn);J(this,zr);H(this,zr,t=>{if(!ar&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){w(this,fn)||this.setEventListener(w(this,zr))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,fn))==null||t.call(this),H(this,fn,void 0))}setEventListener(t){var n;H(this,zr,t),(n=w(this,fn))==null||n.call(this),H(this,fn,t(this.setOnline.bind(this)))}setOnline(t){w(this,_r)!==t&&(H(this,_r,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return w(this,_r)}},_r=new WeakMap,fn=new WeakMap,zr=new WeakMap,td),la=new qg;function Hg(e){return Math.min(1e3*2**e,3e4)}function Ph(e){return(e??"online")==="online"?la.isOnline():!0}var ei=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mh(e){let t=!1,n=0,r;const l=Xo(),a=()=>l.status!=="pending",o=N=>{var C;if(!a()){const f=new ei(N);x(f),(C=e.onCancel)==null||C.call(e,f)}},i=()=>{t=!0},c=()=>{t=!1},u=()=>uc.isFocused()&&(e.networkMode==="always"||la.isOnline())&&e.canRun(),g=()=>Ph(e.networkMode)&&e.canRun(),m=N=>{a()||(r==null||r(),l.resolve(N))},x=N=>{a()||(r==null||r(),l.reject(N))},v=()=>new Promise(N=>{var C;r=f=>{(a()||u())&&N(f)},(C=e.onPause)==null||C.call(e)}).then(()=>{var N;r=void 0,a()||(N=e.onContinue)==null||N.call(e)}),j=()=>{if(a())return;let N;const C=n===0?e.initialPromise:void 0;try{N=C??e.fn()}catch(f){N=Promise.reject(f)}Promise.resolve(N).then(m).catch(f=>{var S;if(a())return;const d=e.retry??(ar?0:3),h=e.retryDelay??Hg,y=typeof h=="function"?h(n,f):h,E=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,f);if(t||!E){x(f);return}n++,(S=e.onFail)==null||S.call(e,n,f),Dg(y).then(()=>u()?void 0:v()).then(()=>{t?x(f):j()})})};return{promise:l,status:()=>l.status,cancel:o,continue:()=>(r==null||r(),l),cancelRetry:i,continueRetry:c,canStart:g,start:()=>(g()?j():v().then(j),l)}}var qn,nd,_h=(nd=class{constructor(){J(this,qn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yo(this.gcTime)&&H(this,qn,Bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ar?1/0:5*60*1e3))}clearGcTimeout(){w(this,qn)&&(Bn.clearTimeout(w(this,qn)),H(this,qn,void 0))}},qn=new WeakMap,nd),Hn,Rr,ct,Vn,Me,$s,Kn,bt,Ut,rd,Vg=(rd=class extends _h{constructor(t){super();J(this,bt);J(this,Hn);J(this,Rr);J(this,ct);J(this,Vn);J(this,Me);J(this,$s);J(this,Kn);H(this,Kn,!1),H(this,$s,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Vn,t.client),H(this,ct,w(this,Vn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,Hn,Du(this.options)),this.state=t.state??w(this,Hn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,Me))==null?void 0:t.promise}setOptions(t){if(this.options={...w(this,$s),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Du(this.options);n.data!==void 0&&(this.setState(Ou(n.data,n.dataUpdatedAt)),H(this,Hn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,ct).remove(this)}setData(t,n){const r=Jo(this.state.data,t,this.options);return ee(this,bt,Ut).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ee(this,bt,Ut).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,l;const n=(r=w(this,Me))==null?void 0:r.promise;return(l=w(this,Me))==null||l.cancel(t),n?n.then(We).catch(We):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Hn))}isActive(){return this.observers.some(t=>ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Sh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=w(this,Me))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=w(this,Me))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(w(this,Me)&&(w(this,Kn)?w(this,Me).cancel({revert:!0}):w(this,Me).cancelRetry()),this.scheduleGc()),w(this,ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,bt,Ut).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,g,m,x,v,j,N,C,f,d,h;if(this.state.fetchStatus!=="idle"&&((c=w(this,Me))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(w(this,Me))return w(this,Me).continueRetry(),w(this,Me).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(E=>E.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,l=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(H(this,Kn,!0),r.signal)})},a=()=>{const y=Ch(this.options,n),S=(()=>{const R={client:w(this,Vn),queryKey:this.queryKey,meta:this.meta};return l(R),R})();return H(this,Kn,!1),this.options.persister?this.options.persister(y,S,this):y(S)},i=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:w(this,Vn),state:this.state,fetchFn:a};return l(y),y})();(u=this.options.behavior)==null||u.onFetch(i,this),H(this,Rr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=i.fetchOptions)==null?void 0:g.meta))&&ee(this,bt,Ut).call(this,{type:"fetch",meta:(m=i.fetchOptions)==null?void 0:m.meta}),H(this,Me,Mh({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,onCancel:y=>{y instanceof ei&&y.revert&&this.setState({...w(this,Rr),fetchStatus:"idle"}),r.abort()},onFail:(y,E)=>{ee(this,bt,Ut).call(this,{type:"failed",failureCount:y,error:E})},onPause:()=>{ee(this,bt,Ut).call(this,{type:"pause"})},onContinue:()=>{ee(this,bt,Ut).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}));try{const y=await w(this,Me).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(v=(x=w(this,ct).config).onSuccess)==null||v.call(x,y,this),(N=(j=w(this,ct).config).onSettled)==null||N.call(j,y,this.state.error,this),y}catch(y){if(y instanceof ei){if(y.silent)return w(this,Me).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw ee(this,bt,Ut).call(this,{type:"error",error:y}),(f=(C=w(this,ct).config).onError)==null||f.call(C,y,this),(h=(d=w(this,ct).config).onSettled)==null||h.call(d,this.state.data,y,this),y}finally{this.scheduleGc()}}},Hn=new WeakMap,Rr=new WeakMap,ct=new WeakMap,Vn=new WeakMap,Me=new WeakMap,$s=new WeakMap,Kn=new WeakMap,bt=new WeakSet,Ut=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zh(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...Ou(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,Rr,t.manual?l:void 0),l;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ee.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),w(this,ct).notify({query:this,type:"updated",action:t})})},rd);function zh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ph(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ou(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Du(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ge,ne,Qs,$e,Gn,Tr,Bt,hn,Bs,Fr,Ir,Yn,Zn,pn,Ar,ie,hs,ti,ni,ri,si,li,ai,oi,Rh,sd,Kg=(sd=class extends es{constructor(t,n){super();J(this,ie);J(this,Ge);J(this,ne);J(this,Qs);J(this,$e);J(this,Gn);J(this,Tr);J(this,Bt);J(this,hn);J(this,Bs);J(this,Fr);J(this,Ir);J(this,Yn);J(this,Zn);J(this,pn);J(this,Ar,new Set);this.options=n,H(this,Ge,t),H(this,hn,null),H(this,Bt,Xo()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,ne).addObserver(this),Lu(w(this,ne),this.options)?ee(this,ie,hs).call(this):this.updateResult(),ee(this,ie,si).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ii(w(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ii(w(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,ie,li).call(this),ee(this,ie,ai).call(this),w(this,ne).removeObserver(this)}setOptions(t){const n=this.options,r=w(this,ne);if(this.options=w(this,Ge).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ut(this.options.enabled,w(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,ie,oi).call(this),w(this,ne).setOptions(this.options),n._defaulted&&!sa(this.options,n)&&w(this,Ge).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,ne),observer:this});const l=this.hasListeners();l&&Uu(w(this,ne),r,this.options,n)&&ee(this,ie,hs).call(this),this.updateResult(),l&&(w(this,ne)!==r||ut(this.options.enabled,w(this,ne))!==ut(n.enabled,w(this,ne))||Mn(this.options.staleTime,w(this,ne))!==Mn(n.staleTime,w(this,ne)))&&ee(this,ie,ti).call(this);const a=ee(this,ie,ni).call(this);l&&(w(this,ne)!==r||ut(this.options.enabled,w(this,ne))!==ut(n.enabled,w(this,ne))||a!==w(this,pn))&&ee(this,ie,ri).call(this,a)}getOptimisticResult(t){const n=w(this,Ge).getQueryCache().build(w(this,Ge),t),r=this.createResult(n,t);return Yg(this,r)&&(H(this,$e,r),H(this,Tr,this.options),H(this,Gn,w(this,ne).state)),r}getCurrentResult(){return w(this,$e)}trackResult(t,n){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),n==null||n(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&w(this,Bt).status==="pending"&&w(this,Bt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){w(this,Ar).add(t)}getCurrentQuery(){return w(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=w(this,Ge).defaultQueryOptions(t),r=w(this,Ge).getQueryCache().build(w(this,Ge),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ee(this,ie,hs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,$e)))}createResult(t,n){var P;const r=w(this,ne),l=this.options,a=w(this,$e),o=w(this,Gn),i=w(this,Tr),u=t!==r?t.state:w(this,Qs),{state:g}=t;let m={...g},x=!1,v;if(n._optimisticResults){const _=this.hasListeners(),W=!_&&Lu(t,n),A=_&&Uu(t,r,n,l);(W||A)&&(m={...m,...zh(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:N,status:C}=m;v=m.data;let f=!1;if(n.placeholderData!==void 0&&v===void 0&&C==="pending"){let _;a!=null&&a.isPlaceholderData&&n.placeholderData===(i==null?void 0:i.placeholderData)?(_=a.data,f=!0):_=typeof n.placeholderData=="function"?n.placeholderData((P=w(this,Ir))==null?void 0:P.state.data,w(this,Ir)):n.placeholderData,_!==void 0&&(C="success",v=Jo(a==null?void 0:a.data,_,n),x=!0)}if(n.select&&v!==void 0&&!f)if(a&&v===(o==null?void 0:o.data)&&n.select===w(this,Bs))v=w(this,Fr);else try{H(this,Bs,n.select),v=n.select(v),v=Jo(a==null?void 0:a.data,v,n),H(this,Fr,v),H(this,hn,null)}catch(_){H(this,hn,_)}w(this,hn)&&(j=w(this,hn),v=w(this,Fr),N=Date.now(),C="error");const d=m.fetchStatus==="fetching",h=C==="pending",y=C==="error",E=h&&d,S=v!==void 0,I={status:C,fetchStatus:m.fetchStatus,isPending:h,isSuccess:C==="success",isError:y,isInitialLoading:E,isLoading:E,data:v,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!h,isLoadingError:y&&!S,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:y&&S,isStale:dc(t,n),refetch:this.refetch,promise:w(this,Bt),isEnabled:ut(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const _=T=>{I.status==="error"?T.reject(I.error):I.data!==void 0&&T.resolve(I.data)},W=()=>{const T=H(this,Bt,I.promise=Xo());_(T)},A=w(this,Bt);switch(A.status){case"pending":t.queryHash===r.queryHash&&_(A);break;case"fulfilled":(I.status==="error"||I.data!==A.value)&&W();break;case"rejected":(I.status!=="error"||I.error!==A.reason)&&W();break}}return I}updateResult(){const t=w(this,$e),n=this.createResult(w(this,ne),this.options);if(H(this,Gn,w(this,ne).state),H(this,Tr,this.options),w(this,Gn).data!==void 0&&H(this,Ir,w(this,ne)),sa(n,t))return;H(this,$e,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,a=typeof l=="function"?l():l;if(a==="all"||!a&&!w(this,Ar).size)return!0;const o=new Set(a??w(this,Ar));return this.options.throwOnError&&o.add("error"),Object.keys(w(this,$e)).some(i=>{const c=i;return w(this,$e)[c]!==t[c]&&o.has(c)})};ee(this,ie,Rh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,ie,si).call(this)}},Ge=new WeakMap,ne=new WeakMap,Qs=new WeakMap,$e=new WeakMap,Gn=new WeakMap,Tr=new WeakMap,Bt=new WeakMap,hn=new WeakMap,Bs=new WeakMap,Fr=new WeakMap,Ir=new WeakMap,Yn=new WeakMap,Zn=new WeakMap,pn=new WeakMap,Ar=new WeakMap,ie=new WeakSet,hs=function(t){ee(this,ie,oi).call(this);let n=w(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(We)),n},ti=function(){ee(this,ie,li).call(this);const t=Mn(this.options.staleTime,w(this,ne));if(ar||w(this,$e).isStale||!Yo(t))return;const r=Sh(w(this,$e).dataUpdatedAt,t)+1;H(this,Yn,Bn.setTimeout(()=>{w(this,$e).isStale||this.updateResult()},r))},ni=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,ne)):this.options.refetchInterval)??!1},ri=function(t){ee(this,ie,ai).call(this),H(this,pn,t),!(ar||ut(this.options.enabled,w(this,ne))===!1||!Yo(w(this,pn))||w(this,pn)===0)&&H(this,Zn,Bn.setInterval(()=>{(this.options.refetchIntervalInBackground||uc.isFocused())&&ee(this,ie,hs).call(this)},w(this,pn)))},si=function(){ee(this,ie,ti).call(this),ee(this,ie,ri).call(this,ee(this,ie,ni).call(this))},li=function(){w(this,Yn)&&(Bn.clearTimeout(w(this,Yn)),H(this,Yn,void 0))},ai=function(){w(this,Zn)&&(Bn.clearInterval(w(this,Zn)),H(this,Zn,void 0))},oi=function(){const t=w(this,Ge).getQueryCache().build(w(this,Ge),this.options);if(t===w(this,ne))return;const n=w(this,ne);H(this,ne,t),H(this,Qs,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Rh=function(t){Ee.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(w(this,$e))}),w(this,Ge).getQueryCache().notify({query:w(this,ne),type:"observerResultsUpdated"})})},sd);function Gg(e,t){return ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Lu(e,t){return Gg(e,t)||e.state.data!==void 0&&ii(e,t,t.refetchOnMount)}function ii(e,t,n){if(ut(t.enabled,e)!==!1&&Mn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&dc(e,t)}return!1}function Uu(e,t,n,r){return(e!==t||ut(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dc(e,n)}function dc(e,t){return ut(t.enabled,e)!==!1&&e.isStaleByTime(Mn(t.staleTime,e))}function Yg(e,t){return!sa(e.getCurrentResult(),t)}function $u(e){return{onFetch:(t,n)=>{var g,m,x,v,j;const r=t.options,l=(x=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let N=!1;const C=h=>{$g(h,()=>t.signal,()=>N=!0)},f=Ch(t.options,t.fetchOptions),d=async(h,y,E)=>{if(N)return Promise.reject();if(y==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:y,direction:E?"backward":"forward",meta:t.options.meta};return C(W),W})(),I=await f(R),{maxPages:P}=t.options,_=E?Ug:Lg;return{pages:_(h.pages,I,P),pageParams:_(h.pageParams,y,P)}};if(l&&a.length){const h=l==="backward",y=h?Zg:Qu,E={pages:a,pageParams:o},S=y(r,E);i=await d(E,S,h)}else{const h=e??a.length;do{const y=c===0?o[0]??r.initialPageParam:Qu(r,i);if(c>0&&y==null)break;i=await d(i,y),c++}while(c<h)}return i};t.options.persister?t.fetchFn=()=>{var N,C;return(C=(N=t.options).persister)==null?void 0:C.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Qu(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Zg(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ws,Rt,Qe,Jn,Tt,sn,ld,Jg=(ld=class extends _h{constructor(t){super();J(this,Tt);J(this,Ws);J(this,Rt);J(this,Qe);J(this,Jn);H(this,Ws,t.client),this.mutationId=t.mutationId,H(this,Qe,t.mutationCache),H(this,Rt,[]),this.state=t.state||Th(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,Rt).includes(t)||(w(this,Rt).push(t),this.clearGcTimeout(),w(this,Qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,Rt,w(this,Rt).filter(n=>n!==t)),this.scheduleGc(),w(this,Qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():w(this,Qe).remove(this))}continue(){var t;return((t=w(this,Jn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,c,u,g,m,x,v,j,N,C,f,d,h,y,E,S,R,I,P;const n=()=>{ee(this,Tt,sn).call(this,{type:"continue"})},r={client:w(this,Ws),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,Jn,Mh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(_,W)=>{ee(this,Tt,sn).call(this,{type:"failed",failureCount:_,error:W})},onPause:()=>{ee(this,Tt,sn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,Qe).canRun(this)}));const l=this.state.status==="pending",a=!w(this,Jn).canStart();try{if(l)n();else{ee(this,Tt,sn).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(o=w(this,Qe).config).onMutate)==null?void 0:i.call(o,t,this,r));const W=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));W!==this.state.context&&ee(this,Tt,sn).call(this,{type:"pending",context:W,variables:t,isPaused:a})}const _=await w(this,Jn).start();return await((m=(g=w(this,Qe).config).onSuccess)==null?void 0:m.call(g,_,t,this.state.context,this,r)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,_,t,this.state.context,r)),await((N=(j=w(this,Qe).config).onSettled)==null?void 0:N.call(j,_,null,this.state.variables,this.state.context,this,r)),await((f=(C=this.options).onSettled)==null?void 0:f.call(C,_,null,t,this.state.context,r)),ee(this,Tt,sn).call(this,{type:"success",data:_}),_}catch(_){try{await((h=(d=w(this,Qe).config).onError)==null?void 0:h.call(d,_,t,this.state.context,this,r))}catch(W){Promise.reject(W)}try{await((E=(y=this.options).onError)==null?void 0:E.call(y,_,t,this.state.context,r))}catch(W){Promise.reject(W)}try{await((R=(S=w(this,Qe).config).onSettled)==null?void 0:R.call(S,void 0,_,this.state.variables,this.state.context,this,r))}catch(W){Promise.reject(W)}try{await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,_,t,this.state.context,r))}catch(W){Promise.reject(W)}throw ee(this,Tt,sn).call(this,{type:"error",error:_}),_}finally{w(this,Qe).runNext(this)}}},Ws=new WeakMap,Rt=new WeakMap,Qe=new WeakMap,Jn=new WeakMap,Tt=new WeakSet,sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ee.batch(()=>{w(this,Rt).forEach(r=>{r.onMutationUpdate(t)}),w(this,Qe).notify({mutation:this,type:"updated",action:t})})},ld);function Th(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wt,Nt,qs,ad,Xg=(ad=class extends es{constructor(t={}){super();J(this,Wt);J(this,Nt);J(this,qs);this.config=t,H(this,Wt,new Set),H(this,Nt,new Map),H(this,qs,0)}build(t,n,r){const l=new Jg({client:t,mutationCache:this,mutationId:++Zs(this,qs)._,options:t.defaultMutationOptions(n),state:r});return this.add(l),l}add(t){w(this,Wt).add(t);const n=ml(t);if(typeof n=="string"){const r=w(this,Nt).get(n);r?r.push(t):w(this,Nt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(w(this,Wt).delete(t)){const n=ml(t);if(typeof n=="string"){const r=w(this,Nt).get(n);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&w(this,Nt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ml(t);if(typeof n=="string"){const r=w(this,Nt).get(n),l=r==null?void 0:r.find(a=>a.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const n=ml(t);if(typeof n=="string"){const l=(r=w(this,Nt).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{w(this,Wt).forEach(t=>{this.notify({type:"removed",mutation:t})}),w(this,Wt).clear(),w(this,Nt).clear()})}getAll(){return Array.from(w(this,Wt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fu(n,r))}findAll(t={}){return this.getAll().filter(n=>Fu(t,n))}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ee.batch(()=>Promise.all(t.map(n=>n.continue().catch(We))))}},Wt=new WeakMap,Nt=new WeakMap,qs=new WeakMap,ad);function ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var qt,mn,Ye,Ht,Yt,Rl,ci,od,ex=(od=class extends es{constructor(n,r){super();J(this,Yt);J(this,qt);J(this,mn);J(this,Ye);J(this,Ht);H(this,qt,n),this.setOptions(r),this.bindMethods(),ee(this,Yt,Rl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=w(this,qt).defaultMutationOptions(n),sa(this.options,r)||w(this,qt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,Ye),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&or(r.mutationKey)!==or(this.options.mutationKey)?this.reset():((l=w(this,Ye))==null?void 0:l.state.status)==="pending"&&w(this,Ye).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=w(this,Ye))==null||n.removeObserver(this)}onMutationUpdate(n){ee(this,Yt,Rl).call(this),ee(this,Yt,ci).call(this,n)}getCurrentResult(){return w(this,mn)}reset(){var n;(n=w(this,Ye))==null||n.removeObserver(this),H(this,Ye,void 0),ee(this,Yt,Rl).call(this),ee(this,Yt,ci).call(this)}mutate(n,r){var l;return H(this,Ht,r),(l=w(this,Ye))==null||l.removeObserver(this),H(this,Ye,w(this,qt).getMutationCache().build(w(this,qt),this.options)),w(this,Ye).addObserver(this),w(this,Ye).execute(n)}},qt=new WeakMap,mn=new WeakMap,Ye=new WeakMap,Ht=new WeakMap,Yt=new WeakSet,Rl=function(){var r;const n=((r=w(this,Ye))==null?void 0:r.state)??Th();H(this,mn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ci=function(n){Ee.batch(()=>{var r,l,a,o,i,c,u,g;if(w(this,Ht)&&this.hasListeners()){const m=w(this,mn).variables,x=w(this,mn).context,v={client:w(this,qt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(l=(r=w(this,Ht)).onSuccess)==null||l.call(r,n.data,m,x,v)}catch(j){Promise.reject(j)}try{(o=(a=w(this,Ht)).onSettled)==null||o.call(a,n.data,null,m,x,v)}catch(j){Promise.reject(j)}}else if((n==null?void 0:n.type)==="error"){try{(c=(i=w(this,Ht)).onError)==null||c.call(i,n.error,m,x,v)}catch(j){Promise.reject(j)}try{(g=(u=w(this,Ht)).onSettled)==null||g.call(u,void 0,n.error,m,x,v)}catch(j){Promise.reject(j)}}}this.listeners.forEach(m=>{m(w(this,mn))})})},od),Ft,id,tx=(id=class extends es{constructor(t={}){super();J(this,Ft);this.config=t,H(this,Ft,new Map)}build(t,n,r){const l=n.queryKey,a=n.queryHash??ic(l,n);let o=this.get(a);return o||(o=new Vg({client:t,queryKey:l,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(o)),o}add(t){w(this,Ft).has(t.queryHash)||(w(this,Ft).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=w(this,Ft).get(t.queryHash);n&&(t.destroy(),n===t&&w(this,Ft).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,Ft).get(t)}getAll(){return[...w(this,Ft).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tu(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Tu(t,r)):n}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ft=new WeakMap,id),je,gn,xn,Or,Dr,yn,Lr,Ur,cd,nx=(cd=class{constructor(e={}){J(this,je);J(this,gn);J(this,xn);J(this,Or);J(this,Dr);J(this,yn);J(this,Lr);J(this,Ur);H(this,je,e.queryCache||new tx),H(this,gn,e.mutationCache||new Xg),H(this,xn,e.defaultOptions||{}),H(this,Or,new Map),H(this,Dr,new Map),H(this,yn,0)}mount(){Zs(this,yn)._++,w(this,yn)===1&&(H(this,Lr,uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,je).onFocus())})),H(this,Ur,la.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,je).onOnline())})))}unmount(){var e,t;Zs(this,yn)._--,w(this,yn)===0&&((e=w(this,Lr))==null||e.call(this),H(this,Lr,void 0),(t=w(this,Ur))==null||t.call(this),H(this,Ur,void 0))}isFetching(e){return w(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,gn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=w(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=w(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Mn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return w(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=w(this,je).get(r.queryHash),a=l==null?void 0:l.state.data,o=Ag(t,a);if(o!==void 0)return w(this,je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ee.batch(()=>w(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=w(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=w(this,je);Ee.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=w(this,je);return Ee.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ee.batch(()=>w(this,je).findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(We).catch(We)}invalidateQueries(e,t={}){return Ee.batch(()=>(w(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ee.batch(()=>w(this,je).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let a=l.fetch(void 0,n);return n.throwOnError||(a=a.catch(We)),l.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(We)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=w(this,je).build(this,t);return n.isStaleByTime(Mn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(We).catch(We)}fetchInfiniteQuery(e){return e.behavior=$u(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(We).catch(We)}ensureInfiniteQueryData(e){return e.behavior=$u(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return la.isOnline()?w(this,gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,je)}getMutationCache(){return w(this,gn)}getDefaultOptions(){return w(this,xn)}setDefaultOptions(e){H(this,xn,e)}setQueryDefaults(e,t){w(this,Or).set(or(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,Or).values()],n={};return t.forEach(r=>{Us(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){w(this,Dr).set(or(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,Dr).values()],n={};return t.forEach(r=>{Us(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,xn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ic(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,xn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,je).clear(),w(this,gn).clear()}},je=new WeakMap,gn=new WeakMap,xn=new WeakMap,Or=new WeakMap,Dr=new WeakMap,yn=new WeakMap,Lr=new WeakMap,Ur=new WeakMap,cd),Fh=p.createContext(void 0),ke=e=>{const t=p.useContext(Fh);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},rx=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Fh.Provider,{value:e,children:t})),Ih=p.createContext(!1),sx=()=>p.useContext(Ih);Ih.Provider;function lx(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ax=p.createContext(lx()),ox=()=>p.useContext(ax),ix=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cx=e=>{p.useEffect(()=>{e.clearReset()},[e])},ux=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||Eh(n,[e.error,r])),dx=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>n(r(...l)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fx=(e,t)=>e.isLoading&&e.isFetching&&!t,hx=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Bu=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function px(e,t,n){var m,x,v,j,N;const r=sx(),l=ox(),a=ke(),o=a.defaultQueryOptions(e);(x=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,o),o._optimisticResults=r?"isRestoring":"optimistic",dx(o),ix(o,l),cx(l);const i=!a.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),g=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(C=>{const f=g?c.subscribe(Ee.batchCalls(C)):We;return c.updateResult(),f},[c,g]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),hx(o,u))throw Bu(o,c,l);if(ux({result:u,errorResetBoundary:l,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((j=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||j.call(v,o,u),o.experimental_prefetchInRender&&!ar&&fx(u,r)){const C=i?Bu(o,c,l):(N=a.getQueryCache().get(o.queryHash))==null?void 0:N.promise;C==null||C.catch(We).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function xt(e,t){return px(e,Kg)}function Re(e,t){const n=ke(),[r]=p.useState(()=>new ex(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const l=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(Ee.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,i)=>{r.mutate(o,i).catch(We)},[r]);if(l.error&&Eh(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:a,mutateAsync:l.mutate}}const mx="/api";async function le(e,t){const n=await fetch(`${mx}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!n.ok){const l=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(l.detail||`HTTP ${n.status}`)}const r=await n.text();if(r)return JSON.parse(r)}async function gx(){return le("/projects")}async function xx(e,t,n="manual"){return le("/projects",{method:"POST",body:JSON.stringify({name:e,path:t,spec_method:n})})}async function yx(e){await le(`/projects/${encodeURIComponent(e)}`,{method:"DELETE"})}async function vx(e,t){return le(`/projects/${encodeURIComponent(e)}/settings`,{method:"PATCH",body:JSON.stringify(t)})}async function jx(e){return le(`/projects/${encodeURIComponent(e)}/features`)}async function wx(e,t){return le(`/projects/${encodeURIComponent(e)}/features`,{method:"POST",body:JSON.stringify(t)})}async function bx(e,t){await le(`/projects/${encodeURIComponent(e)}/features/${t}`,{method:"DELETE"})}async function Nx(e,t){await le(`/projects/${encodeURIComponent(e)}/features/${t}/skip`,{method:"POST"})}async function Sx(e){return le(`/projects/${encodeURIComponent(e)}/features/reset-in-progress`,{method:"POST"})}async function kx(e){return le(`/projects/${encodeURIComponent(e)}/agent/status`)}async function fc(e,t=!1){return le(`/projects/${encodeURIComponent(e)}/agent/start`,{method:"POST",body:JSON.stringify({yolo_mode:t})})}async function Cx(e){return le(`/projects/${encodeURIComponent(e)}/agent/stop`,{method:"POST"})}async function Ex(e){return le(`/spec/status/${encodeURIComponent(e)}`)}async function Px(){return le("/setup/status")}async function Mx(){return le("/health")}async function _x(e){const t=e?`?path=${encodeURIComponent(e)}`:"";return le(`/filesystem/list${t}`)}async function zx(e){const t=e.endsWith("/")?e.slice(0,-1):e,n=t.lastIndexOf("/");let r,l;if(n===2&&/^[A-Za-z]:/.test(t))r=t.substring(0,3),l=t.substring(3);else if(n>0)r=t.substring(0,n),l=t.substring(n+1);else if(n===0)r="/",l=t.substring(1);else throw new Error("Invalid path: must be an absolute path");if(!l)throw new Error("Invalid path: directory name is empty");return le("/filesystem/create-directory",{method:"POST",body:JSON.stringify({parent_path:r,name:l})})}async function Rx(){return le("/settings/models")}async function Tx(){return le("/settings")}async function Fx(e){return le("/settings",{method:"PATCH",body:JSON.stringify(e)})}async function Ix(){return le("/ai-agents")}async function Ax(e){return le("/ai-agents",{method:"POST",body:JSON.stringify(e)})}async function Ox(e,t){return le(`/ai-agents/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Dx(e){await le(`/ai-agents/${e}`,{method:"DELETE"})}async function Lx(e){return le("/ai-agents/discover-models",{method:"POST",body:JSON.stringify(e)})}async function Ux(e){return le(`/ai-agents/${e}/refresh-models`,{method:"POST"})}async function $x(){return le("/ai-agents/providers")}async function Qx(){return le("/ai-agents/defaults")}async function Bx(e){return le("/ai-agents/defaults",{method:"PUT",body:JSON.stringify(e)})}async function Wx(){return le("/security/status")}async function qx(e){await le("/security/unlock",{method:"POST",body:JSON.stringify({password:e})})}async function Hx(e,t){return le(`/projects/${encodeURIComponent(e)}/bugs/investigate`,{method:"POST",body:JSON.stringify(t)})}async function Vx(e,t,n){return le(`/projects/${encodeURIComponent(e)}/features/expand`,{method:"POST",body:JSON.stringify(t),signal:n})}function Kx(){return xt({queryKey:["projects"],queryFn:gx,refetchInterval:3e3})}function Gx(){const e=ke();return Re({mutationFn:({name:t,path:n,specMethod:r})=>xx(t,n,r),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function Yx(){const e=ke();return Re({mutationFn:t=>yx(t),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function Zx(e){const t=ke();return Re({mutationFn:n=>vx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),t.invalidateQueries({queryKey:["project",e]})}})}function Jx(e){return xt({queryKey:["features",e],queryFn:()=>jx(e),enabled:!!e,refetchInterval:5e3})}function Ah(e){const t=ke();return Re({mutationFn:n=>wx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function Xx(e){const t=ke();return Re({mutationFn:n=>bx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function ey(e){const t=ke();return Re({mutationFn:n=>Nx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function ty(e){const t=ke();return Re({mutationFn:()=>Sx(e),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function Oh(e){return xt({queryKey:["agent-status",e],queryFn:()=>kx(e),enabled:!!e,refetchInterval:3e3})}function ny(e){const t=ke();return Re({mutationFn:(n=!1)=>fc(e,n),onMutate:async()=>{await t.cancelQueries({queryKey:["agent-status",e]});const n=t.getQueryData(["agent-status",e]);return t.setQueryData(["agent-status",e],r=>({...r,status:"running"})),{previousStatus:n}},onSuccess:n=>{t.setQueryData(["agent-status",e],r=>({...r,status:n.status}))},onError:(n,r,l)=>{l!=null&&l.previousStatus&&t.setQueryData(["agent-status",e],l.previousStatus)},onSettled:()=>{t.invalidateQueries({queryKey:["agent-status",e]})}})}function ry(e){const t=ke();return Re({mutationFn:()=>Cx(e),onMutate:async()=>{await t.cancelQueries({queryKey:["agent-status",e]});const n=t.getQueryData(["agent-status",e]);return t.setQueryData(["agent-status",e],r=>({...r,status:"stopped"})),{previousStatus:n}},onSuccess:n=>{t.setQueryData(["agent-status",e],r=>({...r,status:n.status}))},onError:(n,r,l)=>{l!=null&&l.previousStatus&&t.setQueryData(["agent-status",e],l.previousStatus)},onSettled:()=>{t.invalidateQueries({queryKey:["agent-status",e]})}})}function sy(){return xt({queryKey:["setup-status"],queryFn:Px,staleTime:6e4})}function ly(){return xt({queryKey:["health"],queryFn:Mx,retry:!1})}const ay={models:[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5"}],default:"claude-opus-4-5-20251101"},Dh={yolo_mode:!1,model:"claude-opus-4-5-20251101"};function Lh(){return xt({queryKey:["available-models"],queryFn:Rx,staleTime:3e5,retry:1,placeholderData:ay})}function hc(){return xt({queryKey:["settings"],queryFn:Tx,staleTime:6e4,retry:1,placeholderData:Dh})}function oy(){const e=ke();return Re({mutationFn:t=>Fx(t),onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const n=e.getQueryData(["settings"]);return e.setQueryData(["settings"],r=>({...Dh,...r,...t})),{previous:n}},onError:(t,n,r)=>{r!=null&&r.previous&&e.setQueryData(["settings"],r.previous)},onSettled:()=>{e.invalidateQueries({queryKey:["settings"]})}})}function iy(e){return Re({mutationFn:t=>Hx(e,{description:t})})}const cy=100;function uy(e){const[t,n]=p.useState({progress:{passing:0,in_progress:0,total:0,percentage:0},agentStatus:"stopped",logs:[],isConnected:!1}),r=p.useRef(null),l=p.useRef(null),a=p.useRef(0),o=p.useCallback(()=>{if(!e)return;const u=window.location.protocol==="https:"?"wss:":"ws:",g=window.location.host,m=`${u}//${g}/ws/projects/${encodeURIComponent(e)}`;try{const x=new WebSocket(m);r.current=x,x.onopen=()=>{n(v=>({...v,isConnected:!0})),a.current=0},x.onmessage=v=>{try{const j=JSON.parse(v.data);switch(j.type){case"progress":n(N=>({...N,progress:{passing:j.passing,in_progress:j.in_progress,total:j.total,percentage:j.percentage}}));break;case"agent_status":n(N=>({...N,agentStatus:j.status}));break;case"log":n(N=>({...N,logs:[...N.logs.slice(-cy+1),{line:j.line,timestamp:j.timestamp}]}));break;case"feature_update":break;case"pong":break}}catch{console.error("Failed to parse WebSocket message")}},x.onclose=()=>{n(j=>({...j,isConnected:!1})),r.current=null;const v=Math.min(1e3*Math.pow(2,a.current),3e4);a.current++,l.current=window.setTimeout(()=>{o()},v)},x.onerror=()=>{x.close()}}catch{}},[e]),i=p.useCallback(()=>{var u;((u=r.current)==null?void 0:u.readyState)===WebSocket.OPEN&&r.current.send(JSON.stringify({type:"ping"}))},[]);p.useEffect(()=>{if(n({progress:{passing:0,in_progress:0,total:0,percentage:0},agentStatus:"stopped",logs:[],isConnected:!1}),!e){r.current&&(r.current.close(),r.current=null);return}o();const u=setInterval(i,3e4);return()=>{clearInterval(u),l.current&&clearTimeout(l.current),r.current&&(r.current.close(),r.current=null)}},[e,o,i]);const c=p.useCallback(()=>{n(u=>({...u,logs:[]}))},[]);return{...t,clearLogs:c}}const dy={started:[523.25,659.25],completed:[523.25,659.25,783.99]};function Wu(e){try{const t=new(window.AudioContext||window.webkitAudioContext),n=dy[e],r=e==="completed"?.15:.12,l=n.length*r;n.forEach((a,o)=>{const i=t.createOscillator(),c=t.createGain();i.connect(c),c.connect(t.destination),i.type="sine",i.frequency.setValueAtTime(a,t.currentTime);const u=t.currentTime+o*r;c.gain.setValueAtTime(0,u),c.gain.linearRampToValueAtTime(.3,u+.02),c.gain.exponentialRampToValueAtTime(.01,u+r),i.start(u),i.stop(u+r)}),setTimeout(()=>{t.close()},l*1e3+100)}catch{}}function fy(e){return{pendingIds:new Set((e==null?void 0:e.pending.map(t=>t.id))??[]),inProgressIds:new Set((e==null?void 0:e.in_progress.map(t=>t.id))??[]),doneIds:new Set((e==null?void 0:e.done.map(t=>t.id))??[])}}function hy(e){const t=p.useRef(null),n=p.useRef(!1);p.useEffect(()=>{if(!e)return;const r=fy(e);if(!n.current){t.current=r,n.current=!0;return}const l=t.current;if(!l){t.current=r;return}for(const a of r.inProgressIds)if(l.pendingIds.has(a)&&!l.inProgressIds.has(a)){Wu("started");break}for(const a of r.doneIds)if(!l.doneIds.has(a)&&(l.inProgressIds.has(a)||l.pendingIds.has(a))){Wu("completed");break}t.current=r},[e])}var pc={};(function e(t,n,r,l){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",i=function(){if(!t.OffscreenCanvas)return!1;try{var k=new OffscreenCanvas(1,1),b=k.getContext("2d");b.fillRect(0,0,1,1);var Q=k.transferToImageBitmap();b.createPattern(Q,"no-repeat")}catch{return!1}return!0}();function c(){}function u(k){var b=n.exports.Promise,Q=b!==void 0?b:t.Promise;return typeof Q=="function"?new Q(k):(k(c,c),null)}var g=function(k,b){return{transform:function(Q){if(k)return Q;if(b.has(Q))return b.get(Q);var O=new OffscreenCanvas(Q.width,Q.height),B=O.getContext("2d");return B.drawImage(Q,0,0),b.set(Q,O),O},clear:function(){b.clear()}}}(i,new Map),m=function(){var k=Math.floor(16.666666666666668),b,Q,O={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function(K){var M=Math.random();return O[M]=requestAnimationFrame(function D(q){B===q||B+k-1<q?(B=q,delete O[M],K()):O[M]=requestAnimationFrame(D)}),M},Q=function(K){O[K]&&cancelAnimationFrame(O[K])}):(b=function(K){return setTimeout(K,k)},Q=function(K){return clearTimeout(K)}),{frame:b,cancel:Q}}(),x=function(){var k,b,Q={};function O(B){function K(M,D){B.postMessage({options:M||{},callback:D})}B.init=function(D){var q=D.transferControlToOffscreen();B.postMessage({canvas:q},[q])},B.fire=function(D,q,G){if(b)return K(D,null),b;var ae=Math.random().toString(36).slice(2);return b=u(function(oe){function me(Te){Te.data.callback===ae&&(delete Q[ae],B.removeEventListener("message",me),b=null,g.clear(),G(),oe())}B.addEventListener("message",me),K(D,ae),Q[ae]=me.bind(null,{data:{callback:ae}})}),b},B.reset=function(){B.postMessage({reset:!0});for(var D in Q)Q[D](),delete Q[D]}}return function(){if(k)return k;if(!r&&a){var B=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([B])))}catch(K){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",K),null}O(k)}return k}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(k,b){return b?b(k):k}function N(k){return k!=null}function C(k,b,Q){return j(k&&N(k[b])?k[b]:v[b],Q)}function f(k){return k<0?0:Math.floor(k)}function d(k,b){return Math.floor(Math.random()*(b-k))+k}function h(k){return parseInt(k,16)}function y(k){return k.map(E)}function E(k){var b=String(k).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:h(b.substring(0,2)),g:h(b.substring(2,4)),b:h(b.substring(4,6))}}function S(k){var b=C(k,"origin",Object);return b.x=C(b,"x",Number),b.y=C(b,"y",Number),b}function R(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function I(k){var b=k.getBoundingClientRect();k.width=b.width,k.height=b.height}function P(k){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=k,b}function _(k,b,Q,O,B,K,M,D,q){k.save(),k.translate(b,Q),k.rotate(K),k.scale(O,B),k.arc(0,0,1,M,D,q),k.restore()}function W(k){var b=k.angle*(Math.PI/180),Q=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-b+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function A(k,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var Q=b.tick++/b.totalTicks,O=b.x+b.random*b.tiltCos,B=b.y+b.random*b.tiltSin,K=b.wobbleX+b.random*b.tiltCos,M=b.wobbleY+b.random*b.tiltSin;if(k.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-Q)+")",k.beginPath(),o&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))k.fill(Z(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs(K-O)*.1,Math.abs(M-B)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var D=Math.PI/10*b.wobble,q=Math.abs(K-O)*.1,G=Math.abs(M-B)*.1,ae=b.shape.bitmap.width*b.scalar,oe=b.shape.bitmap.height*b.scalar,me=new DOMMatrix([Math.cos(D)*q,Math.sin(D)*q,-Math.sin(D)*G,Math.cos(D)*G,b.x,b.y]);me.multiplySelf(new DOMMatrix(b.shape.matrix));var Te=k.createPattern(g.transform(b.shape.bitmap),"no-repeat");Te.setTransform(me),k.globalAlpha=1-Q,k.fillStyle=Te,k.fillRect(b.x-ae/2,b.y-oe/2,ae,oe),k.globalAlpha=1}else if(b.shape==="circle")k.ellipse?k.ellipse(b.x,b.y,Math.abs(K-O)*b.ovalScalar,Math.abs(M-B)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):_(k,b.x,b.y,Math.abs(K-O)*b.ovalScalar,Math.abs(M-B)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var re=Math.PI/2*3,Ke=4*b.scalar,yt=8*b.scalar,vt=b.x,Lt=b.y,An=5,Mt=Math.PI/An;An--;)vt=b.x+Math.cos(re)*yt,Lt=b.y+Math.sin(re)*yt,k.lineTo(vt,Lt),re+=Mt,vt=b.x+Math.cos(re)*Ke,Lt=b.y+Math.sin(re)*Ke,k.lineTo(vt,Lt),re+=Mt;else k.moveTo(Math.floor(b.x),Math.floor(b.y)),k.lineTo(Math.floor(b.wobbleX),Math.floor(B)),k.lineTo(Math.floor(K),Math.floor(M)),k.lineTo(Math.floor(O),Math.floor(b.wobbleY));return k.closePath(),k.fill(),b.tick<b.totalTicks}function T(k,b,Q,O,B){var K=b.slice(),M=k.getContext("2d"),D,q,G=u(function(ae){function oe(){D=q=null,M.clearRect(0,0,O.width,O.height),g.clear(),B(),ae()}function me(){r&&!(O.width===l.width&&O.height===l.height)&&(O.width=k.width=l.width,O.height=k.height=l.height),!O.width&&!O.height&&(Q(k),O.width=k.width,O.height=k.height),M.clearRect(0,0,O.width,O.height),K=K.filter(function(Te){return A(M,Te)}),K.length?D=m.frame(me):oe()}D=m.frame(me),q=oe});return{addFettis:function(ae){return K=K.concat(ae),G},canvas:k,promise:G,reset:function(){D&&m.cancel(D),q&&q()}}}function L(k,b){var Q=!k,O=!!C(b||{},"resize"),B=!1,K=C(b,"disableForReducedMotion",Boolean),M=a&&!!C(b||{},"useWorker"),D=M?x():null,q=Q?R:I,G=k&&D?!!k.__confetti_initialized:!1,ae=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,oe;function me(re,Ke,yt){for(var vt=C(re,"particleCount",f),Lt=C(re,"angle",Number),An=C(re,"spread",Number),Mt=C(re,"startVelocity",Number),ep=C(re,"decay",Number),tp=C(re,"gravity",Number),np=C(re,"drift",Number),vc=C(re,"colors",y),rp=C(re,"ticks",Number),jc=C(re,"shapes"),sp=C(re,"scalar"),lp=!!C(re,"flat"),wc=S(re),bc=vt,Ea=[],ap=k.width*wc.x,op=k.height*wc.y;bc--;)Ea.push(W({x:ap,y:op,angle:Lt,spread:An,startVelocity:Mt,color:vc[bc%vc.length],shape:jc[d(0,jc.length)],ticks:rp,decay:ep,gravity:tp,drift:np,scalar:sp,flat:lp}));return oe?oe.addFettis(Ea):(oe=T(k,Ea,q,Ke,yt),oe.promise)}function Te(re){var Ke=K||C(re,"disableForReducedMotion",Boolean),yt=C(re,"zIndex",Number);if(Ke&&ae)return u(function(Mt){Mt()});Q&&oe?k=oe.canvas:Q&&!k&&(k=P(yt),document.body.appendChild(k)),O&&!G&&q(k);var vt={width:k.width,height:k.height};D&&!G&&D.init(k),G=!0,D&&(k.__confetti_initialized=!0);function Lt(){if(D){var Mt={getBoundingClientRect:function(){if(!Q)return k.getBoundingClientRect()}};q(Mt),D.postMessage({resize:{width:Mt.width,height:Mt.height}});return}vt.width=vt.height=null}function An(){oe=null,O&&(B=!1,t.removeEventListener("resize",Lt)),Q&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,G=!1)}return O&&!B&&(B=!0,t.addEventListener("resize",Lt,!1)),D?D.fire(re,vt,An):me(re,vt,An)}return Te.reset=function(){D&&D.reset(),oe&&oe.reset()},Te}var $;function V(){return $||($=L(null,{useWorker:!0,resize:!0})),$}function Z(k,b,Q,O,B,K,M){var D=new Path2D(k),q=new Path2D;q.addPath(D,new DOMMatrix(b));var G=new Path2D;return G.addPath(q,new DOMMatrix([Math.cos(M)*B,Math.sin(M)*B,-Math.sin(M)*K,Math.cos(M)*K,Q,O])),G}function z(k){if(!o)throw new Error("path confetti are not supported in this browser");var b,Q;typeof k=="string"?b=k:(b=k.path,Q=k.matrix);var O=new Path2D(b),B=document.createElement("canvas"),K=B.getContext("2d");if(!Q){for(var M=1e3,D=M,q=M,G=0,ae=0,oe,me,Te=0;Te<M;Te+=2)for(var re=0;re<M;re+=2)K.isPointInPath(O,Te,re,"nonzero")&&(D=Math.min(D,Te),q=Math.min(q,re),G=Math.max(G,Te),ae=Math.max(ae,re));oe=G-D,me=ae-q;var Ke=10,yt=Math.min(Ke/oe,Ke/me);Q=[yt,0,0,yt,-Math.round(oe/2+D)*yt,-Math.round(me/2+q)*yt]}return{type:"path",path:b,matrix:Q}}function F(k){var b,Q=1,O="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?b=k:(b=k.text,Q="scalar"in k?k.scalar:Q,B="fontFamily"in k?k.fontFamily:B,O="color"in k?k.color:O);var K=10*Q,M=""+K+"px "+B,D=new OffscreenCanvas(K,K),q=D.getContext("2d");q.font=M;var G=q.measureText(b),ae=Math.ceil(G.actualBoundingBoxRight+G.actualBoundingBoxLeft),oe=Math.ceil(G.actualBoundingBoxAscent+G.actualBoundingBoxDescent),me=2,Te=G.actualBoundingBoxLeft+me,re=G.actualBoundingBoxAscent+me;ae+=me+me,oe+=me+me,D=new OffscreenCanvas(ae,oe),q=D.getContext("2d"),q.font=M,q.fillStyle=O,q.fillText(b,Te,re);var Ke=1/Q;return{type:"bitmap",bitmap:D.transferToImageBitmap(),matrix:[Ke,0,0,Ke,-ae*Ke/2,-oe*Ke/2]}}n.exports=function(){return V().apply(this,arguments)},n.exports.reset=function(){V().reset()},n.exports.create=L,n.exports.shapeFromPath=z,n.exports.shapeFromText=F})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),pc,!1);const gl=pc.exports;pc.exports.create;function py(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=[{freq:523.25,start:0},{freq:659.25,start:.15},{freq:783.99,start:.3},{freq:1046.5,start:.45}],n=.25;t.forEach(({freq:o,start:i})=>{const c=e.createOscillator(),u=e.createGain();c.connect(u),u.connect(e.destination),c.type="sine",c.frequency.setValueAtTime(o,e.currentTime+i);const g=e.currentTime+i;u.gain.setValueAtTime(0,g),u.gain.linearRampToValueAtTime(.4,g+.03),u.gain.setValueAtTime(.4,g+n*.6),u.gain.exponentialRampToValueAtTime(.01,g+n),c.start(g),c.stop(g+n)});const r=[523.25,659.25,783.99,1046.5],l=.65,a=.5;r.forEach(o=>{const i=e.createOscillator(),c=e.createGain();i.connect(c),c.connect(e.destination),i.type="sine",i.frequency.setValueAtTime(o,e.currentTime+l);const u=e.currentTime+l;c.gain.setValueAtTime(0,u),c.gain.linearRampToValueAtTime(.2,u+.05),c.gain.setValueAtTime(.2,u+a*.5),c.gain.exponentialRampToValueAtTime(.01,u+a),i.start(u),i.stop(u+a)}),setTimeout(()=>{e.close()},1500)}catch{}}function my(){const t=Date.now()+2e3;gl({particleCount:100,spread:70,origin:{x:0,y:.6},angle:60,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]}),gl({particleCount:100,spread:70,origin:{x:1,y:.6},angle:120,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]});const n=setInterval(()=>{if(Date.now()>t){clearInterval(n);return}gl({particleCount:30,spread:60,origin:{x:0,y:.6},angle:60,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]}),gl({particleCount:30,spread:60,origin:{x:1,y:.6},angle:120,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]})},250)}function gy(e){return e?e.pending.length===0&&e.in_progress.length===0&&e.done.length>0:!1}function xy(e,t){const n=p.useRef(new Set),r=p.useRef(null);p.useEffect(()=>{if(!e||!t)return;const l=gy(e);if(r.current!==t){r.current=t,l&&n.current.add(t);return}l&&!n.current.has(t)&&(n.current.add(t),my(),py())},[e,t])}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:a,iconNode:o,...i},c)=>p.createElement("svg",{ref:c,...vy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Uh("lucide",l),...i},[...o.map(([u,g])=>p.createElement(u,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=p.forwardRef(({className:r,...l},a)=>p.createElement(jy,{ref:a,iconNode:t,className:Uh(`lucide-${yy(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=X("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=X("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=X("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=X("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=X("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=X("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=X("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=X("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=X("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=X("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=X("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=X("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=X("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=X("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=X("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=X("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=X("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function On(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function Qy({projectName:e,onError:t}){const[n,r]=p.useState([]),[l,a]=p.useState(!1),[o,i]=p.useState(!1),[c,u]=p.useState("disconnected"),[g,m]=p.useState(null),[x,v]=p.useState(null),j=p.useRef(null),N=p.useRef(null),C=p.useRef(0),f=3,d=p.useRef(null),h=p.useRef(null),y=p.useRef(!1);p.useEffect(()=>{y.current=o},[o]),p.useEffect(()=>()=>{d.current&&clearInterval(d.current),h.current&&clearTimeout(h.current),j.current&&j.current.close()},[]),p.useEffect(()=>{if(o)return;let _=null;const W=setTimeout(()=>{_=window.setInterval(async()=>{if(y.current){_&&clearInterval(_);return}try{const A=await Ex(e);A.exists&&A.status==="complete"&&(i(!0),a(!1),r(T=>{const L=T[T.length-1];return(L==null?void 0:L.role)==="assistant"&&L.isStreaming?[...T.slice(0,-1),{...L,isStreaming:!1}]:T}),r(T=>[...T,{id:On(),role:"system",content:`Spec creation complete! Files written: ${A.files_written.join(", ")}${A.feature_count?` (${A.feature_count} features)`:""}`,timestamp:new Date}]),_&&clearInterval(_))}catch{}},3e3)},3e3);return()=>{clearTimeout(W),_&&clearInterval(_)}},[e,o]);const E=p.useCallback(()=>{var L;if(((L=j.current)==null?void 0:L.readyState)===WebSocket.OPEN)return;u("connecting");const _=window.location.protocol==="https:"?"wss:":"ws:",W=window.location.host,A=`${_}//${W}/ws/spec-creation/${encodeURIComponent(e)}`,T=new WebSocket(A);j.current=T,T.onopen=()=>{u("connected"),C.current=0,d.current=window.setInterval(()=>{T.readyState===WebSocket.OPEN&&T.send(JSON.stringify({type:"ping"}))},3e4)},T.onclose=()=>{if(u("disconnected"),d.current&&(clearInterval(d.current),d.current=null),C.current<f&&!y.current){C.current++;const $=Math.min(1e3*Math.pow(2,C.current),1e4);h.current=window.setTimeout(E,$)}},T.onerror=()=>{u("error"),t==null||t("WebSocket connection error")},T.onmessage=$=>{try{const V=JSON.parse($.data);switch(V.type){case"text":{r(Z=>{const z=Z[Z.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...Z.slice(0,-1),{...z,content:z.content+V.content}]:(N.current=On(),[...Z,{id:N.current,role:"assistant",content:V.content,timestamp:new Date,isStreaming:!0}])});break}case"question":{m(V.questions),v(V.tool_id||null),a(!1),r(Z=>{const z=Z[Z.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...Z.slice(0,-1),{...z,isStreaming:!1,questions:V.questions}]:Z});break}case"spec_complete":{i(!0),a(!1),r(Z=>{const z=Z[Z.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...Z.slice(0,-1),{...z,isStreaming:!1}]:Z}),r(Z=>[...Z,{id:On(),role:"system",content:`Specification file created: ${V.path}`,timestamp:new Date}]);break}case"file_written":{r(Z=>[...Z,{id:On(),role:"system",content:`File created: ${V.path}`,timestamp:new Date}]);break}case"complete":{i(!0),a(!1),r(Z=>{const z=Z[Z.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...Z.slice(0,-1),{...z,isStreaming:!1}]:Z});break}case"error":{a(!1),t==null||t(V.content),r(Z=>[...Z,{id:On(),role:"system",content:`Error: ${V.content}`,timestamp:new Date}]);break}case"pong":break;case"response_done":{a(!1),r(Z=>{const z=Z[Z.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...Z.slice(0,-1),{...z,isStreaming:!1}]:Z});break}}}catch(V){console.error("Failed to parse WebSocket message:",V)}}},[e,t]),S=p.useCallback(()=>{E();const _=()=>{var W,A;((W=j.current)==null?void 0:W.readyState)===WebSocket.OPEN?(a(!0),j.current.send(JSON.stringify({type:"start"}))):((A=j.current)==null?void 0:A.readyState)===WebSocket.CONNECTING&&setTimeout(_,100)};setTimeout(_,100)},[E]),R=p.useCallback((_,W)=>{if(!j.current||j.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}r(T=>[...T,{id:On(),role:"user",content:_,attachments:W,timestamp:new Date}]),m(null),v(null),a(!0);const A={type:"message",content:_};W&&W.length>0&&(A.attachments=W.map(T=>({filename:T.filename,mimeType:T.mimeType,base64Data:T.base64Data}))),j.current.send(JSON.stringify(A))},[t]),I=p.useCallback(_=>{if(!j.current||j.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}const W=Object.values(_).map(A=>Array.isArray(A)?A.join(", "):A).join("; ");r(A=>[...A,{id:On(),role:"user",content:W,timestamp:new Date}]),m(null),v(null),a(!0),j.current.send(JSON.stringify({type:"answer",answers:_,tool_id:x}))},[x,t]),P=p.useCallback(()=>{C.current=f,d.current&&(clearInterval(d.current),d.current=null),j.current&&(j.current.close(),j.current=null),u("disconnected")},[]);return{messages:n,isLoading:l,isComplete:o,connectionStatus:c,currentQuestions:g,currentToolId:x,start:S,sendMessage:R,sendAnswer:I,disconnect:P}}function xc({message:e}){const{role:t,content:n,attachments:r,timestamp:l,isStreaming:a}=e,o=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c={user:{icon:Uy,bgColor:"bg-[var(--color-neo-pending)]",borderColor:"border-[var(--color-neo-border)]",align:"justify-end",bubbleAlign:"items-end",iconBg:"bg-[var(--color-neo-pending)]"},assistant:{icon:Kr,bgColor:"bg-white",borderColor:"border-[var(--color-neo-border)]",align:"justify-start",bubbleAlign:"items-start",iconBg:"bg-[var(--color-neo-progress)]"},system:{icon:My,bgColor:"bg-[var(--color-neo-done)]",borderColor:"border-[var(--color-neo-border)]",align:"justify-center",bubbleAlign:"items-center",iconBg:"bg-[var(--color-neo-done)]"}}[t],u=c.icon;return t==="system"?s.jsx("div",{className:`flex ${c.align} px-4 py-2`,children:s.jsx("div",{className:`
            ${c.bgColor}
            border-2 ${c.borderColor}
            px-4 py-2
            text-sm font-mono
            shadow-[2px_2px_0px_rgba(0,0,0,1)]
          `,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(u,{size:14}),n]})})}):s.jsx("div",{className:`flex ${c.align} px-4 py-2`,children:s.jsxs("div",{className:`flex flex-col ${c.bubbleAlign} max-w-[80%] gap-1`,children:[s.jsxs("div",{className:"flex items-start gap-2",children:[t==="assistant"&&s.jsx("div",{className:`
                ${c.iconBg}
                border-2 border-[var(--color-neo-border)]
                p-1.5
                shadow-[2px_2px_0px_rgba(0,0,0,1)]
                flex-shrink-0
              `,children:s.jsx(u,{size:16,className:"text-white"})}),s.jsxs("div",{className:`
              ${c.bgColor}
              border-3 ${c.borderColor}
              px-4 py-3
              shadow-[4px_4px_0px_rgba(0,0,0,1)]
              ${a?"animate-pulse-neo":""}
            `,children:[n&&s.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-[#1a1a1a]",children:n.split(`
`).map((g,m)=>{const x=/\*\*(.*?)\*\*/g,v=[];let j=0,N;for(;(N=x.exec(g))!==null;)N.index>j&&v.push(g.slice(j,N.index)),v.push(s.jsx("strong",{className:"font-bold",children:N[1]},`bold-${m}-${N.index}`)),j=N.index+N[0].length;return j<g.length&&v.push(g.slice(j)),s.jsxs("span",{children:[v.length>0?v:g,m<n.split(`
`).length-1&&`
`]},m)})}),r&&r.length>0&&s.jsx("div",{className:`flex flex-wrap gap-2 ${n?"mt-3":""}`,children:r.map(g=>s.jsxs("div",{className:"border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:g.previewUrl,alt:g.filename,className:"max-w-48 max-h-48 object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(g.previewUrl,"_blank"),title:`${g.filename} (click to enlarge)`}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] block mt-1 text-center",children:g.filename})]},g.id))}),a&&s.jsx("span",{className:"inline-block w-2 h-4 bg-[var(--color-neo-accent)] ml-1 animate-pulse"})]}),t==="user"&&s.jsx("div",{className:`
                ${c.iconBg}
                border-2 border-[var(--color-neo-border)]
                p-1.5
                shadow-[2px_2px_0px_rgba(0,0,0,1)]
                flex-shrink-0
              `,children:s.jsx(u,{size:16})})]}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] font-mono px-2",children:o})]})})}function By({questions:e,onSubmit:t,disabled:n=!1}){const[r,l]=p.useState({}),[a,o]=p.useState({}),[i,c]=p.useState({}),u=(N,C,f)=>{const d=String(N);if(C==="Other"){c(h=>({...h,[d]:!0}));return}c(h=>({...h,[d]:!1})),l(h=>{if(f){const y=h[d]||[];return y.includes(C)?{...h,[d]:y.filter(E=>E!==C)}:{...h,[d]:[...y,C]}}else return{...h,[d]:C}})},g=(N,C)=>{const f=String(N);o(d=>({...d,[f]:C})),l(d=>({...d,[f]:C}))},m=()=>{const N={};e.forEach((C,f)=>{const d=String(f);i[d]&&a[d]?N[d]=a[d]:r[d]&&(N[d]=r[d])}),t(N)},x=(N,C,f)=>{const d=String(N),h=r[d];return f?Array.isArray(h)&&h.includes(C):h===C},v=N=>{const C=String(N);return!!(r[C]||i[C]&&a[C])},j=e.every((N,C)=>v(C));return s.jsxs("div",{className:"space-y-6 p-4",children:[e.map((N,C)=>s.jsxs("div",{className:"neo-card p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"neo-badge bg-[var(--color-neo-accent)] text-white",children:N.header}),s.jsx("span",{className:"font-bold text-[var(--color-neo-text)]",children:N.question}),N.multiSelect&&s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] font-mono",children:"(select multiple)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[N.options.map((f,d)=>{const h=x(C,f.label,N.multiSelect);return s.jsx("button",{onClick:()=>u(C,f.label,N.multiSelect),disabled:n,className:`
                    text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    transition-all duration-150
                    ${h?"bg-[var(--color-neo-pending)] shadow-[2px_2px_0px_rgba(0,0,0,1)] translate-x-[1px] translate-y-[1px]":"bg-white shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] hover:shadow-[5px_5px_0px_rgba(0,0,0,1)]"}
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`
                        w-5 h-5 flex-shrink-0 mt-0.5
                        border-2 border-[var(--color-neo-border)]
                        flex items-center justify-center
                        ${N.multiSelect?"":"rounded-full"}
                        ${h?"bg-[var(--color-neo-done)]":"bg-white"}
                      `,children:h&&s.jsx(ui,{size:12,strokeWidth:3})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-[var(--color-neo-text)]",children:f.label}),s.jsx("div",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:f.description})]})]})},d)}),s.jsx("button",{onClick:()=>u(C,"Other",N.multiSelect),disabled:n,className:`
                text-left p-4
                border-3 border-[var(--color-neo-border)]
                transition-all duration-150
                ${i[String(C)]?"bg-[var(--color-neo-pending)] shadow-[2px_2px_0px_rgba(0,0,0,1)] translate-x-[1px] translate-y-[1px]":"bg-white shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] hover:shadow-[5px_5px_0px_rgba(0,0,0,1)]"}
                disabled:opacity-50 disabled:cursor-not-allowed
              `,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`
                    w-5 h-5 flex-shrink-0 mt-0.5
                    border-2 border-[var(--color-neo-border)]
                    flex items-center justify-center
                    ${N.multiSelect?"":"rounded-full"}
                    ${i[String(C)]?"bg-[var(--color-neo-done)]":"bg-white"}
                  `,children:i[String(C)]&&s.jsx(ui,{size:12,strokeWidth:3})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-[var(--color-neo-text)]",children:"Other"}),s.jsx("div",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Provide a custom answer"})]})]})})]}),i[String(C)]&&s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",value:a[String(C)]||"",onChange:f=>g(C,f.target.value),placeholder:"Type your answer...",className:"neo-input",autoFocus:!0,disabled:n})})]},C)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:m,disabled:n||!j,className:"neo-btn neo-btn-primary",children:"Continue"})})]})}function Gh(){return s.jsxs("div",{className:"flex items-center gap-2 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{className:"text-sm font-mono animate-shimmer",children:"Claude is thinking..."})]})}const Wy=5*1024*1024,qy=["image/jpeg","image/png"];function Yh({projectName:e,onComplete:t,onCancel:n,onExitToProject:r,initializerStatus:l="idle",initializerError:a=null,onRetryInitializer:o}){const[i,c]=p.useState(""),[u,g]=p.useState(null),[m,x]=p.useState(!1),[v,j]=p.useState([]),N=p.useRef(null),C=p.useRef(null),f=p.useRef(null),{messages:d,isLoading:h,isComplete:y,connectionStatus:E,currentQuestions:S,start:R,sendMessage:I,sendAnswer:P,disconnect:_}=Qy({projectName:e,onComplete:t,onError:F=>g(F)});p.useEffect(()=>(R(),()=>{_()}),[]),p.useEffect(()=>{var F;(F=N.current)==null||F.scrollIntoView({behavior:"smooth"})},[d,S,h]),p.useEffect(()=>{!h&&!S&&C.current&&C.current.focus()},[h,S]);const W=()=>{const F=i.trim();if(!(!F&&v.length===0||h)){if(/^\s*\/exit\s*$/i.test(F)){c(""),r();return}I(F,v.length>0?v:void 0),c(""),j([]),C.current&&(C.current.style.height="auto")}},A=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),W())},T=F=>{P(F)},L=p.useCallback(F=>{F&&Array.from(F).forEach(k=>{if(!qy.includes(k.type)){g(`Invalid file type: ${k.name}. Only JPEG and PNG are supported.`);return}if(k.size>Wy){g(`File too large: ${k.name}. Maximum size is 5 MB.`);return}const b=new FileReader;b.onload=Q=>{var M;const O=(M=Q.target)==null?void 0:M.result,B=O.split(",")[1],K={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,filename:k.name,mimeType:k.type,base64Data:B,previewUrl:O,size:k.size};j(D=>[...D,K])},b.readAsDataURL(k)})},[]),$=p.useCallback(F=>{j(k=>k.filter(b=>b.id!==F))},[]),V=p.useCallback(F=>{F.preventDefault(),L(F.dataTransfer.files)},[L]),Z=p.useCallback(F=>{F.preventDefault()},[]),z=()=>{switch(E){case"connected":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-done)]",children:[s.jsx(Yr,{size:12}),"Connected"]});case"connecting":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-pending)]",children:[s.jsx(Yr,{size:12,className:"animate-pulse"}),"Connecting..."]});case"error":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-danger)]",children:[s.jsx(Gr,{size:12}),"Error"]});default:return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx(Gr,{size:12}),"Disconnected"]})}};return s.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-neo-bg)]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:["Create Spec: ",e]}),s.jsx(z,{})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(tn,{size:16}),"Complete"]}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-ghost text-sm py-2",title:"Exit chat and go to project (you can start the agent manually)",children:[s.jsx(Hh,{size:16}),"Exit to Project"]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",title:"Cancel",children:s.jsx(pe,{size:20})})]})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[var(--color-neo-danger)] text-white border-b-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:16}),s.jsx("span",{className:"flex-1 text-sm",children:u}),s.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-white/20 rounded",children:s.jsx(pe,{size:14})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[d.length===0&&!h&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:s.jsxs("div",{className:"neo-card p-6 max-w-md",children:[s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"Starting Spec Creation"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Connecting to Claude to help you create your app specification..."}),E==="error"&&s.jsxs("button",{onClick:R,className:"neo-btn neo-btn-primary mt-4 text-sm",children:[s.jsx(ia,{size:14}),"Retry Connection"]})]})}),d.map(F=>s.jsx(xc,{message:F},F.id)),S&&S.length>0&&s.jsx(By,{questions:S,onSubmit:T,disabled:h}),h&&!S&&s.jsx(Gh,{}),s.jsx("div",{ref:N})]}),!y&&s.jsxs("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-white",onDrop:V,onDragOver:Z,children:[v.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map(F=>s.jsxs("div",{className:"relative group border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:F.previewUrl,alt:F.filename,className:"w-16 h-16 object-cover"}),s.jsx("button",{onClick:()=>$(F.id),className:"absolute -top-2 -right-2 bg-[var(--color-neo-danger)] text-white rounded-full p-0.5 border-2 border-[var(--color-neo-border)] hover:scale-110 transition-transform",title:"Remove attachment",children:s.jsx(pe,{size:12})}),s.jsx("span",{className:"text-xs truncate block max-w-16 mt-1 text-center",children:F.filename.length>10?`${F.filename.substring(0,7)}...`:F.filename})]},F.id))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:F=>L(F.target.files),className:"hidden"}),s.jsx("button",{onClick:()=>{var F;return(F=f.current)==null?void 0:F.click()},disabled:E!=="connected",className:"neo-btn neo-btn-ghost p-3",title:"Attach image (JPEG, PNG - max 5MB)",children:s.jsx(oa,{size:18})}),s.jsx("textarea",{ref:C,value:i,onChange:F=>{c(F.target.value),F.target.style.height="auto",F.target.style.height=`${Math.min(F.target.scrollHeight,200)}px`},onKeyDown:A,placeholder:S?"Or type a custom response...":v.length>0?"Add a message with your image(s)...":"Type your response... (or /exit to go to project)",className:"neo-input flex-1 resize-none min-h-[46px] max-h-[200px] overflow-y-auto",disabled:h&&!S||E!=="connected",rows:1}),s.jsx("button",{onClick:W,disabled:!i.trim()&&v.length===0||h&&!S||E!=="connected",className:"neo-btn neo-btn-primary px-6",children:s.jsx(gc,{size:18})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:["Press Enter to send, Shift+Enter for new line. Drag & drop or click ",s.jsx(oa,{size:12,className:"inline"})," to attach images (JPEG/PNG, max 5MB)."]})]}),y&&s.jsx("div",{className:`p-4 border-t-3 border-[var(--color-neo-border)] ${l==="error"?"bg-[var(--color-neo-danger)]":"bg-[var(--color-neo-done)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:l==="starting"?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:20,className:"animate-spin"}),s.jsxs("span",{className:"font-bold",children:["Starting agent",m?" (YOLO mode)":"","..."]})]}):l==="error"?s.jsxs(s.Fragment,{children:[s.jsx(nt,{size:20,className:"text-white"}),s.jsx("span",{className:"font-bold text-white",children:a||"Failed to start agent"})]}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:20}),s.jsx("span",{className:"font-bold",children:"Specification created successfully!"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[l==="error"&&o&&s.jsxs("button",{onClick:o,className:"neo-btn bg-white",children:[s.jsx(ia,{size:14}),"Retry"]}),l==="idle"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>x(!m),className:`neo-btn text-sm py-2 px-3 ${m?"neo-btn-warning":"bg-white"}`,title:"YOLO Mode: Skip testing for rapid prototyping",children:[s.jsx($y,{size:16,className:m?"text-yellow-900":""}),s.jsx("span",{className:m?"text-yellow-900 font-bold":"",children:"YOLO"})]}),s.jsxs("button",{onClick:()=>t("",m),className:"neo-btn neo-btn-primary",children:["Continue to Project",s.jsx(Qh,{size:16})]})]})]})]})})]})}function Hy({onSelect:e,onCancel:t,initialPath:n}){const[r,l]=p.useState(n),[a,o]=p.useState(null),[i,c]=p.useState(!1),[u,g]=p.useState(""),[m,x]=p.useState(null),{data:v,isLoading:j,error:N,refetch:C}=xt({queryKey:["filesystem","list",r],queryFn:()=>_x(r)});p.useEffect(()=>{v!=null&&v.current_path&&o(v.current_path)},[v==null?void 0:v.current_path]);const f=P=>{l(P),o(P),c(!1),g(""),x(null)},d=()=>{v!=null&&v.parent_path&&f(v.parent_path)},h=P=>{f(`${P.letter}:/`)},y=P=>{P.is_directory&&f(P.path)},E=async()=>{if(!u.trim()){x("Folder name is required");return}if(!/^[a-zA-Z0-9_\-. ]+$/.test(u)){x("Invalid folder name");return}const P=`${v==null?void 0:v.current_path}/${u.trim()}`;try{await zx(P),await C(),f(P)}catch(_){x(_ instanceof Error?_.message:"Failed to create folder")}},S=()=>{a&&e(a)},R=P=>{if(!P)return[];const _=[];if(/^[A-Za-z]:/.test(P)){const T=P.slice(0,2);_.push({name:T,path:`${T}/`}),P=P.slice(3)}else P.startsWith("/")&&(_.push({name:"/",path:"/"}),P=P.slice(1));const W=P.split("/").filter(Boolean);let A=_.length>0?_[0].path:"";for(const T of W)A=A.endsWith("/")?A+T:A+"/"+T,_.push({name:T,path:A});return _},I=v!=null&&v.current_path?R(v.current_path):[];return s.jsxs("div",{className:"flex flex-col h-full max-h-[70vh]",children:[s.jsxs("div",{className:"flex-shrink-0 p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Tl,{size:20,className:"text-[var(--color-neo-progress)]"}),s.jsx("span",{className:"font-bold text-[#1a1a1a]",children:"Select Project Folder"})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-wrap text-sm",children:[(v==null?void 0:v.parent_path)&&s.jsx("button",{onClick:d,className:"neo-btn neo-btn-ghost p-1",title:"Go up",children:s.jsx($h,{size:16})}),I.map((P,_)=>s.jsxs("div",{className:"flex items-center",children:[_>0&&s.jsx(di,{size:14,className:"text-gray-400 mx-1"}),s.jsx("button",{onClick:()=>f(P.path),className:`
                  px-2 py-1 rounded text-[#1a1a1a]
                  hover:bg-[var(--color-neo-bg)]
                  ${_===I.length-1?"font-bold":""}
                `,children:P.name})]},P.path))]})]}),(v==null?void 0:v.drives)&&v.drives.length>0&&s.jsx("div",{className:"flex-shrink-0 p-3 border-b-3 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-[var(--color-neo-text-secondary)]",children:"Drives:"}),v.drives.map(P=>s.jsxs("button",{onClick:()=>h(P),className:`
                  neo-btn neo-btn-ghost py-1 px-2 text-sm
                  flex items-center gap-1
                  ${r!=null&&r.startsWith(P.letter)?"bg-[var(--color-neo-progress)] text-white":""}
                `,children:[s.jsx(Py,{size:14}),P.letter,": ",P.label&&`(${P.label})`]},P.letter))]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 bg-white",children:[j?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(ue,{size:24,className:"animate-spin text-[var(--color-neo-progress)]"})}):N?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(nt,{size:32,className:"mx-auto mb-2 text-[var(--color-neo-danger)]"}),s.jsx("p",{className:"text-[var(--color-neo-danger)]",children:N instanceof Error?N.message:"Failed to load directory"}),s.jsx("button",{onClick:()=>C(),className:"neo-btn neo-btn-ghost mt-2",children:"Retry"})]}):s.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[v==null?void 0:v.entries.filter(P=>P.is_directory).map(P=>s.jsxs("button",{onClick:()=>y(P),onDoubleClick:()=>f(P.path),className:`
                    w-full text-left p-2 rounded
                    flex items-center gap-2
                    hover:bg-[var(--color-neo-bg)]
                    border-2 border-transparent
                    text-[var(--color-neo-text)]
                    ${a===P.path?"bg-[var(--color-neo-progress)] bg-opacity-10 border-[var(--color-neo-progress)]":""}
                  `,children:[a===P.path?s.jsx(aa,{size:18,className:"text-[var(--color-neo-progress)] flex-shrink-0"}):s.jsx(Tl,{size:18,className:"text-[var(--color-neo-pending)] flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1 text-[#1a1a1a]",children:P.name}),P.has_children&&s.jsx(di,{size:14,className:"ml-auto text-gray-400 flex-shrink-0"})]},P.path)),(v==null?void 0:v.entries.filter(P=>P.is_directory).length)===0&&s.jsxs("div",{className:"p-4 text-center text-[var(--color-neo-text-secondary)]",children:[s.jsx(Tl,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No subfolders"}),s.jsx("p",{className:"text-sm",children:"You can create a new folder or select this directory."})]})]}),i&&s.jsxs("div",{className:"mt-2 p-3 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vu,{size:18,className:"text-[var(--color-neo-progress)]"}),s.jsx("input",{type:"text",value:u,onChange:P=>g(P.target.value),placeholder:"New folder name",className:"neo-input flex-1 py-1",autoFocus:!0,onKeyDown:P=>{P.key==="Enter"&&E(),P.key==="Escape"&&(c(!1),g(""),x(null))}}),s.jsx("button",{onClick:E,className:"neo-btn neo-btn-primary py-1 px-3",children:"Create"}),s.jsx("button",{onClick:()=>{c(!1),g(""),x(null)},className:"neo-btn neo-btn-ghost py-1 px-2",children:"Cancel"})]}),m&&s.jsx("p",{className:"text-sm text-[var(--color-neo-danger)] mt-1",children:m})]})]}),s.jsxs("div",{className:"flex-shrink-0 p-4 border-t-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"mb-3 p-2 bg-[var(--color-neo-bg)] rounded border-2 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"text-xs text-[#4a4a4a] mb-1",children:"Selected path:"}),s.jsx("div",{className:"font-mono text-sm truncate text-[#1a1a1a]",children:a||"No folder selected"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>c(!0),className:"neo-btn neo-btn-ghost",disabled:i,children:[s.jsx(Vu,{size:16}),"New Folder"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:S,className:"neo-btn neo-btn-primary",disabled:!a,children:"Select This Folder"})]})]})]})]})}function Zh({isOpen:e,onClose:t,onProjectCreated:n}){const[r,l]=p.useState("name"),[a,o]=p.useState(""),[i,c]=p.useState(null),[u,g]=p.useState(null),[m,x]=p.useState(null),[v,j]=p.useState("idle"),[N,C]=p.useState(null),[f,d]=p.useState(!1),h=Gx();if(!e)return null;const y=L=>{L.preventDefault();const $=a.trim();if(!$){x("Please enter a project name");return}if(!/^[a-zA-Z0-9_-]+$/.test($)){x("Project name can only contain letters, numbers, hyphens, and underscores");return}x(null),l("folder")},E=L=>{const $=L.endsWith("/")?`${L}${a.trim()}`:`${L}/${a.trim()}`;c($),l("method")},S=()=>{l("name")},R=async L=>{if(g(L),!i){x("Please select a project folder first"),l("folder");return}if(L==="manual")try{const $=await h.mutateAsync({name:a.trim(),path:i,specMethod:"manual"});l("complete"),setTimeout(()=>{n($.name),A()},1500)}catch($){x($ instanceof Error?$.message:"Failed to create project")}else try{await h.mutateAsync({name:a.trim(),path:i,specMethod:"claude"}),l("chat")}catch($){x($ instanceof Error?$.message:"Failed to create project")}},I=async(L,$=!1)=>{d($),j("starting");try{await fc(a.trim(),$),l("complete"),setTimeout(()=>{n(a.trim()),A()},1500)}catch(V){j("error"),C(V instanceof Error?V.message:"Failed to start agent")}},P=()=>{C(null),j("idle"),I("",f)},_=()=>{l("method"),g(null)},W=()=>{n(a.trim()),A()},A=()=>{l("name"),o(""),c(null),g(null),x(null),j("idle"),C(null),d(!1),t()},T=()=>{r==="method"?(l("folder"),g(null)):r==="folder"&&(l("name"),c(null))};return r==="chat"?s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(Yh,{projectName:a.trim(),onComplete:I,onCancel:_,onExitToProject:W,initializerStatus:v,initializerError:N,onRetryInitializer:P})}):r==="folder"?s.jsx("div",{className:"neo-modal-backdrop",onClick:A,children:s.jsxs("div",{className:"neo-modal w-full max-w-3xl max-h-[85vh] flex flex-col",onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tl,{size:24,className:"text-[var(--color-neo-progress)]"}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-display font-bold text-xl text-[#1a1a1a]",children:"Select Project Location"}),s.jsxs("p",{className:"text-sm text-[#4a4a4a]",children:["A folder named ",s.jsx("span",{className:"font-bold font-mono",children:a})," will be created inside the selected directory"]})]})]}),s.jsx("button",{onClick:A,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(Hy,{onSelect:E,onCancel:S})})]})}):s.jsx("div",{className:"neo-modal-backdrop",onClick:A,children:s.jsxs("div",{className:"neo-modal w-full max-w-lg",onClick:L=>L.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("h2",{className:"font-display font-bold text-xl text-[#1a1a1a]",children:[r==="name"&&"Create New Project",r==="method"&&"Choose Setup Method",r==="complete"&&"Project Created!"]}),s.jsx("button",{onClick:A,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[r==="name"&&s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block font-bold mb-2 text-[#1a1a1a]",children:"Project Name"}),s.jsx("input",{type:"text",value:a,onChange:L=>o(L.target.value),placeholder:"my-awesome-app",className:"neo-input",pattern:"^[a-zA-Z0-9_\\-]+$",autoFocus:!0}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-2",children:"Use letters, numbers, hyphens, and underscores only."})]}),m&&s.jsx("div",{className:"mb-4 p-3 bg-[var(--color-neo-danger)] text-white text-sm border-2 border-[var(--color-neo-border)]",children:m}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",className:"neo-btn neo-btn-primary",disabled:!a.trim(),children:["Next",s.jsx(Qh,{size:16})]})})]}),r==="method"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:"How would you like to define your project?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>R("claude"),disabled:h.isPending,className:`
                    w-full text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    bg-white
                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                    hover:translate-x-[-2px] hover:translate-y-[-2px]
                    hover:shadow-[6px_6px_0px_rgba(0,0,0,1)]
                    transition-all duration-150
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-[var(--color-neo-progress)] border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(Kr,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-lg text-[#1a1a1a]",children:"Create with Claude"}),s.jsx("span",{className:"neo-badge bg-[var(--color-neo-done)] text-xs",children:"Recommended"})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Interactive conversation to define features and generate your app specification automatically."})]})]})}),s.jsx("button",{onClick:()=>R("manual"),disabled:h.isPending,className:`
                    w-full text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    bg-white
                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                    hover:translate-x-[-2px] hover:translate-y-[-2px]
                    hover:shadow-[6px_6px_0px_rgba(0,0,0,1)]
                    transition-all duration-150
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-[var(--color-neo-pending)] border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(Cy,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-bold text-lg text-[#1a1a1a]",children:"Edit Templates Manually"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Edit the template files directly. Best for developers who want full control."})]})]})})]}),m&&s.jsx("div",{className:"mt-4 p-3 bg-[var(--color-neo-danger)] text-white text-sm border-2 border-[var(--color-neo-border)]",children:m}),h.isPending&&s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-[var(--color-neo-text-secondary)]",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Creating project..."})]}),s.jsx("div",{className:"flex justify-start mt-6",children:s.jsxs("button",{onClick:T,className:"neo-btn neo-btn-ghost",disabled:h.isPending,children:[s.jsx($h,{size:16}),"Back"]})})]}),r==="complete"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[var(--color-neo-done)] border-3 border-[var(--color-neo-border)] shadow-[4px_4px_0px_rgba(0,0,0,1)] mb-4",children:s.jsx(tn,{size:32})}),s.jsx("h3",{className:"font-display font-bold text-xl mb-2",children:a}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"Your project has been created successfully!"}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{className:"text-sm",children:"Redirecting..."})]})]})]})]})})}function Vy({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",variant:a="danger",isLoading:o=!1,onConfirm:i,onCancel:c}){if(!e)return null;const g={danger:{icon:"var(--color-neo-danger)",button:"neo-btn-danger"},warning:{icon:"var(--color-neo-pending)",button:"neo-btn-warning"}}[a];return s.jsx("div",{className:"neo-modal-backdrop",onClick:c,children:s.jsxs("div",{className:"neo-modal w-full max-w-md",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",style:{backgroundColor:g.icon},children:s.jsx(Ly,{size:20,className:"text-white"})}),s.jsx("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:t})]}),s.jsx("button",{onClick:c,className:"neo-btn neo-btn-ghost p-2",disabled:o,children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:n}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:c,className:"neo-btn",disabled:o,children:l}),s.jsx("button",{onClick:i,className:`neo-btn ${g.button}`,disabled:o,children:o?"Deleting...":r})]})]})]})})}function Ky({projects:e,selectedProject:t,onSelectProject:n,onCurrentProjectDeleted:r,isLoading:l}){const[a,o]=p.useState(!1),[i,c]=p.useState(!1),[u,g]=p.useState(null),m=Yx(),x=f=>{n(f),o(!1)},v=(f,d)=>{f.stopPropagation(),g(d)},j=async()=>{if(!u)return;const f=t===u;try{await m.mutateAsync(u),g(null),f&&(r==null||r())}catch(d){console.error("Failed to delete project:",d),g(null)}},N=()=>{g(null)},C=e.find(f=>f.name===t);return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!a),className:"neo-btn bg-white text-[var(--color-neo-text)] min-w-[200px] justify-between",disabled:l,children:[l?s.jsx(ue,{size:18,className:"animate-spin"}):t?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(aa,{size:18}),t]}),C&&C.stats.total>0&&s.jsxs("span",{className:"neo-badge bg-[var(--color-neo-done)] ml-2",children:[C.stats.percentage,"%"]})]}):s.jsx("span",{className:"text-[var(--color-neo-text-secondary)]",children:"Select Project"}),s.jsx(Wh,{size:18,className:`transition-transform ${a?"rotate-180":""}`})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full neo-dropdown z-50 min-w-[280px]",children:[e.length>0?s.jsx("div",{className:"max-h-[300px] overflow-auto",children:e.map(f=>s.jsxs("div",{className:`flex items-center ${f.name===t?"bg-[var(--color-neo-pending)]":""}`,children:[s.jsxs("button",{onClick:()=>{n(f.name),o(!1)},className:"flex-1 neo-dropdown-item flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(aa,{size:16}),f.name]}),f.stats.total>0&&s.jsxs("span",{className:"text-sm font-mono",children:[f.stats.passing,"/",f.stats.total]})]}),s.jsx("button",{onClick:d=>v(d,f.name),className:"p-2 mr-2 text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-danger)] hover:bg-[var(--color-neo-danger)]/10 transition-colors rounded",title:`Delete ${f.name}`,children:s.jsx(Rn,{size:16})})]},f.name))}):s.jsx("div",{className:"p-4 text-center text-[var(--color-neo-text-secondary)]",children:"No projects yet"}),s.jsx("div",{className:"border-t-3 border-[var(--color-neo-border)]"}),s.jsxs("button",{onClick:()=>{c(!0),o(!1)},className:"w-full neo-dropdown-item flex items-center gap-2 font-bold",children:[s.jsx(Dt,{size:16}),"New Project"]})]})]}),s.jsx(Zh,{isOpen:i,onClose:()=>c(!1),onProjectCreated:x}),s.jsx(Vy,{isOpen:u!==null,title:"Delete Project",message:`Are you sure you want to remove "${u}" from the registry? This will unregister the project but preserve its files on disk.`,confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:m.isPending,onConfirm:j,onCancel:N})]})}function Gy(e){const t=["#ff006e","#00b4d8","#70e000","#ffd60a","#ff5400","#8338ec","#3a86ff"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]}function Yy({feature:e,onClick:t,isInProgress:n}){const r=Gy(e.category);return s.jsxs("button",{onClick:t,className:`
        w-full text-left neo-card p-4 cursor-pointer
        ${n?"animate-pulse-neo":""}
        ${e.passes?"border-[var(--color-neo-done)]":""}
      `,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("span",{className:"neo-badge",style:{backgroundColor:r,color:"white"},children:e.category}),s.jsxs("span",{className:"font-mono text-sm text-[var(--color-neo-text-secondary)]",children:["#",e.priority]})]}),s.jsx("h3",{className:"font-display font-bold mb-1 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] line-clamp-2 mb-3",children:e.description}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:n?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:16,className:"animate-spin text-[var(--color-neo-progress)]"}),s.jsx("span",{className:"text-[var(--color-neo-progress)] font-bold",children:"Processing..."})]}):e.passes?s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:16,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-[var(--color-neo-done)] font-bold",children:"Complete"})]}):s.jsxs(s.Fragment,{children:[s.jsx(qh,{size:16,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"text-[var(--color-neo-text-secondary)]",children:"Pending"})]})})]})}const Ku={pending:"var(--color-neo-pending)",progress:"var(--color-neo-progress)",done:"var(--color-neo-done)"};function to({title:e,count:t,features:n,color:r,onFeatureClick:l,onAddFeature:a,onReportBug:o,onExpandProject:i,showExpandButton:c,onResetInProgress:u,showResetButton:g}){return s.jsxs("div",{className:"neo-card overflow-hidden flex flex-col h-[90vh]",style:{borderColor:Ku[r]},children:[s.jsx("div",{className:"px-4 py-3 border-b-3 border-[var(--color-neo-border)]",style:{backgroundColor:Ku[r]},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"font-display text-lg font-bold uppercase flex items-center gap-2 text-[var(--color-neo-text)]",children:[e,s.jsx("span",{className:"neo-badge bg-white text-[var(--color-neo-text)]",children:t})]}),(a||o||i||u&&g)&&s.jsxs("div",{className:"flex items-center gap-2",children:[a&&s.jsx("button",{onClick:a,className:"neo-btn neo-btn-primary text-sm py-1.5 px-2",title:"Add new feature (N)",children:s.jsx(Dt,{size:16})}),o&&s.jsx("button",{onClick:o,className:"neo-btn bg-red-500 text-white text-sm py-1.5 px-2",title:"Report a bug (B)",children:s.jsx(Bh,{size:16})}),i&&c&&s.jsx("button",{onClick:i,className:"neo-btn bg-[var(--color-neo-progress)] text-black text-sm py-1.5 px-2",title:"Expand project with AI (E)",children:s.jsx(ca,{size:16})}),u&&g&&s.jsx("button",{onClick:u,className:"neo-btn bg-[var(--color-neo-pending)] text-black text-sm py-1.5 px-2",title:"Reset to pending",children:s.jsx(ia,{size:16})})]})]})}),s.jsx("div",{className:"p-4 space-y-3 flex-1 min-h-0 overflow-y-auto bg-[var(--color-neo-bg)]",children:n.length===0?s.jsx("div",{className:"text-center py-8 text-[var(--color-neo-text-secondary)]",children:"No features"}):n.map((m,x)=>s.jsx("div",{className:"animate-slide-in",style:{animationDelay:`${x*50}ms`},children:s.jsx(Yy,{feature:m,onClick:()=>l(m),isInProgress:r==="progress"})},m.id))})]})}function Zy({features:e,onFeatureClick:t,onAddFeature:n,onReportBug:r,onExpandProject:l,agentStatus:a,onResetInProgress:o}){const i=e&&e.pending.length+e.in_progress.length+e.done.length>0;return e?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pb-[45px]",children:[s.jsx(to,{title:"Pending",count:e.pending.length,features:e.pending,color:"pending",onFeatureClick:t,onAddFeature:n,onReportBug:r,onExpandProject:l,showExpandButton:i}),s.jsx(to,{title:"In Progress",count:e.in_progress.length,features:e.in_progress,color:"progress",onFeatureClick:t,onResetInProgress:o,showResetButton:a==="stopped"&&e.in_progress.length>0}),s.jsx(to,{title:"Done",count:e.done.length,features:e.done,color:"done",onFeatureClick:t})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["Pending","In Progress","Done"].map(c=>s.jsxs("div",{className:"neo-card p-4",children:[s.jsx("div",{className:"h-8 bg-[var(--color-neo-bg)] animate-pulse mb-4"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx("div",{className:"h-24 bg-[var(--color-neo-bg)] animate-pulse"},u))})]},c))})}function Jh({projectName:e,status:t}){const{data:n}=hc(),r=(n==null?void 0:n.yolo_mode)??!1,l=ny(e),a=ry(e),o=l.isPending||a.isPending,i=()=>l.mutate(r),c=()=>a.mutate(),u=t==="stopped"||t==="crashed";return s.jsx("div",{className:"flex items-center",children:u?s.jsx("button",{onClick:i,disabled:o,className:`neo-btn text-sm py-2 px-3 ${r?"neo-btn-yolo":"neo-btn-success"}`,title:r?"Start Agent (YOLO Mode)":"Start Agent","aria-label":r?"Start Agent in YOLO Mode":"Start Agent",children:o?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Fy,{size:18})}):s.jsx("button",{onClick:c,disabled:o,className:`neo-btn text-sm py-2 px-3 ${r?"neo-btn-yolo":"neo-btn-danger"}`,title:r?"Stop Agent (YOLO Mode)":"Stop Agent","aria-label":r?"Stop Agent in YOLO Mode":"Stop Agent",children:o?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Oy,{size:18})})})}function Jy({passing:e,total:t,percentage:n,isConnected:r}){return s.jsxs("div",{className:"neo-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-display text-lg font-bold uppercase",children:"Progress"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Yr,{size:14,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-done)]",children:"Live"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{size:14,className:"text-[var(--color-neo-danger)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-danger)]",children:"Offline"})]})})]}),s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("span",{className:"font-display text-5xl font-bold",children:n.toFixed(1)}),s.jsx("span",{className:"font-display text-2xl font-bold text-[var(--color-neo-text-secondary)]",children:"%"})]}),s.jsx("div",{className:"neo-progress mb-2",children:s.jsx("div",{className:"neo-progress-fill",style:{width:`${n}%`}})}),s.jsxs("div",{className:"flex justify-center gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono text-2xl font-bold text-[var(--color-neo-done)]",children:e}),s.jsx("span",{className:"block text-xs text-[var(--color-neo-text-secondary)] uppercase",children:"Passing"})]}),s.jsx("div",{className:"text-3xl text-[var(--color-neo-text-secondary)]",children:"/"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono text-2xl font-bold",children:t}),s.jsx("span",{className:"block text-xs text-[var(--color-neo-text-secondary)] uppercase",children:"Total"})]})]})]})}function Xy({onComplete:e}){const{data:t,isLoading:n,error:r}=sy(),{data:l,error:a}=ly(),o=(l==null?void 0:l.status)==="healthy"&&!a,i=o&&(t==null?void 0:t.claude_cli)&&(t==null?void 0:t.credentials),c=p.useCallback(()=>{i&&e()},[i,e]);return p.useEffect(()=>{c()},[c]),s.jsx("div",{className:"min-h-screen bg-[var(--color-neo-bg)] flex items-center justify-center p-4",children:s.jsxs("div",{className:"neo-card w-full max-w-lg p-8",children:[s.jsx("h1",{className:"font-display text-3xl font-bold text-center mb-2",children:"Setup Wizard"}),s.jsx("p",{className:"text-center text-[var(--color-neo-text-secondary)] mb-8",children:"Let's make sure everything is ready to go"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xl,{label:"Backend Server",description:"FastAPI server is running",status:a?"error":o?"success":"loading"}),s.jsx(xl,{label:"Claude CLI",description:"Claude Code CLI is installed",status:n?"loading":r?"error":t!=null&&t.claude_cli?"success":"error",helpLink:"https://docs.anthropic.com/claude/claude-code",helpText:"Install Claude Code"}),s.jsx(xl,{label:"Anthropic Credentials",description:"API credentials are configured",status:n?"loading":r?"error":t!=null&&t.credentials?"success":"error",helpLink:"https://console.anthropic.com/account/keys",helpText:"Get API Key"}),s.jsx(xl,{label:"Node.js",description:"Node.js is installed (for UI dev)",status:n?"loading":r?"error":t!=null&&t.node?"success":"warning",helpLink:"https://nodejs.org",helpText:"Install Node.js",optional:!0})]}),i&&s.jsx("button",{onClick:e,className:"neo-btn neo-btn-success w-full mt-8",children:"Continue to Dashboard"}),(a||r)&&s.jsxs("div",{className:"mt-6 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx("p",{className:"font-bold mb-2",children:"Setup Error"}),s.jsx("p",{className:"text-sm",children:a?"Cannot connect to the backend server. Make sure to run start_ui.py first.":"Failed to check setup status."})]})]})})}function xl({label:e,description:t,status:n,helpLink:r,helpText:l,optional:a}){return s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:n==="success"?s.jsx(tn,{size:24,className:"text-[var(--color-neo-done)]"}):n==="error"?s.jsx(Hu,{size:24,className:"text-[var(--color-neo-danger)]"}):n==="warning"?s.jsx(Hu,{size:24,className:"text-[var(--color-neo-pending)]"}):s.jsx(ue,{size:24,className:"animate-spin text-[var(--color-neo-progress)]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-display font-bold",children:e}),a&&s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"(optional)"})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:t}),(n==="error"||n==="warning")&&r&&s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-sm text-[var(--color-neo-accent)] hover:underline",children:[l," ",s.jsx(Hh,{size:12})]})]})]})}function ev({projectName:e,onClose:t}){const n=p.useId(),[r,l]=p.useState(""),[a,o]=p.useState(""),[i,c]=p.useState(""),[u,g]=p.useState(""),[m,x]=p.useState([{id:`${n}-step-0`,value:""}]),[v,j]=p.useState(null),[N,C]=p.useState(1),[f,d]=p.useState(!1),[h,y]=p.useState([]),[E,S]=p.useState(!1),R=p.useRef(null),I=p.useRef(null),P=Ah(e),_=p.useCallback(async O=>{const B=Array.from(O),K=[];for(const M of B)if(M.type.startsWith("text/")||M.name.endsWith(".ts")||M.name.endsWith(".tsx")||M.name.endsWith(".js")||M.name.endsWith(".jsx")||M.name.endsWith(".java")||M.name.endsWith(".py")||M.name.endsWith(".json")||M.name.endsWith(".xml")||M.name.endsWith(".yaml")||M.name.endsWith(".yml")||M.name.endsWith(".md")||M.name.endsWith(".css")||M.name.endsWith(".html")||M.name.endsWith(".sql")||M.name.endsWith(".log")||M.name.endsWith(".txt"))try{const D=await M.text();K.push({id:crypto.randomUUID(),name:M.name,path:M.webkitRelativePath||M.name,content:D.slice(0,1e4)})}catch(D){console.error("Failed to read file:",M.name,D)}y(M=>[...M,...K])},[]),W=p.useCallback(O=>{O.preventDefault(),S(!0)},[]),A=p.useCallback(O=>{O.preventDefault(),S(!1)},[]),T=p.useCallback(O=>{O.preventDefault(),S(!1),O.dataTransfer.files.length>0&&_(O.dataTransfer.files)},[_]),L=()=>{var O;(O=I.current)==null||O.click()},$=O=>{O.target.files&&O.target.files.length>0&&_(O.target.files)},V=O=>{y(B=>B.filter(K=>K.id!==O))},Z=async()=>{if(f){R.current&&(R.current.abort(),R.current=null),d(!1);return}if(!i.trim())return;j(null),d(!0);let O=i;if(h.length>0){O+=`

--- Related Files ---
`;for(const B of h)O+=`
### File: ${B.name}
\`\`\`
${B.content}
\`\`\`
`}R.current=new AbortController;try{const B=await Vx(e,{description:O},R.current.signal);if(B.success){if(B.name&&o(B.name),B.category&&l(B.category),B.description&&c(B.description),B.steps&&B.steps.length>0){const K=B.steps.map((M,D)=>({id:`${n}-step-${D}`,value:M}));x(K),C(K.length)}}else j(B.error||"AI expansion failed")}catch(B){B instanceof Error&&B.name==="AbortError"||j(B instanceof Error?B.message:"AI expansion failed")}finally{d(!1),R.current=null}},z=()=>{x([...m,{id:`${n}-step-${N}`,value:""}]),C(N+1)},F=O=>{x(m.filter(B=>B.id!==O))},k=(O,B)=>{x(m.map(K=>K.id===O?{...K,value:B}:K))},b=async O=>{O.preventDefault(),j(null);const B=m.map(K=>K.value.trim()).filter(K=>K.length>0);try{await P.mutateAsync({category:r.trim(),name:a.trim(),description:i.trim(),steps:B,priority:u?parseInt(u,10):void 0}),t()}catch(K){j(K instanceof Error?K.message:"Failed to create feature")}},Q=r.trim()&&a.trim()&&i.trim();return s.jsx("div",{className:"neo-modal-backdrop",children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsx("h2",{className:"font-display text-2xl font-bold",children:"Add Feature"}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[v&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:v}),s.jsx("button",{type:"button",onClick:()=>j(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Category"}),s.jsx("input",{type:"text",value:r,onChange:O=>l(O.target.value),placeholder:"e.g., Authentication, UI, API",className:"neo-input",required:!0})]}),s.jsxs("div",{className:"w-32",children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Priority"}),s.jsx("input",{type:"number",value:u,onChange:O=>g(O.target.value),placeholder:"Auto",min:"1",className:"neo-input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Feature Name"}),s.jsx("input",{type:"text",value:a,onChange:O=>o(O.target.value),placeholder:"e.g., User login form",className:"neo-input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Description"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:i,onChange:O=>c(O.target.value),placeholder:"Describe what this feature should do...",className:"neo-input min-h-[100px] resize-y pr-12",required:!0}),s.jsx("button",{type:"button",onClick:Z,disabled:!i.trim()&&!f,className:`absolute top-2 right-2 p-1.5 rounded border-2 transition-all ${f?"bg-red-500 border-[var(--color-neo-border)] hover:scale-105 cursor-pointer":i.trim()?"bg-[var(--color-neo-progress)] border-[var(--color-neo-border)] hover:scale-105 cursor-pointer":"bg-gray-200 border-gray-300 opacity-50 cursor-not-allowed"}`,title:f?"Cancel AI expansion":"Expand with AI - fills in name, category, and steps",children:f?s.jsx(ky,{size:16,className:"text-white"}):s.jsx(ca,{size:16})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:["Type a description then click the ",s.jsx(ca,{size:12,className:"inline"})," button to auto-fill the form with AI"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Related Files (Optional)"}),s.jsxs("div",{className:`border-3 border-dashed rounded-lg p-3 transition-colors ${E?"border-[var(--color-neo-primary)] bg-blue-50":"border-[var(--color-neo-border)] hover:border-[var(--color-neo-primary)]"}`,onDragOver:W,onDragLeave:A,onDrop:T,children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Kh,{size:20,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Drag & drop files here, or"}),s.jsx("button",{type:"button",onClick:L,className:"neo-btn neo-btn-ghost text-sm py-1 px-2",children:"Browse"})]}),s.jsx("input",{ref:I,type:"file",multiple:!0,onChange:$,className:"hidden",accept:".ts,.tsx,.js,.jsx,.java,.py,.json,.xml,.yaml,.yml,.md,.css,.html,.sql,.log,.txt"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] text-center mt-2",children:".ts, .js, .java, .py, .json, .md, .txt and more"})]}),h.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:h.map(O=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded",children:[s.jsx(Ca,{size:18,className:"text-[var(--color-neo-text-secondary)] flex-shrink-0"}),s.jsx("span",{className:"flex-1 font-mono text-sm truncate",children:O.name}),s.jsxs("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:[Math.round(O.content.length/1024),"KB"]}),s.jsx("button",{type:"button",onClick:()=>V(O.id),className:"neo-btn neo-btn-ghost p-1 text-red-600",children:s.jsx(Rn,{size:16})})]},O.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Test Steps (Optional)"}),s.jsx("div",{className:"space-y-2",children:m.map((O,B)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"neo-input w-12 text-center flex-shrink-0 flex items-center justify-center",children:B+1}),s.jsx("input",{type:"text",value:O.value,onChange:K=>k(O.id,K.target.value),placeholder:"Describe this step...",className:"neo-input flex-1"}),m.length>1&&s.jsx("button",{type:"button",onClick:()=>F(O.id),className:"neo-btn neo-btn-ghost p-2",children:s.jsx(Rn,{size:18})})]},O.id))}),s.jsxs("button",{type:"button",onClick:z,className:"neo-btn neo-btn-ghost mt-2 text-sm",children:[s.jsx(Dt,{size:16}),"Add Step"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"submit",disabled:!Q||P.isPending,className:"neo-btn neo-btn-success flex-1",children:P.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Dt,{size:18}),"Create Feature"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]})]})})}function tv({feature:e,projectName:t,onClose:n}){const[r,l]=p.useState(null),[a,o]=p.useState(!1),i=ey(t),c=Xx(t),u=async()=>{l(null);try{await i.mutateAsync(e.id),n()}catch(m){l(m instanceof Error?m.message:"Failed to skip feature")}},g=async()=>{l(null);try{await c.mutateAsync(e.id),n()}catch(m){l(m instanceof Error?m.message:"Failed to delete feature")}};return s.jsx("div",{className:"neo-modal-backdrop",onClick:n,children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl p-0",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"neo-badge bg-[var(--color-neo-accent)] text-white mb-2",children:e.category}),s.jsx("h2",{className:"font-display text-2xl font-bold",children:e.name})]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[r&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:r}),s.jsx("button",{onClick:()=>l(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:[e.passes?s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:24,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"font-display font-bold text-[var(--color-neo-done)]",children:"COMPLETE"})]}):s.jsxs(s.Fragment,{children:[s.jsx(qh,{size:24,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"font-display font-bold text-[var(--color-neo-text-secondary)]",children:"PENDING"})]}),s.jsxs("span",{className:"ml-auto font-mono text-sm",children:["Priority: #",e.priority]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display font-bold mb-2 uppercase text-sm",children:"Description"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:e.description})]}),e.steps.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-display font-bold mb-2 uppercase text-sm",children:"Test Steps"}),s.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.steps.map((m,x)=>s.jsx("li",{className:"p-3 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:m},x))})]})]}),!e.passes&&s.jsx("div",{className:"p-6 border-t-3 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"font-bold text-center",children:"Are you sure you want to delete this feature?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:g,disabled:c.isPending,className:"neo-btn neo-btn-danger flex-1",children:c.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):"Yes, Delete"}),s.jsx("button",{onClick:()=>o(!1),disabled:c.isPending,className:"neo-btn neo-btn-ghost flex-1",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:u,disabled:i.isPending,className:"neo-btn neo-btn-warning flex-1",children:i.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ay,{size:18}),"Skip (Move to End)"]})}),s.jsx("button",{onClick:()=>o(!0),disabled:i.isPending,className:"neo-btn neo-btn-danger",children:s.jsx(Rn,{size:18})})]})})]})})}const Gu=150,Yu=600,nv=288,Zu="debug-panel-height";function rv({logs:e,isOpen:t,onToggle:n,onClear:r,onHeightChange:l}){const a=p.useRef(null),[o,i]=p.useState(!0),[c,u]=p.useState(!1),[g,m]=p.useState(()=>{const h=localStorage.getItem(Zu);return h?Math.min(Math.max(parseInt(h,10),Gu),Yu):nv});p.useEffect(()=>{o&&a.current&&t&&(a.current.scrollTop=a.current.scrollHeight)},[e,o,t]),p.useEffect(()=>{l&&t&&l(g)},[g,t,l]);const x=p.useCallback(h=>{const y=window.innerHeight-h.clientY,E=Math.min(Math.max(y,Gu),Yu);m(E)},[]),v=p.useCallback(()=>{u(!1),localStorage.setItem(Zu,g.toString())},[g]);p.useEffect(()=>(c&&(document.addEventListener("mousemove",x),document.addEventListener("mouseup",v),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",v),document.body.style.cursor="",document.body.style.userSelect=""}),[c,x,v]);const j=h=>{h.preventDefault(),h.stopPropagation(),u(!0)},N=h=>{const y=h.currentTarget,E=y.scrollHeight-y.scrollTop<=y.clientHeight+50;i(E)},C=h=>{const y=h.toLowerCase();return y.includes("error")||y.includes("exception")||y.includes("traceback")?"error":y.includes("warn")||y.includes("warning")?"warn":y.includes("debug")?"debug":"info"},f=h=>{switch(h){case"error":return"text-red-400";case"warn":return"text-yellow-400";case"debug":return"text-gray-400";case"info":default:return"text-green-400"}},d=h=>{try{return new Date(h).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return""}};return s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-40 ${c?"":"transition-all duration-200"}`,style:{height:t?g:40},children:[t&&s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 cursor-ns-resize group flex items-center justify-center -translate-y-1/2 z-50",onMouseDown:j,children:s.jsx("div",{className:"w-16 h-1.5 bg-[#333] rounded-full group-hover:bg-[#555] transition-colors flex items-center justify-center",children:s.jsx(Ey,{size:12,className:"text-gray-500 group-hover:text-gray-400"})})}),s.jsxs("div",{className:"flex items-center justify-between h-10 px-4 bg-[#1a1a1a] border-t-3 border-black cursor-pointer",onClick:n,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dy,{size:16,className:"text-green-400"}),s.jsx("span",{className:"font-mono text-sm text-white font-bold",children:"Debug"}),s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-mono bg-[#333] text-gray-500 rounded",title:"Toggle debug panel",children:"D"}),e.length>0&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-mono bg-[#333] text-gray-300 rounded",children:e.length}),!o&&t&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-mono bg-yellow-600 text-white rounded",children:"Paused"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t&&s.jsx("button",{onClick:h=>{h.stopPropagation(),r()},className:"p-1.5 hover:bg-[#333] rounded transition-colors",title:"Clear logs",children:s.jsx(Rn,{size:14,className:"text-gray-400"})}),s.jsx("div",{className:"p-1",children:t?s.jsx(Wh,{size:16,className:"text-gray-400"}):s.jsx(Ny,{size:16,className:"text-gray-400"})})]})]}),t&&s.jsx("div",{ref:a,onScroll:N,className:"h-[calc(100%-2.5rem)] overflow-y-auto bg-[#1a1a1a] p-2 font-mono text-sm",children:e.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No logs yet. Start the agent to see output."}):s.jsx("div",{className:"space-y-0.5",children:e.map((h,y)=>{const E=C(h.line),S=f(E),R=d(h.timestamp);return s.jsxs("div",{className:"flex gap-2 hover:bg-[#2a2a2a] px-1 py-0.5 rounded",children:[s.jsx("span",{className:"text-gray-500 select-none shrink-0",children:R}),s.jsx("span",{className:`${S} whitespace-pre-wrap break-all`,children:h.line})]},`${h.timestamp}-${y}`)})})})]})}const sv=3e4;function lv(e){const t=e.trim();return/^\[Tool:/.test(t)||/^\s*Input:\s*\{/.test(t)||/^\[(Done|Error)\]/.test(t)||/^\[Error\]/.test(t)||/^Output:/.test(t)||/^[[{]/.test(t)||t.length<15||/^[A-Za-z]:\\/.test(t)||/^\/[a-z]/.test(t)?!1:/^[A-Z]/.test(t)&&t.length>20}function av(e){for(let t=e.length-1;t>=0;t--)if(lv(e[t].line))return e[t].line.trim();return null}function ov({logs:e,agentStatus:t}){const n=p.useMemo(()=>av(e),[e]),[r,l]=p.useState(null),[a,o]=p.useState(!0),[i,c]=p.useState(!1),u=e.length>0?new Date(e[e.length-1].timestamp).getTime():0,g=p.useMemo(()=>n?t==="running"?!0:t==="paused"?Date.now()-u<sv:!1:!1,[n,t,u]);if(p.useEffect(()=>{if(n!==r&&n){o(!1);const x=setTimeout(()=>{l(n),o(!0)},150);return()=>clearTimeout(x)}},[n,r]),p.useEffect(()=>{if(g)c(!0);else{const x=setTimeout(()=>c(!1),300);return()=>clearTimeout(x)}},[g]),!i||!r)return null;const m=t==="running";return s.jsx("div",{className:`
        transition-all duration-300 ease-out overflow-hidden
        ${g?"opacity-100 max-h-20":"opacity-0 max-h-0"}
      `,children:s.jsxs("div",{className:`
          relative
          bg-[var(--color-neo-card)]
          border-3 border-[var(--color-neo-border)]
          shadow-[var(--shadow-neo-md)]
          px-4 py-3
          flex items-center gap-3
          transition-all duration-150 ease-out
          hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-[var(--shadow-neo-lg)]
          ${m?"animate-pulse-neo":""}
        `,children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx(wy,{size:22,className:"text-[var(--color-neo-progress)]",strokeWidth:2.5}),m&&s.jsx(ca,{size:10,className:"absolute -top-1 -right-1 text-[var(--color-neo-pending)] animate-pulse"})]}),s.jsx("p",{className:`
            font-mono text-sm truncate transition-all duration-150 ease-out
            ${m?"animate-shimmer":"text-[var(--color-neo-text)]"}
          `,style:{opacity:a?1:0,transform:a?"translateY(0)":"translateY(-4px)"},children:r==null?void 0:r.replace(/:$/,"")}),m&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[var(--color-neo-progress)] opacity-50",children:s.jsx("div",{className:"h-full bg-[var(--color-neo-progress)] animate-pulse",style:{width:"100%"}})})]})})}function iv({onClick:e,isOpen:t}){return s.jsx("button",{onClick:e,className:`
        fixed bottom-6 right-6 z-50
        w-14 h-14
        flex items-center justify-center
        bg-[var(--color-neo-progress)] text-white
        border-3 border-[var(--color-neo-border)]
        rounded-full
        shadow-neo-md
        transition-all duration-200
        hover:shadow-neo-lg hover:-translate-y-0.5
        active:shadow-neo-sm active:translate-y-0.5
        ${t?"rotate-0":""}
      `,title:t?"Close Assistant (Press A)":"Open Assistant (Press A)","aria-label":t?"Close Assistant":"Open Assistant",children:t?s.jsx(pe,{size:24}):s.jsx(Ry,{size:24})})}function yl(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function cv({projectName:e,onError:t}){const[n,r]=p.useState([]),[l,a]=p.useState(!1),[o,i]=p.useState("disconnected"),[c,u]=p.useState(null),g=p.useRef(null),m=p.useRef(null),x=p.useRef(0),v=3,j=p.useRef(null),N=p.useRef(null),C=p.useRef(null);p.useEffect(()=>()=>{j.current&&clearInterval(j.current),N.current&&clearTimeout(N.current),C.current&&clearTimeout(C.current),g.current&&g.current.close(),m.current=null},[]);const f=p.useCallback(()=>{var _,W;if(((_=g.current)==null?void 0:_.readyState)===WebSocket.OPEN||((W=g.current)==null?void 0:W.readyState)===WebSocket.CONNECTING)return;i("connecting");const S=window.location.protocol==="https:"?"wss:":"ws:",R=window.location.host,I=`${S}//${R}/ws/assistant-chat/${encodeURIComponent(e)}`,P=new WebSocket(I);g.current=P,P.onopen=()=>{i("connected"),x.current=0,j.current=window.setInterval(()=>{P.readyState===WebSocket.OPEN&&P.send(JSON.stringify({type:"ping"}))},3e4)},P.onclose=()=>{if(i("disconnected"),j.current&&(clearInterval(j.current),j.current=null),x.current<v){x.current++;const A=Math.min(1e3*Math.pow(2,x.current),1e4);N.current=window.setTimeout(f,A)}},P.onerror=()=>{i("error"),t==null||t("WebSocket connection error")},P.onmessage=A=>{var T;try{const L=JSON.parse(A.data);switch(L.type){case"text":{r($=>{const V=$[$.length-1];return(V==null?void 0:V.role)==="assistant"&&V.isStreaming?[...$.slice(0,-1),{...V,content:V.content+L.content}]:(m.current=yl(),[...$,{id:m.current,role:"assistant",content:L.content,timestamp:new Date,isStreaming:!0}])});break}case"tool_call":{let $=`Using tool: ${L.tool}`;if(L.tool==="mcp__features__feature_create"){const V=L.input;$=`Creating feature: "${V.name||"New Feature"}" in ${V.category||"General"}`}else if(L.tool==="mcp__features__feature_create_bulk"){const Z=((T=L.input.features)==null?void 0:T.length)||0;$=`Creating ${Z} feature${Z!==1?"s":""}`}else if(L.tool==="mcp__features__feature_skip")$="Skipping feature (moving to end of queue)";else if(L.tool==="mcp__features__feature_get_stats")$="Checking project progress";else if(L.tool==="mcp__features__feature_get_next")$="Getting next pending feature";else if(L.tool==="Read"){const Z=L.input.file_path||"";$=`Reading file: ${Z.split("/").pop()||Z}`}else L.tool==="Glob"?$=`Searching for files: ${L.input.pattern||"..."}`:L.tool==="Grep"&&($=`Searching for: ${L.input.pattern||"..."}`);r(V=>[...V,{id:yl(),role:"system",content:$,timestamp:new Date}]);break}case"conversation_created":{u(L.conversation_id);break}case"response_done":{a(!1),m.current=null,r($=>{const V=$[$.length-1];return(V==null?void 0:V.role)==="assistant"&&V.isStreaming?[...$.slice(0,-1),{...V,isStreaming:!1}]:$});break}case"error":{a(!1),t==null||t(L.content),r($=>[...$,{id:yl(),role:"system",content:`Error: ${L.content}`,timestamp:new Date}]);break}case"pong":break}}catch(L){console.error("Failed to parse WebSocket message:",L)}}},[e,t]),d=p.useCallback(S=>{C.current&&(clearTimeout(C.current),C.current=null),f();const R=()=>{var I,P;if(((I=g.current)==null?void 0:I.readyState)===WebSocket.OPEN){C.current=null,a(!0);const _={type:"start"};S&&(_.conversation_id=S,u(S)),g.current.send(JSON.stringify(_))}else((P=g.current)==null?void 0:P.readyState)===WebSocket.CONNECTING?C.current=window.setTimeout(R,100):C.current=null};C.current=window.setTimeout(R,100)},[f]),h=p.useCallback(S=>{if(!g.current||g.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}r(R=>[...R,{id:yl(),role:"user",content:S,timestamp:new Date}]),a(!0),g.current.send(JSON.stringify({type:"message",content:S}))},[t]),y=p.useCallback(()=>{x.current=v,j.current&&(clearInterval(j.current),j.current=null),g.current&&(g.current.close(),g.current=null),i("disconnected")},[]),E=p.useCallback(()=>{r([]),u(null)},[]);return{messages:n,isLoading:l,connectionStatus:o,conversationId:c,start:d,sendMessage:h,disconnect:y,clearMessages:E}}function uv({projectName:e}){const[t,n]=p.useState(""),r=p.useRef(null),l=p.useRef(null),a=p.useRef(!1),o=p.useCallback(j=>{console.error("Assistant error:",j)},[]),{messages:i,isLoading:c,connectionStatus:u,start:g,sendMessage:m}=cv({projectName:e,onError:o});p.useEffect(()=>{var j;(j=r.current)==null||j.scrollIntoView({behavior:"smooth"})},[i]),p.useEffect(()=>{a.current||(a.current=!0,g())},[g]),p.useEffect(()=>{var j;c||(j=l.current)==null||j.focus()},[c]);const x=()=>{const j=t.trim();!j||c||(m(j),n(""))},v=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),x())};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 border-b-2 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:u==="connected"?s.jsxs(s.Fragment,{children:[s.jsx(Yr,{size:14,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Connected"})]}):u==="connecting"?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:14,className:"text-[var(--color-neo-progress)] animate-spin"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Connecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{size:14,className:"text-[var(--color-neo-danger)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Disconnected"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-[var(--color-neo-bg)]",children:i.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-neo-text-secondary)] text-sm",children:c?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Connecting to assistant..."})]}):s.jsx("span",{children:"Ask me anything about the codebase"})}):s.jsxs("div",{className:"py-4",children:[i.map(j=>s.jsx(xc,{message:j},j.id)),s.jsx("div",{ref:r})]})}),c&&i.length>0&&s.jsx("div",{className:"px-4 py-2 border-t-2 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:s.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-neo-text-secondary)] text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{children:"Thinking..."})]})}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] p-4 bg-white",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("textarea",{ref:l,value:t,onChange:j=>n(j.target.value),onKeyDown:v,placeholder:"Ask about the codebase...",disabled:c||u!=="connected",className:`\r
              flex-1\r
              neo-input\r
              resize-none\r
              min-h-[44px]\r
              max-h-[120px]\r
              py-2.5\r
            `,rows:1}),s.jsx("button",{onClick:x,disabled:!t.trim()||c||u!=="connected",className:`\r
              neo-btn neo-btn-primary\r
              px-4\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
            `,title:"Send message",children:c?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(gc,{size:18})})]}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}function dv({projectName:e,isOpen:t,onClose:n}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 transition-opacity duration-300",onClick:n,"aria-hidden":"true"}),s.jsxs("div",{className:`
          fixed right-0 top-0 bottom-0 z-50
          w-[400px] max-w-[90vw]
          bg-white
          border-l-4 border-[var(--color-neo-border)]
          shadow-[-8px_0_0px_rgba(0,0,0,1)]
          transform transition-transform duration-300 ease-out
          flex flex-col
          ${t?"translate-x-0":"translate-x-full"}
        `,role:"dialog","aria-label":"Project Assistant","aria-hidden":!t,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b-3 border-[var(--color-neo-border)] bg-[var(--color-neo-progress)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white border-2 border-[var(--color-neo-border)] p-1.5 shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(Kr,{size:18})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-display font-bold text-white",children:"Project Assistant"}),s.jsx("p",{className:"text-xs text-white/80 font-mono",children:e})]})]}),s.jsx("button",{onClick:n,className:`\r
              neo-btn neo-btn-ghost\r
              p-2\r
              bg-white/20 border-white/40\r
              hover:bg-white/30\r
              text-white\r
            `,title:"Close Assistant (Press A)","aria-label":"Close Assistant",children:s.jsx(pe,{size:18})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:t&&s.jsx(uv,{projectName:e})})]})]})}function vl(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function fv({projectName:e,onComplete:t,onError:n}){const[r,l]=p.useState([]),[a,o]=p.useState(!1),[i,c]=p.useState(!1),[u,g]=p.useState("disconnected"),[m,x]=p.useState(0),[v,j]=p.useState([]),N=p.useRef(null),C=p.useRef(null),f=p.useRef(0),d=3,h=p.useRef(null),y=p.useRef(null),E=p.useRef(!1),S=p.useRef(!1);p.useEffect(()=>{E.current=i},[i]),p.useEffect(()=>()=>{h.current&&clearInterval(h.current),y.current&&clearTimeout(y.current),N.current&&N.current.close()},[]);const R=p.useCallback(()=>{var $;if(S.current||(($=N.current)==null?void 0:$.readyState)===WebSocket.OPEN)return;g("connecting");const W=window.location.protocol==="https:"?"wss:":"ws:",A=window.location.host,T=`${W}//${A}/ws/expand-project/${encodeURIComponent(e)}`,L=new WebSocket(T);N.current=L,L.onopen=()=>{g("connected"),f.current=0,S.current=!1,h.current=window.setInterval(()=>{L.readyState===WebSocket.OPEN&&L.send(JSON.stringify({type:"ping"}))},3e4)},L.onclose=()=>{if(g("disconnected"),h.current&&(clearInterval(h.current),h.current=null),!S.current&&f.current<d&&!E.current){f.current++;const V=Math.min(1e3*Math.pow(2,f.current),1e4);y.current=window.setTimeout(R,V)}},L.onerror=()=>{g("error"),n==null||n("WebSocket connection error")},L.onmessage=V=>{try{const Z=JSON.parse(V.data);switch(Z.type){case"text":{l(z=>{const F=z[z.length-1];return(F==null?void 0:F.role)==="assistant"&&F.isStreaming?[...z.slice(0,-1),{...F,content:F.content+Z.content}]:(C.current=vl(),[...z,{id:C.current,role:"assistant",content:Z.content,timestamp:new Date,isStreaming:!0}])});break}case"features_created":{x(z=>z+Z.count),j(Z.features),l(z=>[...z,{id:vl(),role:"system",content:`Created ${Z.count} new feature${Z.count!==1?"s":""}!`,timestamp:new Date}]);break}case"expansion_complete":{c(!0),o(!1),l(z=>{const F=z[z.length-1];return(F==null?void 0:F.role)==="assistant"&&F.isStreaming?[...z.slice(0,-1),{...F,isStreaming:!1}]:z}),t==null||t(Z.total_added);break}case"error":{o(!1),n==null||n(Z.content),l(z=>[...z,{id:vl(),role:"system",content:`Error: ${Z.content}`,timestamp:new Date}]);break}case"pong":break;case"response_done":{o(!1),l(z=>{const F=z[z.length-1];return(F==null?void 0:F.role)==="assistant"&&F.isStreaming?[...z.slice(0,-1),{...F,isStreaming:!1}]:z});break}}}catch(Z){console.error("Failed to parse WebSocket message:",Z)}}},[e,t,n]),I=p.useCallback(()=>{R();let W=0;const A=50,T=()=>{var L,$;((L=N.current)==null?void 0:L.readyState)===WebSocket.OPEN?(o(!0),N.current.send(JSON.stringify({type:"start"}))):(($=N.current)==null?void 0:$.readyState)===WebSocket.CONNECTING&&(W++<A?setTimeout(T,100):(n==null||n("Connection timeout"),o(!1)))};setTimeout(T,100)},[R,n]),P=p.useCallback((W,A)=>{if(!N.current||N.current.readyState!==WebSocket.OPEN){n==null||n("Not connected");return}l(L=>[...L,{id:vl(),role:"user",content:W,attachments:A,timestamp:new Date}]),o(!0);const T={type:"message",content:W};A&&A.length>0&&(T.attachments=A.map(L=>({filename:L.filename,mimeType:L.mimeType,base64Data:L.base64Data}))),N.current.send(JSON.stringify(T))},[n]),_=p.useCallback(()=>{S.current=!0,f.current=d,h.current&&(clearInterval(h.current),h.current=null),y.current&&(clearTimeout(y.current),y.current=null),N.current&&(N.current.close(),N.current=null),g("disconnected")},[]);return{messages:r,isLoading:a,isComplete:i,connectionStatus:u,featuresCreated:m,recentFeatures:v,start:I,sendMessage:P,disconnect:_}}const hv=5*1024*1024,pv=["image/jpeg","image/png"];function mv({projectName:e,onComplete:t,onCancel:n}){const[r,l]=p.useState(""),[a,o]=p.useState(null),[i,c]=p.useState([]),u=p.useRef(null),g=p.useRef(null),m=p.useRef(null),x=p.useCallback(A=>o(A),[]),{messages:v,isLoading:j,isComplete:N,connectionStatus:C,featuresCreated:f,start:d,sendMessage:h,disconnect:y}=fv({projectName:e,onComplete:t,onError:x});p.useEffect(()=>(d(),()=>{y()}),[]),p.useEffect(()=>{var A;(A=u.current)==null||A.scrollIntoView({behavior:"smooth"})},[v,j]),p.useEffect(()=>{!j&&g.current&&g.current.focus()},[j]);const E=()=>{const A=r.trim();!A&&i.length===0||j||(h(A,i.length>0?i:void 0),l(""),c([]))},S=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),E())},R=p.useCallback(A=>{A&&Array.from(A).forEach(T=>{if(!pv.includes(T.type)){o(`Invalid file type: ${T.name}. Only JPEG and PNG are supported.`);return}if(T.size>hv){o(`File too large: ${T.name}. Maximum size is 5 MB.`);return}const L=new FileReader;L.onload=$=>{var F;const V=(F=$.target)==null?void 0:F.result,Z=V.split(",")[1],z={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,filename:T.name,mimeType:T.type,base64Data:Z,previewUrl:V,size:T.size};c(k=>[...k,z])},L.onerror=()=>{o(`Failed to read file: ${T.name}`)},L.readAsDataURL(T)})},[]),I=p.useCallback(A=>{c(T=>T.filter(L=>L.id!==A))},[]),P=p.useCallback(A=>{A.preventDefault(),R(A.dataTransfer.files)},[R]),_=p.useCallback(A=>{A.preventDefault()},[]),W=()=>{switch(C){case"connected":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-done)]",children:[s.jsx(Yr,{size:12}),"Connected"]});case"connecting":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-pending)]",children:[s.jsx(Yr,{size:12,className:"animate-pulse"}),"Connecting..."]});case"error":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-danger)]",children:[s.jsx(Gr,{size:12}),"Error"]});default:return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx(Gr,{size:12}),"Disconnected"]})}};return s.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-neo-bg)]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:["Expand Project: ",e]}),s.jsx(W,{}),f>0&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(Dt,{size:14}),f," added"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[N&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(tn,{size:16}),"Complete"]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",title:"Close",children:s.jsx(pe,{size:20})})]})]}),a&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[var(--color-neo-danger)] text-white border-b-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:16}),s.jsx("span",{className:"flex-1 text-sm",children:a}),s.jsx("button",{onClick:()=>o(null),className:"p-1 hover:bg-white/20 rounded",children:s.jsx(pe,{size:14})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[v.length===0&&!j&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:s.jsxs("div",{className:"neo-card p-6 max-w-md",children:[s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"Starting Project Expansion"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Connecting to Claude to help you add new features to your project..."}),C==="error"&&s.jsxs("button",{onClick:d,className:"neo-btn neo-btn-primary mt-4 text-sm",children:[s.jsx(ia,{size:14}),"Retry Connection"]})]})}),v.map(A=>s.jsx(xc,{message:A},A.id)),j&&s.jsx(Gh,{}),s.jsx("div",{ref:u})]}),!N&&s.jsxs("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-white",onDrop:P,onDragOver:_,children:[i.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:i.map(A=>s.jsxs("div",{className:"relative group border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:A.previewUrl,alt:A.filename,className:"w-16 h-16 object-cover"}),s.jsx("button",{onClick:()=>I(A.id),className:"absolute -top-2 -right-2 bg-[var(--color-neo-danger)] text-white rounded-full p-0.5 border-2 border-[var(--color-neo-border)] hover:scale-110 transition-transform",title:"Remove attachment",children:s.jsx(pe,{size:12})}),s.jsx("span",{className:"text-xs truncate block max-w-16 mt-1 text-center",children:A.filename.length>10?`${A.filename.substring(0,7)}...`:A.filename})]},A.id))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:A=>R(A.target.files),className:"hidden"}),s.jsx("button",{onClick:()=>{var A;return(A=m.current)==null?void 0:A.click()},disabled:C!=="connected",className:"neo-btn neo-btn-ghost p-3",title:"Attach image (JPEG, PNG - max 5MB)",children:s.jsx(oa,{size:18})}),s.jsx("input",{ref:g,type:"text",value:r,onChange:A=>l(A.target.value),onKeyDown:S,placeholder:i.length>0?"Add a message with your image(s)...":"Describe the features you want to add...",className:"neo-input flex-1",disabled:j||C!=="connected"}),s.jsx("button",{onClick:E,disabled:!r.trim()&&i.length===0||j||C!=="connected",className:"neo-btn neo-btn-primary px-6",children:s.jsx(gc,{size:18})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:["Press Enter to send. Drag & drop or click ",s.jsx(oa,{size:12,className:"inline"})," to attach images."]})]}),N&&s.jsx("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-[var(--color-neo-done)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{size:20}),s.jsxs("span",{className:"font-bold",children:["Added ",f," new feature",f!==1?"s":"","!"]})]}),s.jsx("button",{onClick:()=>t(f),className:"neo-btn bg-white",children:"Close"})]})})]})}function gv({isOpen:e,projectName:t,onClose:n,onFeaturesAdded:r}){if(!e)return null;const l=a=>{a>0&&r(),n()};return s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(mv,{projectName:t,onComplete:l,onCancel:n})})}const be={all:["ai-agents"],lists:()=>[...be.all,"list"],list:()=>[...be.lists()],enabled:()=>[...be.all,"enabled"],details:()=>[...be.all,"detail"],detail:e=>[...be.details(),e],providers:()=>[...be.all,"providers"],defaults:()=>[...be.all,"defaults"]},yc={all:["security"],status:()=>[...yc.all,"status"]};function xv(){return xt({queryKey:be.list(),queryFn:Ix})}function yv(){return xt({queryKey:be.providers(),queryFn:$x,staleTime:1/0})}function vv(){return xt({queryKey:be.defaults(),queryFn:Qx})}function jv(){const e=ke();return Re({mutationFn:t=>Ax(t),onSuccess:()=>{e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function wv(){const e=ke();return Re({mutationFn:({id:t,config:n})=>Ox(t,n),onSuccess:t=>{e.setQueryData(be.detail(t.id),t),e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function bv(){const e=ke();return Re({mutationFn:t=>Dx(t),onSuccess:()=>{e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function Nv(){return Re({mutationFn:e=>Lx(e)})}function Sv(){const e=ke();return Re({mutationFn:t=>Ux(t),onSuccess:(t,n)=>{e.setQueryData(be.detail(n),r=>r&&{...r,cachedModels:t}),e.invalidateQueries({queryKey:be.lists()})}})}function kv(){const e=ke();return Re({mutationFn:t=>Bx(t),onSuccess:t=>{e.setQueryData(be.defaults(),t)}})}function Cv(){return xt({queryKey:yc.status(),queryFn:Wx,staleTime:3e4})}function Ev(){const e=ke();return Re({mutationFn:t=>qx(t),onSuccess:()=>{e.invalidateQueries({queryKey:yc.status()}),e.invalidateQueries({queryKey:be.all})}})}function Pv({onClose:e,providers:t}){const[n,r]=p.useState("provider"),[l,a]=p.useState(""),[o,i]=p.useState(null),[c,u]=p.useState({}),[g,m]=p.useState(""),[x,v]=p.useState([]),[j,N]=p.useState(""),[C,f]=p.useState(null),d=jv(),h=Nv(),y=p.useRef(null);p.useEffect(()=>{const T=L=>{L.key==="Escape"&&e()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[e]);const E=T=>{i(T),u({}),m(""),f(null),r("credentials")},S=(T,L)=>{u($=>({...$,[T]:L}))},R=async()=>{if(o){f(null);try{const T=o.supportsCustomEndpoint&&g||void 0,L=await h.mutateAsync({providerType:o.type,credentials:c,endpointUrl:T});v(L),L.length>0&&N(L[0].id),r("model")}catch(T){f(T instanceof Error?T.message:"Failed to discover models")}}},I=async()=>{if(!(!o||!l.trim()||!j)){f(null);try{const T={name:l.trim(),providerType:o.type,credentials:c,defaultModel:j};o.supportsCustomEndpoint&&g&&(T.endpointUrl=g),await d.mutateAsync(T),e()}catch(T){f(T instanceof Error?T.message:"Failed to create agent")}}},P=()=>o?o.requiredCredentials.filter(L=>L.required).every(L=>{var $;return($=c[L.name])==null?void 0:$.trim()}):!1,_=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Select the LLM provider you want to configure."}),s.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[400px] overflow-y-auto",children:t.filter(T=>T.type!=="CLAUDE_CODE").map(T=>s.jsxs("button",{onClick:()=>E(T),className:"p-4 border-3 border-[var(--color-neo-border)] bg-white hover:bg-gray-50 text-left transition-colors",children:[s.jsx("div",{className:"font-display font-bold",children:T.displayName}),s.jsx("div",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1 line-clamp-2",children:T.description}),T.supportsStreaming&&s.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Supports streaming"})]},T.type))})]}),W=()=>o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{onClick:()=>r("provider"),className:"neo-btn neo-btn-ghost p-1",children:s.jsx(qu,{size:20})}),s.jsx("h3",{className:"font-display font-bold",children:o.displayName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Agent Name *"}),s.jsx("input",{type:"text",value:l,onChange:T=>a(T.target.value),placeholder:"e.g., My OpenAI Agent",className:"neo-input w-full"})]}),o.requiredCredentials.map(T=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:[T.label," ",T.required&&"*"]}),s.jsx("input",{type:T.type==="password"?"password":"text",value:c[T.name]||"",onChange:L=>S(T.name,L.target.value),placeholder:T.placeholder,className:"neo-input w-full"})]},T.name)),o.supportsCustomEndpoint&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Endpoint URL (optional)"}),s.jsx("input",{type:"url",value:g,onChange:T=>m(T.target.value),placeholder:"https://...",className:"neo-input w-full"})]}),C&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),C]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:R,disabled:!P()||!l.trim()||h.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:h.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Validating..."]}):s.jsxs(s.Fragment,{children:["Discover Models",s.jsx(di,{size:16})]})})]})]}):null,A=()=>o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{onClick:()=>r("credentials"),className:"neo-btn neo-btn-ghost p-1",children:s.jsx(qu,{size:20})}),s.jsx("h3",{className:"font-display font-bold",children:"Select Model"})]}),s.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 text-green-700 text-sm flex items-center gap-2",children:[s.jsx(tn,{size:16}),"Credentials validated successfully!"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Default Model *"}),s.jsx("select",{value:j,onChange:T=>N(T.target.value),className:"neo-input w-full",children:x.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))})]}),C&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),C]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:!j||d.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Creating..."]}):"Create Agent"})]})]}):null;return s.jsx("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:s.jsxs("div",{ref:y,className:"neo-modal w-full max-w-lg p-6",onClick:T=>T.stopPropagation(),role:"dialog","aria-labelledby":"add-agent-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{id:"add-agent-title",className:"font-display text-xl font-bold",children:"Add AI Agent"}),s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),n==="provider"&&_(),n==="credentials"&&W(),n==="model"&&A()]})})}function Mv({agent:e,onClose:t,providers:n}){const[r,l]=p.useState(e.name),[a,o]=p.useState(e.defaultModel),[i,c]=p.useState(e.endpointUrl||""),[u,g]=p.useState(e.enabled),[m,x]=p.useState(!1),[v,j]=p.useState({}),[N,C]=p.useState(null),f=wv(),d=Sv(),h=p.useRef(null),y=n.find(P=>P.type===e.providerType),E=e.cachedModels||[];p.useEffect(()=>{const P=_=>{_.key==="Escape"&&t()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[t]);const S=(P,_)=>{j(W=>({...W,[P]:_}))},R=async()=>{C(null);try{await d.mutateAsync(e.id)}catch(P){C(P instanceof Error?P.message:"Failed to refresh models")}},I=async()=>{C(null);try{const P={name:r.trim(),defaultModel:a,enabled:u};y!=null&&y.supportsCustomEndpoint&&(P.endpointUrl=i||void 0),m&&Object.keys(v).length>0&&(P.credentials=v),await f.mutateAsync({id:e.id,config:P}),t()}catch(P){C(P instanceof Error?P.message:"Failed to update agent")}};return s.jsx("div",{className:"neo-modal-backdrop",onClick:t,role:"presentation",children:s.jsxs("div",{ref:h,className:"neo-modal w-full max-w-lg p-6",onClick:P=>P.stopPropagation(),role:"dialog","aria-labelledby":"edit-agent-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{id:"edit-agent-title",className:"font-display text-xl font-bold",children:"Edit Agent"}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 border-3 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"text-sm font-bold",children:(y==null?void 0:y.displayName)||e.providerType}),s.jsx("div",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:y==null?void 0:y.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Agent Name *"}),s.jsx("input",{type:"text",value:r,onChange:P=>l(P.target.value),className:"neo-input w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-bold",children:"Default Model *"}),s.jsxs("button",{onClick:R,disabled:d.isPending,className:"neo-btn neo-btn-ghost text-xs flex items-center gap-1 p-1",children:[s.jsx(Iy,{size:12,className:d.isPending?"animate-spin":""}),"Refresh"]})]}),s.jsx("select",{value:a,onChange:P=>o(P.target.value),className:"neo-input w-full",children:E.length>0?E.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id)):s.jsx("option",{value:e.defaultModel,children:e.defaultModel})}),E.length===0&&s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:'Click "Refresh" to load available models'})]}),(y==null?void 0:y.supportsCustomEndpoint)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Endpoint URL"}),s.jsx("input",{type:"url",value:i,onChange:P=>c(P.target.value),placeholder:"https://...",className:"neo-input w-full"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-bold text-sm",children:"Enabled"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Disabled agents won't appear in selection"})]}),s.jsx("button",{onClick:()=>g(!u),className:`relative w-14 h-8 rounded-none border-3 border-[var(--color-neo-border)] transition-colors ${u?"bg-[var(--color-neo-success)]":"bg-white"}`,role:"switch","aria-checked":u,children:s.jsx("span",{className:`absolute top-1 w-5 h-5 bg-[var(--color-neo-border)] transition-transform ${u?"left-7":"left-1"}`})})]}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("input",{type:"checkbox",id:"update-credentials",checked:m,onChange:P=>x(P.target.checked),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"update-credentials",className:"text-sm font-bold",children:"Update Credentials"})]}),m&&y&&s.jsx("div",{className:"space-y-3 pl-6",children:y.requiredCredentials.map(P=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:[P.label," ",P.required&&"*"]}),s.jsx("input",{type:P.type==="password"?"password":"text",value:v[P.name]||"",onChange:_=>S(P.name,_.target.value),placeholder:P.placeholder,className:"neo-input w-full"})]},P.name))})]}),N&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),N]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:!r.trim()||!a||f.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Saving..."]}):"Save Changes"})]})]})]})})}function _v({onClose:e}){const{data:t,isLoading:n,isError:r,refetch:l}=xv(),{data:a}=yv(),{data:o}=vv(),i=kv(),c=bv(),[u,g]=p.useState(!1),[m,x]=p.useState(null),[v,j]=p.useState(null),N=p.useRef(null),C=p.useRef(null),f=p.useRef(e),d=p.useRef(!1);p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{var S;d.current||((S=C.current)==null||S.focus(),d.current=!0)},[]),p.useEffect(()=>{const S=R=>{R.key==="Escape"&&!u&&!m&&f.current()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[u,m]);const h=async S=>{if(v===S){try{await c.mutateAsync(S)}catch(R){console.error("Failed to delete agent:",R)}j(null)}else j(S),setTimeout(()=>j(null),3e3)},y=(S,R)=>{o&&i.mutate({...o,[S]:R})},E=S=>{var R;return((R=a==null?void 0:a.find(I=>I.type===S))==null?void 0:R.displayName)||S};return s.jsxs("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:[s.jsxs("div",{ref:N,className:"neo-modal w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),role:"dialog","aria-labelledby":"ai-agents-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Kr,{size:24}),s.jsx("h2",{id:"ai-agents-title",className:"font-display text-xl font-bold",children:"AI Agents"})]}),s.jsx("button",{ref:C,onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),n&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ue,{className:"animate-spin",size:24}),s.jsx("span",{className:"ml-2",children:"Loading agents..."})]}),r&&s.jsxs("div",{className:"p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)] mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{size:18}),s.jsx("span",{children:"Failed to load AI agents"})]}),s.jsx("button",{onClick:()=>l(),className:"mt-2 underline text-sm",children:"Retry"})]}),!n&&!r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-display font-bold",children:"Configured Agents"}),s.jsxs("button",{onClick:()=>g(!0),className:"neo-btn neo-btn-primary flex items-center gap-2",children:[s.jsx(Dt,{size:16}),"Add Agent"]})]}),t&&t.length===0&&s.jsxs("div",{className:"p-6 border-3 border-dashed border-[var(--color-neo-border)] text-center text-[var(--color-neo-text-secondary)]",children:[s.jsx(Kr,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No AI agents configured yet."}),s.jsx("p",{className:"text-sm mt-1",children:"Add an agent to use different LLM providers."})]}),t&&t.length>0&&s.jsx("div",{className:"space-y-3",children:t.map(S=>s.jsx("div",{className:`p-4 border-3 border-[var(--color-neo-border)] ${S.enabled?"bg-white":"opacity-60 bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-display font-bold",children:S.name}),!S.enabled&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600",children:"Disabled"})]}),s.jsxs("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:[E(S.providerType),S.defaultModel&&`  ${S.defaultModel}`]}),S.endpointUrl&&s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:S.endpointUrl})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>x(S),className:"neo-btn neo-btn-ghost p-2",title:"Edit agent",children:s.jsx(Ty,{size:16})}),s.jsx("button",{onClick:()=>h(S.id),className:`neo-btn p-2 ${v===S.id?"neo-btn-danger":"neo-btn-ghost"}`,title:v===S.id?"Click again to confirm":"Delete agent",children:v===S.id?s.jsx(ui,{size:16}):s.jsx(Rn,{size:16})})]})]})},S.id))})]}),t&&t.length>0&&s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-6",children:[s.jsx("h3",{className:"font-display font-bold mb-4",children:"Default Agents by Role"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mb-4",children:"Configure which agent to use for each role. Leave unset to use the global default."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Global Default"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used when no specific agent is set"})]}),s.jsxs("select",{value:(o==null?void 0:o.defaultAgentId)??"",onChange:S=>y("defaultAgentId",S.target.value?parseInt(S.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Claude Code (Built-in)"}),t.filter(S=>S.enabled).map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Spec Creation"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for generating app specs"})]}),s.jsxs("select",{value:(o==null?void 0:o.specCreationAgentId)??"",onChange:S=>y("specCreationAgentId",S.target.value?parseInt(S.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(S=>S.enabled).map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Initialization"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for project initialization"})]}),s.jsxs("select",{value:(o==null?void 0:o.initializationAgentId)??"",onChange:S=>y("initializationAgentId",S.target.value?parseInt(S.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(S=>S.enabled).map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Coding Agent"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for implementing features"})]}),s.jsxs("select",{value:(o==null?void 0:o.codingAgentId)??"",onChange:S=>y("codingAgentId",S.target.value?parseInt(S.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(S=>S.enabled).map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]})]}),i.isError&&s.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:"Failed to save defaults. Please try again."})]})]})]}),u&&s.jsx(Pv,{onClose:()=>g(!1),providers:a||[]}),m&&s.jsx(Mv,{agent:m,onClose:()=>x(null),providers:a||[]})]})}function zv({onClose:e,onUnlocked:t}){const[n,r]=p.useState(""),[l,a]=p.useState(null),o=Ev(),i=p.useRef(null),c=p.useRef(e);p.useEffect(()=>{c.current=e},[e]),p.useEffect(()=>{const g=setTimeout(()=>{var m;(m=i.current)==null||m.focus()},0);return()=>clearTimeout(g)},[]),p.useEffect(()=>{const g=m=>{m.key==="Escape"&&c.current()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[]);const u=async g=>{var m;if(g.preventDefault(),!!n.trim()){a(null);try{await o.mutateAsync(n),t()}catch(x){a(x instanceof Error?x.message:"Invalid password"),r(""),(m=i.current)==null||m.focus()}}};return oc.createPortal(s.jsx("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",style:{zIndex:1e3},children:s.jsxs("div",{className:"neo-modal w-full max-w-sm p-6",onClick:g=>g.stopPropagation(),role:"dialog","aria-labelledby":"unlock-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zy,{size:24}),s.jsx("h2",{id:"unlock-title",className:"font-display text-xl font-bold",children:"Unlock Credentials"})]}),s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mb-6",children:"Enter your encryption password to access AI agent credentials. This is required once per session."}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Password"}),s.jsx("input",{ref:i,type:"password",value:n,onChange:g=>r(g.target.value),placeholder:"Enter encryption password",className:"neo-input w-full",autoComplete:"current-password",autoFocus:!0})]}),l&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),l]}),s.jsxs("div",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx("strong",{children:"Tip:"})," You can set the RETROCODER_ENCRYPTION_KEY environment variable to auto-unlock on startup."]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!n.trim()||o.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Unlocking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_y,{size:16}),"Unlock"]})})]})]})]})}),document.body)}function Rv({onClose:e}){const{data:t,isLoading:n,isError:r,refetch:l}=hc(),{data:a}=Lh(),{data:o}=Cv(),i=oy(),c=p.useRef(null),u=p.useRef(null),[g,m]=p.useState(!1),[x,v]=p.useState(!1),j=p.useRef(e),N=p.useRef(!1);p.useEffect(()=>{j.current=e},[e]),p.useEffect(()=>{var E;N.current||((E=u.current)==null||E.focus(),N.current=!0)},[]),p.useEffect(()=>{const E=c.current;if(!E)return;const S=I=>{if(I.key!=="Tab")return;const P=E.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),_=P[0],W=P[P.length-1];I.shiftKey?document.activeElement===_&&(I.preventDefault(),W==null||W.focus()):document.activeElement===W&&(I.preventDefault(),_==null||_.focus())},R=I=>{I.key==="Escape"&&j.current()};return document.addEventListener("keydown",S),document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",S),document.removeEventListener("keydown",R)}},[]);const C=()=>{t&&!i.isPending&&i.mutate({yolo_mode:!t.yolo_mode})},f=E=>{i.isPending||i.mutate({model:E})},d=()=>{o!=null&&o.unlocked?m(!0):v(!0)},h=(a==null?void 0:a.models)??[],y=i.isPending;return s.jsxs("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:[s.jsxs("div",{ref:c,className:"neo-modal w-full max-w-sm p-6",onClick:E=>E.stopPropagation(),role:"dialog","aria-labelledby":"settings-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{id:"settings-title",className:"font-display text-xl font-bold",children:["Settings",y&&s.jsx(ue,{className:"inline-block ml-2 animate-spin",size:16})]}),s.jsx("button",{ref:u,onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close settings",children:s.jsx(pe,{size:20})})]}),n&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ue,{className:"animate-spin",size:24}),s.jsx("span",{className:"ml-2",children:"Loading settings..."})]}),r&&s.jsxs("div",{className:"p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)] mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{size:18}),s.jsx("span",{children:"Failed to load settings"})]}),s.jsx("button",{onClick:()=>l(),className:"mt-2 underline text-sm",children:"Retry"})]}),t&&!n&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{id:"yolo-label",className:"font-display font-bold text-base",children:"YOLO Mode"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Skip testing for rapid prototyping"})]}),s.jsx("button",{onClick:C,disabled:y,className:`relative w-14 h-8 rounded-none border-3 border-[var(--color-neo-border)] transition-colors ${t.yolo_mode?"bg-[var(--color-neo-pending)]":"bg-white"} ${y?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":t.yolo_mode,"aria-labelledby":"yolo-label",children:s.jsx("span",{className:`absolute top-1 w-5 h-5 bg-[var(--color-neo-border)] transition-transform ${t.yolo_mode?"left-7":"left-1"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{id:"model-label",className:"font-display font-bold text-base block mb-2",children:"Model"}),s.jsx("div",{className:"flex border-3 border-[var(--color-neo-border)]",role:"radiogroup","aria-labelledby":"model-label",children:h.map(E=>s.jsx("button",{onClick:()=>f(E.id),disabled:y,role:"radio","aria-checked":t.model===E.id,className:`flex-1 py-3 px-4 font-display font-bold text-sm transition-colors ${t.model===E.id?"bg-[var(--color-neo-accent)] text-white":"bg-white text-[var(--color-neo-text)] hover:bg-gray-100"} ${y?"opacity-50 cursor-not-allowed":""}`,children:E.name},E.id))})]}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-6",children:[s.jsxs("button",{onClick:d,className:"neo-btn neo-btn-secondary w-full flex items-center justify-center gap-2",children:[s.jsx(Kr,{size:18}),"Configure AI Agents"]}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2 text-center",children:"Use different LLM providers like OpenAI, Ollama, etc."})]}),i.isError&&s.jsx("div",{className:"p-3 bg-red-50 border-3 border-red-200 text-red-700 text-sm",children:"Failed to save settings. Please try again."})]})]}),g&&s.jsx(_v,{onClose:()=>m(!1)}),x&&s.jsx(zv,{onClose:()=>v(!1),onUnlocked:()=>{v(!1),m(!0)}})]})}function Tv({project:e,onOpenChange:t,onMenuHover:n,forceClose:r}){const[l,a]=p.useState(!1),[o,i]=p.useState(null),c=p.useRef(null);p.useEffect(()=>{r&&l&&(a(!1),i(null),t==null||t(!1))},[r,l,t]);const u=y=>{if(y&&c.current){const E=c.current.getBoundingClientRect();i({top:E.bottom+8,right:window.innerWidth-E.right})}else i(null);a(y),t==null||t(y)};p.useEffect(()=>{if(!l)return;const y=E=>{const S=E.target,R=document.getElementById(`project-settings-menu-${e.name}`),I=c.current;R&&!R.contains(S)&&I&&!I.contains(S)&&u(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l,e.name]);const{data:g}=Lh(),{data:m}=hc(),x=Zx(e.name),v=(g==null?void 0:g.models)??[],j=x.isPending,N=e.yolo_mode??(m==null?void 0:m.yolo_mode)??!1,C=e.model??(m==null?void 0:m.model)??"claude-opus-4-5-20251101",f=e.yolo_mode!==null||e.model!==null,d=()=>{j||x.mutate({yolo_mode:!N})},h=y=>{j||x.mutate({model:y})};return s.jsxs("div",{className:"relative",children:[s.jsx("button",{ref:c,onClick:()=>u(!l),className:`neo-btn text-sm py-2 px-3 ${f?"bg-[var(--color-neo-accent)] text-white":""}`,title:"Project Settings","aria-label":"Project Settings",children:j?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Vh,{size:18})}),l&&o&&oc.createPortal(s.jsx(s.Fragment,{children:s.jsxs("div",{id:`project-settings-menu-${e.name}`,className:"fixed w-64 neo-dropdown p-4",style:{zIndex:9999,top:o.top,right:o.right},onMouseEnter:()=>n==null?void 0:n(!0),onMouseLeave:()=>n==null?void 0:n(!1),children:[s.jsx("h4",{className:"font-display font-bold text-sm mb-4 uppercase",children:"Project Settings"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"YOLO Mode"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Skip testing"})]}),s.jsx("button",{onClick:d,disabled:j,className:`relative w-12 h-6 rounded-none border-2 border-[var(--color-neo-border)] transition-colors ${N?"bg-[var(--color-neo-pending)]":"bg-white"} ${j?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":N,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-[var(--color-neo-border)] transition-transform ${N?"left-6":"left-0.5"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm block mb-2",children:"Model"}),s.jsx("div",{className:"space-y-1",children:v.map(y=>s.jsx("button",{onClick:()=>h(y.id),disabled:j,className:`w-full text-left px-3 py-2 text-sm border-2 border-[var(--color-neo-border)] transition-colors ${C===y.id?"bg-[var(--color-neo-accent)] text-white font-bold":"bg-white hover:bg-gray-100"} ${j?"opacity-50 cursor-not-allowed":""}`,children:y.name},y.id))})]}),f&&s.jsx("div",{className:"mt-4 pt-3 border-t-2 border-[var(--color-neo-border)]",children:s.jsx("p",{className:"text-xs text-[var(--color-neo-accent)]",children:"Using project-specific settings"})})]})}),document.body)]})}function Fv({project:e,onSelect:t,onCreateSpec:n}){const[r,l]=p.useState(!1),[a,o]=p.useState(!1),{data:i}=Oh(e.name),c=(i==null?void 0:i.status)??"stopped",u=p.useRef(!1),g=p.useRef(!1),m=p.useRef(null),x=p.useRef(r);x.current=r;const v=p.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null)},[]),j=p.useCallback(()=>{v(),m.current=window.setTimeout(()=>{!u.current&&!g.current&&x.current&&(o(!0),setTimeout(()=>o(!1),0),l(!1))},500)},[v]),N=p.useCallback(()=>{u.current=!0,v()},[v]),C=p.useCallback(()=>{u.current=!1,x.current&&j()},[j]),f=p.useCallback(I=>{g.current=I,I?v():x.current&&j()},[v,j]),d=p.useCallback(I=>{l(I),I||v()},[v]),{stats:h,created_at:y}=e,E=h.total>0?h.percentage:0,S=I=>{if(!I)return"Unknown";try{return new Date(I).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return"Unknown"}},R=()=>{switch(c){case"running":return"bg-[var(--color-neo-progress)]";case"paused":return"bg-[var(--color-neo-pending)]";case"crashed":return"bg-[var(--color-neo-danger)]";default:return"bg-gray-400"}};return s.jsx("div",{className:`neo-card p-4 ${r?"":"transition-shadow hover:shadow-[6px_6px_0px_0px_var(--color-neo-border)]"}`,onMouseEnter:N,onMouseLeave:C,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${R()} ${c==="running"?"animate-pulse":""}`,title:`Agent: ${c}`}),s.jsx("button",{onClick:t,className:"flex-1 text-left hover:bg-[var(--color-neo-bg)] p-2 -m-2 rounded transition-colors",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(aa,{size:20,className:"text-[var(--color-neo-text-secondary)]"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-display font-bold text-lg truncate",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-neo-text-secondary)]",children:[s.jsx(by,{size:14}),s.jsx("span",{children:S(y)})]})]})]})}),s.jsx("div",{className:"flex items-center gap-4 min-w-[200px]",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"neo-progress h-4 mb-1",children:s.jsx("div",{className:"neo-progress-fill",style:{width:`${E}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsxs("span",{className:"font-mono",children:[h.passing,"/",h.total]}),s.jsxs("span",{className:"font-mono font-bold text-[var(--color-neo-done)]",children:[E.toFixed(0),"%"]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[!e.has_spec&&n&&c==="stopped"&&s.jsx("button",{onClick:n,className:"neo-btn text-sm py-2 px-3 bg-[var(--color-neo-pending)]",title:"Create App Spec",children:s.jsx(Ca,{size:18})}),(e.has_spec||c==="running"||c==="paused")&&s.jsx(Jh,{projectName:e.name,status:c}),s.jsx(Tv,{project:e,onOpenChange:d,onMenuHover:f,forceClose:a})]})]})})}function Xh({projectName:e,isOpen:t,onClose:n,onSpecCreated:r,onNavigateToProject:l}){const[a,o]=p.useState("idle"),[i,c]=p.useState(null),[u,g]=p.useState(!1);if(!t)return null;const m=async(C,f=!1)=>{g(f),o("starting");try{await fc(e,f),r(),N()}catch(d){o("error"),c(d instanceof Error?d.message:"Failed to start agent")}},x=()=>{c(null),o("idle"),m("",u)},v=()=>{N()},j=()=>{r(),N(),l==null||l()},N=()=>{o("idle"),c(null),g(!1),n()};return s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(Yh,{projectName:e,onComplete:m,onCancel:v,onExitToProject:j,initializerStatus:a,initializerError:i,onRetryInitializer:x})})}function Iv({projects:e,isLoading:t,onSelectProject:n,onNewProject:r}){const[l,a]=p.useState(!1),[o,i]=p.useState(null),[c,u]=p.useState(""),[g,m]=p.useState("date-desc"),x=ke(),v=p.useMemo(()=>{let f=e;if(c.trim()){const d=c.toLowerCase().trim();f=f.filter(h=>{var y,E;return!!(h.name.toLowerCase().includes(d)||h.path.toLowerCase().includes(d)||(y=h.created_at)!=null&&y.toLowerCase().includes(d)||(E=h.model)!=null&&E.toLowerCase().includes(d)||String(h.stats.total).includes(d)||String(h.stats.passing).includes(d)||String(h.stats.percentage).includes(d))})}return f=[...f].sort((d,h)=>{switch(g){case"name-asc":return d.name.localeCompare(h.name);case"name-desc":return h.name.localeCompare(d.name);case"date-asc":return(d.created_at||"").localeCompare(h.created_at||"");case"date-desc":return(h.created_at||"").localeCompare(d.created_at||"");case"percent-asc":return d.stats.percentage-h.stats.percentage;case"percent-desc":return h.stats.percentage-d.stats.percentage;default:return 0}}),f},[e,c,g]),j=f=>{i(f),a(!0)},N=()=>{x.invalidateQueries({queryKey:["projects"]}),a(!1),i(null)},C=()=>{a(!1),i(null)};return t?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx(ue,{size:32,className:"animate-spin text-[var(--color-neo-text-secondary)]"})}):e.length===0?s.jsxs("div",{className:"neo-empty-state mt-12",children:[s.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Welcome to Retro-Coder"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:"Create your first project to get started with autonomous coding."}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-primary text-lg py-3 px-6",children:[s.jsx(Dt,{size:20}),"New Project"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-display text-2xl font-bold uppercase",children:"Projects"}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-primary",children:[s.jsx(Dt,{size:18}),"New Project"]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsxs("div",{className:"relative",style:{width:"225px"},children:[s.jsx(mc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)]"}),s.jsx("input",{type:"text",value:c,onChange:f=>u(f.target.value),placeholder:"Filter...",className:"neo-input pl-9 pr-8 w-full"}),c&&s.jsx("button",{onClick:()=>u(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)] transition-colors",title:"Clear filter",children:s.jsx(pe,{size:16})})]}),s.jsxs("select",{value:g,onChange:f=>m(f.target.value),className:"neo-input w-48",children:[s.jsx("option",{value:"name-asc",children:"Project Name A-Z"}),s.jsx("option",{value:"name-desc",children:"Project Name Z-A"}),s.jsx("option",{value:"date-asc",children:"Create Date ASC"}),s.jsx("option",{value:"date-desc",children:"Create Date DESC"}),s.jsx("option",{value:"percent-asc",children:"% Complete ASC"}),s.jsx("option",{value:"percent-desc",children:"% Complete DESC"})]})]}),s.jsx("div",{className:"space-y-4",children:v.length===0&&c?s.jsx("div",{className:"neo-card p-6 text-center",children:s.jsxs("p",{className:"text-[var(--color-neo-text-secondary)]",children:['No projects match "',c,'"']})}):v.map(f=>s.jsx(Fv,{project:f,onSelect:()=>n(f.name),onCreateSpec:()=>j(f.name)},f.name))}),o&&s.jsx(Xh,{projectName:o,isOpen:l,onClose:C,onSpecCreated:N,onNavigateToProject:()=>n(o)})]})}function Av({projectName:e,onClose:t}){const n=p.useId(),[r,l]=p.useState("describe"),[a,o]=p.useState(""),[i,c]=p.useState(null),[u,g]=p.useState([]),[m,x]=p.useState(!1),[v,j]=p.useState(0),[N,C]=p.useState(""),[f,d]=p.useState(""),[h,y]=p.useState([]),[E,S]=p.useState([{id:`${n}-step-0`,value:""}]),[R,I]=p.useState(""),P=p.useRef(null),_=iy(e),W=Ah(e),A=p.useCallback(async M=>{const D=Array.from(M),q=[];for(const G of D)if(G.type.startsWith("text/")||G.name.endsWith(".ts")||G.name.endsWith(".tsx")||G.name.endsWith(".js")||G.name.endsWith(".jsx")||G.name.endsWith(".java")||G.name.endsWith(".py")||G.name.endsWith(".json")||G.name.endsWith(".xml")||G.name.endsWith(".yaml")||G.name.endsWith(".yml")||G.name.endsWith(".md")||G.name.endsWith(".css")||G.name.endsWith(".html")||G.name.endsWith(".sql")||G.name.endsWith(".log")||G.name.endsWith(".txt"))try{const ae=await G.text();q.push({id:crypto.randomUUID(),name:G.name,path:G.webkitRelativePath||G.name,content:ae.slice(0,1e4)})}catch(ae){console.error("Failed to read file:",G.name,ae)}g(G=>[...G,...q])},[]),T=p.useCallback(M=>{M.preventDefault(),x(!0)},[]),L=p.useCallback(M=>{M.preventDefault(),x(!1)},[]),$=p.useCallback(M=>{M.preventDefault(),x(!1),M.dataTransfer.files.length>0&&A(M.dataTransfer.files)},[A]),V=()=>{var M;(M=P.current)==null||M.click()},Z=M=>{M.target.files&&M.target.files.length>0&&A(M.target.files)},z=M=>{g(D=>D.filter(q=>q.id!==M))},F=async M=>{M.preventDefault(),c(null),l("investigating");let D=a;if(u.length>0){D+=`

--- Related Files ---
`;for(const q of u)D+=`
### File: ${q.name}
\`\`\`
${q.content}
\`\`\`
`}try{const q=await _.mutateAsync(D);if(q.success){C(q.suggestedName||`Fix: ${a.slice(0,50)}`),d(q.rootCause||""),y(q.affectedFiles||[]);const G=q.steps&&q.steps.length>0?q.steps.map((ae,oe)=>({id:`${n}-step-${oe}`,value:ae})):[{id:`${n}-step-0`,value:""}];S(G),j(G.length),I(q.additionalNotes||""),l("review")}else c(q.error||"Investigation failed"),l("describe")}catch(q){c(q instanceof Error?q.message:"Investigation failed"),l("describe")}},k=async M=>{M.preventDefault(),c(null);const D=E.map(G=>G.value.trim()).filter(G=>G.length>0);let q=a;f&&(q+=`

Root Cause: ${f}`),h.length>0&&(q+=`

Affected Files:
${h.map(G=>`- ${G}`).join(`
`)}`),R&&(q+=`

Notes: ${R}`);try{await W.mutateAsync({category:"bugfix",name:N.trim(),description:q.trim(),steps:D}),t()}catch(G){c(G instanceof Error?G.message:"Failed to create bugfix")}},b=()=>{S([...E,{id:`${n}-step-${v}`,value:""}]),j(v+1)},Q=M=>{E.length>1&&S(E.filter(D=>D.id!==M))},O=(M,D)=>{S(E.map(q=>q.id===M?{...q,value:D}:q))},B=a.trim().length>10,K=N.trim().length>0&&E.some(M=>M.value.trim().length>0);return s.jsx("div",{className:"neo-modal-backdrop",children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("h2",{className:"font-display text-2xl font-bold flex items-center gap-3",children:[s.jsx(Bh,{size:28,className:"text-red-600"}),r==="describe"&&"Report a Bug",r==="investigating"&&"Investigating...",r==="review"&&"Review Bug Fix"]}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="describe"&&s.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[i&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:i}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Bug Description"}),s.jsx("textarea",{value:a,onChange:M=>o(M.target.value),placeholder:"Describe what's happening, what you expected, and any error messages you see...",className:"neo-input min-h-[150px] resize-y",autoFocus:!0,required:!0}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:"Be as specific as possible. Include error messages, steps to reproduce, and what you expected."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Related Files (Optional)"}),s.jsxs("div",{className:`border-3 border-dashed rounded-lg p-3 transition-colors ${m?"border-[var(--color-neo-primary)] bg-blue-50":"border-[var(--color-neo-border)] hover:border-[var(--color-neo-primary)]"}`,onDragOver:T,onDragLeave:L,onDrop:$,children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Kh,{size:20,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Drag & drop files here, or"}),s.jsx("button",{type:"button",onClick:V,className:"neo-btn neo-btn-ghost text-sm py-1 px-2",children:"Browse"})]}),s.jsx("input",{ref:P,type:"file",multiple:!0,onChange:Z,className:"hidden",accept:".ts,.tsx,.js,.jsx,.java,.py,.json,.xml,.yaml,.yml,.md,.css,.html,.sql,.log,.txt"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] text-center mt-2",children:".ts, .js, .java, .py, .json, .md, .txt and more"})]}),u.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:u.map(M=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded",children:[s.jsx(Ca,{size:18,className:"text-[var(--color-neo-text-secondary)] flex-shrink-0"}),s.jsx("span",{className:"flex-1 font-mono text-sm truncate",children:M.name}),s.jsxs("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:[Math.round(M.content.length/1024),"KB"]}),s.jsx("button",{type:"button",onClick:()=>z(M.id),className:"neo-btn neo-btn-ghost p-1 text-red-600",children:s.jsx(Rn,{size:16})})]},M.id))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"submit",disabled:!B||_.isPending,className:"neo-btn neo-btn-primary flex-1",children:_.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(mc,{size:18}),"Investigate Bug"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]}),r==="investigating"&&s.jsxs("div",{className:"p-6 text-center py-16",children:[s.jsx(ue,{size:48,className:"animate-spin mx-auto text-[var(--color-neo-primary)] mb-4"}),s.jsx("p",{className:"font-display text-xl font-bold mb-2",children:"Investigating the bug..."}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"Searching the codebase to identify the root cause and fix steps."}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-4",children:"This may take a minute or two."})]}),r==="review"&&s.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[i&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:i}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-100 border-3 border-green-600 rounded",children:[s.jsx(Sy,{size:24,className:"text-green-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-display font-bold text-green-800",children:"Investigation Complete"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Review the suggested fix steps below and submit to create a bugfix task."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Bug Fix Name"}),s.jsx("input",{type:"text",value:N,onChange:M=>C(M.target.value),className:"neo-input",required:!0})]}),f&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Root Cause"}),s.jsx("textarea",{value:f,onChange:M=>d(M.target.value),className:"neo-input min-h-[80px] resize-y"})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Affected Files"}),s.jsx("div",{className:"neo-input bg-[var(--color-neo-bg)] font-mono text-sm",children:h.map((M,D)=>s.jsx("div",{className:"py-1",children:M},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Fix Steps"}),s.jsx("div",{className:"space-y-2",children:E.map((M,D)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"neo-input w-12 text-center flex-shrink-0 flex items-center justify-center bg-[var(--color-neo-bg)]",children:D+1}),s.jsx("input",{type:"text",value:M.value,onChange:q=>O(M.id,q.target.value),placeholder:`Step ${D+1}`,className:"neo-input flex-1"}),E.length>1&&s.jsx("button",{type:"button",onClick:()=>Q(M.id),className:"neo-btn neo-btn-ghost p-2",children:s.jsx(Rn,{size:18})})]},M.id))}),s.jsxs("button",{type:"button",onClick:b,className:"neo-btn neo-btn-ghost mt-2 text-sm",children:[s.jsx(Dt,{size:16}),"Add Step"]})]}),R&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Additional Notes"}),s.jsx("textarea",{value:R,onChange:M=>I(M.target.value),className:"neo-input min-h-[60px] resize-y"})]}),s.jsxs("details",{className:"text-sm",children:[s.jsx("summary",{className:"cursor-pointer font-display font-bold uppercase text-sm text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)]",children:"Original Bug Description"}),s.jsx("div",{className:"mt-2 p-4 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded whitespace-pre-wrap font-mono text-sm",children:a})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"button",onClick:()=>l("describe"),className:"neo-btn neo-btn-ghost",children:"Back"}),s.jsx("button",{type:"submit",disabled:!K||W.isPending,className:"neo-btn neo-btn-success flex-1",children:W.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Dt,{size:18}),"Create Bug Fix Task"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]})]})]})})}const no="retrocoder-selected-project",Ju="retrocoder-view-mode";function Ov(){var B,K;const[e,t]=p.useState(()=>{try{return localStorage.getItem(no)}catch{return null}}),[n,r]=p.useState(()=>{try{return localStorage.getItem(Ju)==="project"?"project":"dashboard"}catch{return"dashboard"}}),[l,a]=p.useState(!1),[o,i]=p.useState(!1),[c,u]=p.useState(!1),[g,m]=p.useState(!1),[x,v]=p.useState(null),[j,N]=p.useState(!0),[C,f]=p.useState(!1),[d,h]=p.useState(288),[y,E]=p.useState(!1),[S,R]=p.useState(!1),[I,P]=p.useState(!1),[_,W]=p.useState(""),A=ke(),{data:T,isLoading:L}=Kx(),{data:$}=Jx(e);Oh(e);const V=uy(e),Z=ty(e??"");hy($),xy($,e);const z=p.useCallback(M=>{t(M);try{M?localStorage.setItem(no,M):localStorage.removeItem(no)}catch{}},[]),F=p.useCallback(M=>{r(M);try{localStorage.setItem(Ju,M)}catch{}},[]),k=p.useCallback(M=>{z(M),F("project")},[z,F]),b=p.useCallback(M=>{z(M),F("project"),m(!1)},[z,F]);p.useEffect(()=>{e&&T&&!T.some(M=>M.name===e)&&z(null)},[e,T,z]),p.useEffect(()=>{const M=D=>{D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement||((D.key==="d"||D.key==="D")&&(D.preventDefault(),f(q=>!q)),(D.key==="n"||D.key==="N")&&e&&(D.preventDefault(),a(!0)),(D.key==="b"||D.key==="B")&&e&&(D.preventDefault(),i(!0)),(D.key==="e"||D.key==="E")&&e&&$&&$.pending.length+$.in_progress.length+$.done.length>0&&(D.preventDefault(),u(!0)),(D.key==="a"||D.key==="A")&&e&&(D.preventDefault(),E(q=>!q)),D.key===","&&(D.preventDefault(),R(!0)),(D.key==="h"||D.key==="H")&&(D.preventDefault(),F("dashboard")),D.key==="Escape"&&(c?u(!1):S?R(!1):y?E(!1):o?i(!1):l?a(!1):x?v(null):C&&f(!1)))};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[e,l,o,c,x,C,y,$,S,F]);const Q=$?{passing:$.done.length,total:$.pending.length+$.in_progress.length+$.done.length,percentage:0}:V.progress.total>0?{passing:V.progress.passing,total:V.progress.total,percentage:V.progress.percentage}:{passing:0,total:0,percentage:0};Q.total>0&&Q.percentage===0&&(Q.percentage=Math.round(Q.passing/Q.total*100*10)/10);const O=p.useMemo(()=>{if(!$)return;if(!_.trim())return $;const M=_.toLowerCase().trim(),D=q=>{var G,ae,oe;return q.priority.toString().includes(M)||q.name.toLowerCase().includes(M)||((G=q.description)==null?void 0:G.toLowerCase().includes(M))||((ae=q.category)==null?void 0:ae.toLowerCase().includes(M))||((oe=q.steps)==null?void 0:oe.some(me=>me.toLowerCase().includes(M)))};return{pending:$.pending.filter(D),in_progress:$.in_progress.filter(D),done:$.done.filter(D)}},[$,_]);return j?s.jsxs("div",{className:"min-h-screen bg-[var(--color-neo-bg)]",children:[s.jsx("header",{className:"bg-[var(--color-neo-text)] text-white border-b-4 border-[var(--color-neo-border)]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>F("dashboard"),className:"hover:opacity-80 transition-opacity cursor-pointer",title:"Return to Dashboard (H)",children:s.jsx("h1",{className:"font-display text-2xl font-bold tracking-tight uppercase",children:"Retro-Coder"})}),s.jsx("div",{className:"flex items-center gap-4",children:n==="project"&&s.jsxs(s.Fragment,{children:[s.jsx(Ky,{projects:T??[],selectedProject:e,onSelectProject:z,onCurrentProjectDeleted:()=>{z(null),F("dashboard")},isLoading:L}),e&&s.jsxs(s.Fragment,{children:[((B=T==null?void 0:T.find(M=>M.name===e))==null?void 0:B.has_spec)===!1&&s.jsx("button",{onClick:()=>P(!0),className:"neo-btn text-sm py-2 px-3 bg-[var(--color-neo-pending)]",title:"Create App Spec",children:s.jsx(Ca,{size:18})}),((K=T==null?void 0:T.find(M=>M.name===e))==null?void 0:K.has_spec)&&s.jsx(Jh,{projectName:e,status:V.agentStatus}),s.jsx("button",{onClick:()=>R(!0),className:"neo-btn text-sm py-2 px-3",title:"Settings (,)","aria-label":"Open Settings",children:s.jsx(Vh,{size:18})})]})]})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",style:{paddingBottom:n==="project"&&C?d+32:void 0},children:n==="dashboard"?s.jsx(Iv,{projects:T??[],isLoading:L,onSelectProject:k,onNewProject:()=>m(!0)}):e?s.jsxs("div",{className:"space-y-8",children:[s.jsx(Jy,{passing:Q.passing,total:Q.total,percentage:Q.percentage,isConnected:V.isConnected}),s.jsx(ov,{logs:V.logs,agentStatus:V.agentStatus}),$&&$.pending.length===0&&$.in_progress.length===0&&$.done.length===0&&V.agentStatus==="running"&&s.jsxs("div",{className:"neo-card p-8 text-center",children:[s.jsx(ue,{size:32,className:"animate-spin mx-auto mb-4 text-[var(--color-neo-progress)]"}),s.jsx("h3",{className:"font-display font-bold text-xl mb-2",children:"Initializing Features..."}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"The agent is reading your spec and creating features. This may take a moment."})]}),s.jsxs("div",{className:"neo-card p-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(mc,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)]"}),s.jsx("input",{type:"text",value:_,onChange:M=>W(M.target.value),placeholder:"Search tasks by name, description, or steps...",className:"neo-input pl-12 pr-10 w-full"}),_&&s.jsx("button",{onClick:()=>W(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-[var(--color-neo-bg)] rounded transition-colors",title:"Clear search",children:s.jsx(pe,{size:18,className:"text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)]"})})]}),_&&O&&s.jsxs("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-2",children:["Showing ",O.pending.length+O.in_progress.length+O.done.length," of ",Q.total," tasks"]})]}),s.jsx(Zy,{features:O,onFeatureClick:v,onAddFeature:()=>a(!0),onReportBug:()=>i(!0),onExpandProject:()=>u(!0),agentStatus:V.agentStatus,onResetInProgress:()=>Z.mutate()})]}):s.jsxs("div",{className:"neo-empty-state mt-12",children:[s.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Welcome to Retro-Coder"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-4",children:"Select a project from the dropdown above or create a new one to get started."})]})}),l&&e&&s.jsx(ev,{projectName:e,onClose:()=>a(!1)}),o&&e&&s.jsx(Av,{projectName:e,onClose:()=>i(!1)}),x&&e&&s.jsx(tv,{feature:x,projectName:e,onClose:()=>v(null)}),c&&e&&s.jsx(gv,{isOpen:c,projectName:e,onClose:()=>u(!1),onFeaturesAdded:()=>{A.invalidateQueries({queryKey:["features",e]})}}),e&&s.jsx(rv,{logs:V.logs,isOpen:C,onToggle:()=>f(!C),onClear:V.clearLogs,onHeightChange:h}),n==="project"&&e&&!c&&s.jsxs(s.Fragment,{children:[s.jsx(iv,{onClick:()=>E(!y),isOpen:y}),s.jsx(dv,{projectName:e,isOpen:y,onClose:()=>E(!1)})]}),S&&s.jsx(Rv,{onClose:()=>R(!1)}),s.jsx(Zh,{isOpen:g,onClose:()=>m(!1),onProjectCreated:b}),e&&s.jsx(Xh,{projectName:e,isOpen:I,onClose:()=>P(!1),onSpecCreated:()=>{A.invalidateQueries({queryKey:["projects"]}),P(!1)}})]}):s.jsx(Xy,{onComplete:()=>N(!0)})}const Dv=new nx({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}});Nh(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(rx,{client:Dv,children:s.jsx(Ov,{})})}));
