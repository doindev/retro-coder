var Sc=e=>{throw TypeError(e)};var Po=(e,t,n)=>t.has(e)||Sc("Cannot "+n);var j=(e,t,n)=>(Po(e,t,"read from private field"),n?n.call(e):t.get(e)),Y=(e,t,n)=>t.has(e)?Sc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(Po(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ee=(e,t,n)=>(Po(e,t,"access private method"),n);var Zs=(e,t,n,r)=>({set _(l){W(e,t,l,n)},get _(){return j(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var ud={exports:{}},uo={},dd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),ap=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),up=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),fp=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.memo"),gp=Symbol.for("react.lazy"),Nc=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=Nc&&e[Nc]||e["@@iterator"],typeof e=="function"?e:null)}var fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd=Object.assign,pd={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function md(){}md.prototype=Zr.prototype;function fi(e,t,n){this.props=e,this.context=t,this.refs=pd,this.updater=n||fd}var hi=fi.prototype=new md;hi.constructor=fi;hd(hi,Zr.prototype);hi.isPureReactComponent=!0;var kc=Array.isArray,gd=Object.prototype.hasOwnProperty,pi={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function yd(e,t,n){var r,l={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)gd.call(t,r)&&!xd.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:qs,type:e,key:o,ref:a,props:l,_owner:pi.current}}function yp(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mi(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function vp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cc=/\/+/g;function Mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vp(""+e.key):t.toString(36)}function wl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qs:case ap:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Mo(a,0):r,kc(l)?(n="",e!=null&&(n=e.replace(Cc,"$&/")+"/"),wl(l,t,n,"",function(u){return u})):l!=null&&(mi(l)&&(l=yp(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Cc,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",kc(e))for(var i=0;i<e.length;i++){o=e[i];var c=r+Mo(o,i);a+=wl(o,t,n,c,l)}else if(c=xp(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=r+Mo(o,i++),a+=wl(o,t,n,c,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Js(e,t,n){if(e==null)return e;var r=[],l=0;return wl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function wp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},jl={transition:null},jp={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:jl,ReactCurrentOwner:pi};function vd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Js,forEach:function(e,t,n){Js(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Js(e,function(){t++}),t},toArray:function(e){return Js(e,function(t){return t})||[]},only:function(e){if(!mi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Zr;te.Fragment=ip;te.Profiler=up;te.PureComponent=fi;te.StrictMode=cp;te.Suspense=pp;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp;te.act=vd;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hd({},e.props),l=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=pi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)gd.call(t,c)&&!xd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:qs,type:e.type,key:l,ref:o,props:r,_owner:a}};te.createContext=function(e){return e={$$typeof:fp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dp,_context:e},e.Consumer=e};te.createElement=yd;te.createFactory=function(e){var t=yd.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:hp,render:e}};te.isValidElement=mi;te.lazy=function(e){return{$$typeof:gp,_payload:{_status:-1,_result:e},_init:wp}};te.memo=function(e,t){return{$$typeof:mp,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=jl.transition;jl.transition={};try{e()}finally{jl.transition=t}};te.unstable_act=vd;te.useCallback=function(e,t){return qe.current.useCallback(e,t)};te.useContext=function(e){return qe.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};te.useEffect=function(e,t){return qe.current.useEffect(e,t)};te.useId=function(){return qe.current.useId()};te.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return qe.current.useMemo(e,t)};te.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};te.useRef=function(e){return qe.current.useRef(e)};te.useState=function(e){return qe.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return qe.current.useTransition()};te.version="18.3.1";dd.exports=te;var p=dd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=p,Sp=Symbol.for("react.element"),Np=Symbol.for("react.fragment"),kp=Object.prototype.hasOwnProperty,Cp=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ep={key:!0,ref:!0,__self:!0,__source:!0};function wd(e,t,n){var r,l={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)kp.call(t,r)&&!Ep.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Sp,type:e,key:o,ref:a,props:l,_owner:Cp.current}}uo.Fragment=Np;uo.jsx=wd;uo.jsxs=wd;ud.exports=uo;var s=ud.exports,jd={exports:{}},at={},bd={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,A){var k=z.length;z.push(A);e:for(;0<k;){var S=k-1>>>1,Q=z[S];if(0<l(Q,A))z[S]=A,z[k]=Q,k=S;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var A=z[0],k=z.pop();if(k!==A){z[0]=k;e:for(var S=0,Q=z.length,G=Q>>>1;S<G;){var Z=2*(S+1)-1,X=z[Z],T=Z+1,L=z[T];if(0>l(X,k))T<Q&&0>l(L,X)?(z[S]=L,z[T]=k,S=T):(z[S]=X,z[Z]=k,S=Z);else if(T<Q&&0>l(L,k))z[S]=L,z[T]=k,S=T;else break e}}return A}function l(z,A){var k=z.sortIndex-A.sortIndex;return k!==0?k:z.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],g=1,m=null,x=3,v=!1,w=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(z){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=z)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function y(z){if(b=!1,h(z),!w)if(n(c)!==null)w=!0,H(E);else{var A=n(u);A!==null&&K(y,A.startTime-z)}}function E(z,A){w=!1,b&&(b=!1,f(I),I=-1),v=!0;var k=x;try{for(h(A),m=n(c);m!==null&&(!(m.expirationTime>A)||z&&!O());){var S=m.callback;if(typeof S=="function"){m.callback=null,x=m.priorityLevel;var Q=S(m.expirationTime<=A);A=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===n(c)&&r(c),h(A)}else r(c);m=n(c)}if(m!==null)var G=!0;else{var Z=n(u);Z!==null&&K(y,Z.startTime-A),G=!1}return G}finally{m=null,x=k,v=!1}}var N=!1,R=null,I=-1,P=5,_=-1;function O(){return!(e.unstable_now()-_<P)}function F(){if(R!==null){var z=e.unstable_now();_=z;var A=!0;try{A=R(!0,z)}finally{A?M():(N=!1,R=null)}}else N=!1}var M;if(typeof d=="function")M=function(){d(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=F,M=function(){$.postMessage(null)}}else M=function(){C(F,0)};function H(z){R=z,N||(N=!0,M())}function K(z,A){I=C(function(){z(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,H(E))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var k=x;x=A;try{return z()}finally{x=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,A){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var k=x;x=z;try{return A()}finally{x=k}},e.unstable_scheduleCallback=function(z,A,k){var S=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?S+k:S):k=S,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=k+Q,z={id:g++,callback:A,priorityLevel:z,startTime:k,expirationTime:Q,sortIndex:-1},k>S?(z.sortIndex=k,t(u,z),n(c)===null&&z===n(u)&&(b?(f(I),I=-1):b=!0,K(y,k-S))):(z.sortIndex=Q,t(c,z),w||v||(w=!0,H(E))),z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(z){var A=x;return function(){var k=x;x=A;try{return z.apply(this,arguments)}finally{x=k}}}})(Sd);bd.exports=Sd;var Pp=bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=p,ot=Pp;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nd=new Set,Ss={};function ir(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Ss[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,_p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},Pc={};function zp(e){return ra.call(Pc,e)?!0:ra.call(Ec,e)?!1:_p.test(e)?Pc[e]=!0:(Ec[e]=!0,!1)}function Rp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tp(e,t,n,r){if(t===null||typeof t>"u"||Rp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,l,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var gi=/[\-:]([a-z])/g;function xi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gi,xi);Ae[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gi,xi);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gi,xi);Ae[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function yi(e,t,n,r){var l=Ae.hasOwnProperty(t)?Ae[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tp(t,n,l,r)&&(n=null),r||l===null?zp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=Mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),vi=Symbol.for("react.strict_mode"),sa=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),wi=Symbol.for("react.forward_ref"),la=Symbol.for("react.suspense"),oa=Symbol.for("react.suspense_list"),ji=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),Ed=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function ts(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,_o;function cs(e){if(_o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||""}return`
`+_o+e}var zo=!1;function Ro(e,t){if(!e||zo)return"";zo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),o=r.stack.split(`
`),a=l.length-1,i=o.length-1;1<=a&&0<=i&&l[a]!==o[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==o[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==o[i]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{zo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function Fp(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=Ro(e.type,!1),e;case 11:return e=Ro(e.type.render,!1),e;case 1:return e=Ro(e.type,!0),e;default:return""}}function aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case sa:return"Profiler";case vi:return"StrictMode";case la:return"Suspense";case oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cd:return(e.displayName||"Context")+".Consumer";case kd:return(e._context.displayName||"Context")+".Provider";case wi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ji:return t=e.displayName||null,t!==null?t:aa(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return aa(e(t))}catch{}}return null}function Ip(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(t);case 8:return t===vi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ap(e){var t=Pd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function el(e){e._valueTracker||(e._valueTracker=Ap(e))}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ia(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _c(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _d(e,t){t=t.checked,t!=null&&yi(e,"checked",t,!1)}function ca(e,t){_d(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,n):t.hasOwnProperty("defaultValue")&&ua(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ua(e,t,n){(t!=="number"||Fl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(us(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function zd(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tl,Td=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Op=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(e){Op.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ps[t]=ps[e]})});function Fd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ps.hasOwnProperty(e)&&ps[e]?(""+t).trim():t+"px"}function Id(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Fd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Dp=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(e,t){if(t){if(Dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ga=null,Nr=null,kr=null;function Fc(e){if(e=Gs(e)){if(typeof ga!="function")throw Error(U(280));var t=e.stateNode;t&&(t=go(t),ga(e.stateNode,e.type,t))}}function Ad(e){Nr?kr?kr.push(e):kr=[e]:Nr=e}function Od(){if(Nr){var e=Nr,t=kr;if(kr=Nr=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function Dd(e,t){return e(t)}function Ld(){}var To=!1;function Ud(e,t,n){if(To)return e(t,n);To=!0;try{return Dd(e,t,n)}finally{To=!1,(Nr!==null||kr!==null)&&(Ld(),Od())}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var r=go(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var xa=!1;if(Zt)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{xa=!1}function Lp(e,t,n,r,l,o,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(g){this.onError(g)}}var ms=!1,Il=null,Al=!1,ya=null,Up={onError:function(e){ms=!0,Il=e}};function $p(e,t,n,r,l,o,a,i,c){ms=!1,Il=null,Lp.apply(Up,arguments)}function Qp(e,t,n,r,l,o,a,i,c){if($p.apply(this,arguments),ms){if(ms){var u=Il;ms=!1,Il=null}else throw Error(U(198));Al||(Al=!0,ya=u)}}function cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ic(e){if(cr(e)!==e)throw Error(U(188))}function Bp(e){var t=e.alternate;if(!t){if(t=cr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Ic(l),e;if(o===r)return Ic(l),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=l,r=o;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=o;break}if(i===r){a=!0,r=l,n=o;break}i=i.sibling}if(!a){for(i=o.child;i;){if(i===n){a=!0,n=o,r=l;break}if(i===r){a=!0,r=o,n=l;break}i=i.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Qd(e){return e=Bp(e),e!==null?Bd(e):null}function Bd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bd(e);if(t!==null)return t;e=e.sibling}return null}var Wd=ot.unstable_scheduleCallback,Ac=ot.unstable_cancelCallback,Wp=ot.unstable_shouldYield,Hp=ot.unstable_requestPaint,Se=ot.unstable_now,qp=ot.unstable_getCurrentPriorityLevel,Si=ot.unstable_ImmediatePriority,Hd=ot.unstable_UserBlockingPriority,Ol=ot.unstable_NormalPriority,Vp=ot.unstable_LowPriority,qd=ot.unstable_IdlePriority,fo=null,At=null;function Kp(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Zp,Gp=Math.log,Yp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Gp(e)/Yp|0)|0}var nl=64,rl=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=ds(i):(o&=a,o!==0&&(r=ds(o)))}else a=n&~l,a!==0?r=ds(a):o!==0&&(r=ds(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),l=1<<n,r|=e[n],t&=~l;return r}function Jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ct(o),i=1<<a,c=l[a];c===-1?(!(i&n)||i&r)&&(l[a]=Jp(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vd(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function Fo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function em(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ct(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function Ni(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ce=0;function Kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gd,ki,Yd,Zd,Jd,wa=!1,sl=[],jn=null,bn=null,Sn=null,Cs=new Map,Es=new Map,an=[],tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function rs(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Gs(t),t!==null&&ki(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nm(e,t,n,r,l){switch(t){case"focusin":return jn=rs(jn,e,t,n,r,l),!0;case"dragenter":return bn=rs(bn,e,t,n,r,l),!0;case"mouseover":return Sn=rs(Sn,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Cs.set(o,rs(Cs.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Es.set(o,rs(Es.get(o)||null,e,t,n,r,l)),!0}return!1}function Xd(e){var t=Ln(e.target);if(t!==null){var n=cr(t);if(n!==null){if(t=n.tag,t===13){if(t=$d(n),t!==null){e.blockedOn=t,Jd(e.priority,function(){Yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ma=r,n.target.dispatchEvent(r),ma=null}else return t=Gs(n),t!==null&&ki(t),e.blockedOn=n,!1;t.shift()}return!0}function Dc(e,t,n){bl(e)&&n.delete(t)}function rm(){wa=!1,jn!==null&&bl(jn)&&(jn=null),bn!==null&&bl(bn)&&(bn=null),Sn!==null&&bl(Sn)&&(Sn=null),Cs.forEach(Dc),Es.forEach(Dc)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,rm)))}function Ps(e){function t(l){return ss(l,e)}if(0<sl.length){ss(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&ss(jn,e),bn!==null&&ss(bn,e),Sn!==null&&ss(Sn,e),Cs.forEach(t),Es.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Xd(n),n.blockedOn===null&&an.shift()}var Cr=nn.ReactCurrentBatchConfig,Ll=!0;function sm(e,t,n,r){var l=ce,o=Cr.transition;Cr.transition=null;try{ce=1,Ci(e,t,n,r)}finally{ce=l,Cr.transition=o}}function lm(e,t,n,r){var l=ce,o=Cr.transition;Cr.transition=null;try{ce=4,Ci(e,t,n,r)}finally{ce=l,Cr.transition=o}}function Ci(e,t,n,r){if(Ll){var l=ja(e,t,n,r);if(l===null)Wo(e,t,r,Ul,n),Oc(e,r);else if(nm(l,e,t,n,r))r.stopPropagation();else if(Oc(e,r),t&4&&-1<tm.indexOf(e)){for(;l!==null;){var o=Gs(l);if(o!==null&&Gd(o),o=ja(e,t,n,r),o===null&&Wo(e,t,r,Ul,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Wo(e,t,r,null,n)}}var Ul=null;function ja(e,t,n,r){if(Ul=null,e=bi(r),e=Ln(e),e!==null)if(t=cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qp()){case Si:return 1;case Hd:return 4;case Ol:case Vp:return 16;case qd:return 536870912;default:return 16}default:return 16}}var vn=null,Ei=null,Sl=null;function tf(){if(Sl)return Sl;var e,t=Ei,n=t.length,r,l="value"in vn?vn.value:vn.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[o-r];r++);return Sl=l.slice(e,1<r?1-r:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Lc(){return!1}function it(e){function t(n,r,l,o,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ll:Lc,this.isPropagationStopped=Lc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=it(Jr),Ks=ve({},Jr,{view:0,detail:0}),om=it(Ks),Io,Ao,ls,ho=ve({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Io=e.screenX-ls.screenX,Ao=e.screenY-ls.screenY):Ao=Io=0,ls=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),Uc=it(ho),am=ve({},ho,{dataTransfer:0}),im=it(am),cm=ve({},Ks,{relatedTarget:0}),Oo=it(cm),um=ve({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=it(um),fm=ve({},Jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hm=it(fm),pm=ve({},Jr,{data:0}),$c=it(pm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xm[e])?!!t[e]:!1}function Mi(){return ym}var vm=ve({},Ks,{key:function(e){if(e.key){var t=mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wm=it(vm),jm=ve({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=it(jm),bm=ve({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),Sm=it(bm),Nm=ve({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),km=it(Nm),Cm=ve({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Em=it(Cm),Pm=[9,13,27,32],_i=Zt&&"CompositionEvent"in window,gs=null;Zt&&"documentMode"in document&&(gs=document.documentMode);var Mm=Zt&&"TextEvent"in window&&!gs,nf=Zt&&(!_i||gs&&8<gs&&11>=gs),Bc=" ",Wc=!1;function rf(e,t){switch(e){case"keyup":return Pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function _m(e,t){switch(e){case"compositionend":return sf(t);case"keypress":return t.which!==32?null:(Wc=!0,Bc);case"textInput":return e=t.data,e===Bc&&Wc?null:e;default:return null}}function zm(e,t){if(hr)return e==="compositionend"||!_i&&rf(e,t)?(e=tf(),Sl=Ei=vn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function lf(e,t,n,r){Ad(r),t=$l(t,"onChange"),0<t.length&&(n=new Pi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xs=null,Ms=null;function Tm(e){xf(e,0)}function po(e){var t=gr(e);if(Md(t))return e}function Fm(e,t){if(e==="change")return t}var of=!1;if(Zt){var Do;if(Zt){var Lo="oninput"in document;if(!Lo){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),Lo=typeof qc.oninput=="function"}Do=Lo}else Do=!1;of=Do&&(!document.documentMode||9<document.documentMode)}function Vc(){xs&&(xs.detachEvent("onpropertychange",af),Ms=xs=null)}function af(e){if(e.propertyName==="value"&&po(Ms)){var t=[];lf(t,Ms,e,bi(e)),Ud(Tm,t)}}function Im(e,t,n){e==="focusin"?(Vc(),xs=t,Ms=n,xs.attachEvent("onpropertychange",af)):e==="focusout"&&Vc()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Ms)}function Om(e,t){if(e==="click")return po(t)}function Dm(e,t){if(e==="input"||e==="change")return po(t)}function Lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Lm;function _s(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!ra.call(t,l)||!Pt(e[l],t[l]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,t){var n=Kc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kc(n)}}function cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uf(){for(var e=window,t=Fl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fl(e.document)}return t}function zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Um(e){var t=uf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cf(n.ownerDocument.documentElement,n)){if(r!==null&&zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Gc(n,o);var a=Gc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $m=Zt&&"documentMode"in document&&11>=document.documentMode,pr=null,ba=null,ys=null,Sa=!1;function Yc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||pr==null||pr!==Fl(r)||(r=pr,"selectionStart"in r&&zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&_s(ys,r)||(ys=r,r=$l(ba,"onSelect"),0<r.length&&(t=new Pi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},Uo={},df={};Zt&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function mo(e){if(Uo[e])return Uo[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in df)return Uo[e]=t[n];return e}var ff=mo("animationend"),hf=mo("animationiteration"),pf=mo("animationstart"),mf=mo("transitionend"),gf=new Map,Zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){gf.set(e,t),ir(t,[e])}for(var $o=0;$o<Zc.length;$o++){var Qo=Zc[$o],Qm=Qo.toLowerCase(),Bm=Qo[0].toUpperCase()+Qo.slice(1);Rn(Qm,"on"+Bm)}Rn(ff,"onAnimationEnd");Rn(hf,"onAnimationIteration");Rn(pf,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(mf,"onTransitionEnd");$r("onMouseEnter",["mouseout","mouseover"]);$r("onMouseLeave",["mouseout","mouseover"]);$r("onPointerEnter",["pointerout","pointerover"]);$r("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Jc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qp(r,t,void 0,e),e.currentTarget=null}function xf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&l.isPropagationStopped())break e;Jc(l,i,u),o=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&l.isPropagationStopped())break e;Jc(l,i,u),o=c}}}if(Al)throw e=ya,Al=!1,ya=null,e}function fe(e,t){var n=t[Pa];n===void 0&&(n=t[Pa]=new Set);var r=e+"__bubble";n.has(r)||(yf(t,e,2,!1),n.add(r))}function Bo(e,t,n){var r=0;t&&(r|=4),yf(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[al]){e[al]=!0,Nd.forEach(function(n){n!=="selectionchange"&&(Wm.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,Bo("selectionchange",!1,t))}}function yf(e,t,n,r){switch(ef(t)){case 1:var l=sm;break;case 4:l=lm;break;default:l=Ci}n=l.bind(null,t,n,e),l=void 0,!xa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Wo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Ln(i),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}i=i.parentNode}}r=r.return}Ud(function(){var u=o,g=bi(n),m=[];e:{var x=gf.get(e);if(x!==void 0){var v=Pi,w=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":v=wm;break;case"focusin":w="focus",v=Oo;break;case"focusout":w="blur",v=Oo;break;case"beforeblur":case"afterblur":v=Oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sm;break;case ff:case hf:case pf:v=dm;break;case mf:v=km;break;case"scroll":v=om;break;case"wheel":v=Em;break;case"copy":case"cut":case"paste":v=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Qc}var b=(t&4)!==0,C=!b&&e==="scroll",f=b?x!==null?x+"Capture":null:x;b=[];for(var d=u,h;d!==null;){h=d;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,f!==null&&(y=ks(d,f),y!=null&&b.push(Rs(d,y,h)))),C)break;d=d.return}0<b.length&&(x=new v(x,w,null,n,g),m.push({event:x,listeners:b}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&n!==ma&&(w=n.relatedTarget||n.fromElement)&&(Ln(w)||w[Jt]))break e;if((v||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Ln(w):null,w!==null&&(C=cr(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(b=Uc,y="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(b=Qc,y="onPointerLeave",f="onPointerEnter",d="pointer"),C=v==null?x:gr(v),h=w==null?x:gr(w),x=new b(y,d+"leave",v,n,g),x.target=C,x.relatedTarget=h,y=null,Ln(g)===u&&(b=new b(f,d+"enter",w,n,g),b.target=h,b.relatedTarget=C,y=b),C=y,v&&w)t:{for(b=v,f=w,d=0,h=b;h;h=ur(h))d++;for(h=0,y=f;y;y=ur(y))h++;for(;0<d-h;)b=ur(b),d--;for(;0<h-d;)f=ur(f),h--;for(;d--;){if(b===f||f!==null&&b===f.alternate)break t;b=ur(b),f=ur(f)}b=null}else b=null;v!==null&&Xc(m,x,v,b,!1),w!==null&&C!==null&&Xc(m,C,w,b,!0)}}e:{if(x=u?gr(u):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var E=Fm;else if(Hc(x))if(of)E=Dm;else{E=Am;var N=Im}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Om);if(E&&(E=E(e,u))){lf(m,E,n,g);break e}N&&N(e,x,u),e==="focusout"&&(N=x._wrapperState)&&N.controlled&&x.type==="number"&&ua(x,"number",x.value)}switch(N=u?gr(u):window,e){case"focusin":(Hc(N)||N.contentEditable==="true")&&(pr=N,ba=u,ys=null);break;case"focusout":ys=ba=pr=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,Yc(m,n,g);break;case"selectionchange":if($m)break;case"keydown":case"keyup":Yc(m,n,g)}var R;if(_i)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else hr?rf(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(nf&&n.locale!=="ko"&&(hr||I!=="onCompositionStart"?I==="onCompositionEnd"&&hr&&(R=tf()):(vn=g,Ei="value"in vn?vn.value:vn.textContent,hr=!0)),N=$l(u,I),0<N.length&&(I=new $c(I,e,null,n,g),m.push({event:I,listeners:N}),R?I.data=R:(R=sf(n),R!==null&&(I.data=R)))),(R=Mm?_m(e,n):zm(e,n))&&(u=$l(u,"onBeforeInput"),0<u.length&&(g=new $c("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:u}),g.data=R))}xf(m,t)})}function Rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=ks(e,n),o!=null&&r.unshift(Rs(e,o,l)),o=ks(e,t),o!=null&&r.push(Rs(e,o,l))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xc(e,t,n,r,l){for(var o=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,l?(c=ks(n,o),c!=null&&a.unshift(Rs(n,c,i))):l||(c=ks(n,o),c!=null&&a.push(Rs(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Hm=/\r\n?/g,qm=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(Hm,`
`).replace(qm,"")}function il(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(U(425))}function Ql(){}var Na=null,ka=null;function Ca(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,Km=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(Gm)}:Ea;function Gm(e){setTimeout(function(){throw e})}function Ho(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Ps(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),It="__reactFiber$"+Xr,Ts="__reactProps$"+Xr,Jt="__reactContainer$"+Xr,Pa="__reactEvents$"+Xr,Ym="__reactListeners$"+Xr,Zm="__reactHandles$"+Xr;function Ln(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[It])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[It]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function go(e){return e[Ts]||null}var Ma=[],xr=-1;function Tn(e){return{current:e}}function he(e){0>xr||(e.current=Ma[xr],Ma[xr]=null,xr--)}function de(e,t){xr++,Ma[xr]=e.current,e.current=t}var zn={},Ue=Tn(zn),Xe=Tn(!1),er=zn;function Qr(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function et(e){return e=e.childContextTypes,e!=null}function Bl(){he(Xe),he(Ue)}function ru(e,t,n){if(Ue.current!==zn)throw Error(U(168));de(Ue,t),de(Xe,n)}function vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(U(108,Ip(e)||"Unknown",l));return ve({},n,r)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,er=Ue.current,de(Ue,e),de(Xe,Xe.current),!0}function su(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=vf(e,t,er),r.__reactInternalMemoizedMergedChildContext=e,he(Xe),he(Ue),de(Ue,e)):he(Xe),de(Xe,n)}var Qt=null,xo=!1,qo=!1;function wf(e){Qt===null?Qt=[e]:Qt.push(e)}function Jm(e){xo=!0,wf(e)}function Fn(){if(!qo&&Qt!==null){qo=!0;var e=0,t=ce;try{var n=Qt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qt=null,xo=!1}catch(l){throw Qt!==null&&(Qt=Qt.slice(e+1)),Wd(Si,Fn),l}finally{ce=t,qo=!1}}return null}var yr=[],vr=0,Hl=null,ql=0,dt=[],ft=0,tr=null,Vt=1,Kt="";function On(e,t){yr[vr++]=ql,yr[vr++]=Hl,Hl=e,ql=t}function jf(e,t,n){dt[ft++]=Vt,dt[ft++]=Kt,dt[ft++]=tr,tr=e;var r=Vt;e=Kt;var l=32-Ct(r)-1;r&=~(1<<l),n+=1;var o=32-Ct(t)+l;if(30<o){var a=l-l%5;o=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Vt=1<<32-Ct(t)+l|n<<l|r,Kt=o+e}else Vt=1<<o|n<<l|r,Kt=e}function Ri(e){e.return!==null&&(On(e,1),jf(e,1,0))}function Ti(e){for(;e===Hl;)Hl=yr[--vr],yr[vr]=null,ql=yr[--vr],yr[vr]=null;for(;e===tr;)tr=dt[--ft],dt[ft]=null,Kt=dt[--ft],dt[ft]=null,Vt=dt[--ft],dt[ft]=null}var lt=null,st=null,ge=!1,kt=null;function bf(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tr!==null?{id:Vt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function _a(e){return(e.mode&1)!==0&&(e.flags&128)===0}function za(e){if(ge){var t=st;if(t){var n=t;if(!lu(e,t)){if(_a(e))throw Error(U(418));t=Nn(n.nextSibling);var r=lt;t&&lu(e,t)?bf(r,n):(e.flags=e.flags&-4097|2,ge=!1,lt=e)}}else{if(_a(e))throw Error(U(418));e.flags=e.flags&-4097|2,ge=!1,lt=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function cl(e){if(e!==lt)return!1;if(!ge)return ou(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ca(e.type,e.memoizedProps)),t&&(t=st)){if(_a(e))throw Sf(),Error(U(418));for(;t;)bf(e,t),t=Nn(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?Nn(e.stateNode.nextSibling):null;return!0}function Sf(){for(var e=st;e;)e=Nn(e.nextSibling)}function Br(){st=lt=null,ge=!1}function Fi(e){kt===null?kt=[e]:kt.push(e)}var Xm=nn.ReactCurrentBatchConfig;function os(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var i=l.refs;a===null?delete i[o]:i[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function au(e){var t=e._init;return t(e._payload)}function Nf(e){function t(f,d){if(e){var h=f.deletions;h===null?(f.deletions=[d],f.flags|=16):h.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function l(f,d){return f=Pn(f,d),f.index=0,f.sibling=null,f}function o(f,d,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<d?(f.flags|=2,d):h):(f.flags|=2,d)):(f.flags|=1048576,d)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function i(f,d,h,y){return d===null||d.tag!==6?(d=Xo(h,f.mode,y),d.return=f,d):(d=l(d,h),d.return=f,d)}function c(f,d,h,y){var E=h.type;return E===fr?g(f,d,h.props.children,y,h.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ln&&au(E)===d.type)?(y=l(d,h.props),y.ref=os(f,d,h),y.return=f,y):(y=zl(h.type,h.key,h.props,null,f.mode,y),y.ref=os(f,d,h),y.return=f,y)}function u(f,d,h,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==h.containerInfo||d.stateNode.implementation!==h.implementation?(d=ea(h,f.mode,y),d.return=f,d):(d=l(d,h.children||[]),d.return=f,d)}function g(f,d,h,y,E){return d===null||d.tag!==7?(d=Xn(h,f.mode,y,E),d.return=f,d):(d=l(d,h),d.return=f,d)}function m(f,d,h){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Xo(""+d,f.mode,h),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Xs:return h=zl(d.type,d.key,d.props,null,f.mode,h),h.ref=os(f,null,d),h.return=f,h;case dr:return d=ea(d,f.mode,h),d.return=f,d;case ln:var y=d._init;return m(f,y(d._payload),h)}if(us(d)||ts(d))return d=Xn(d,f.mode,h,null),d.return=f,d;ul(f,d)}return null}function x(f,d,h,y){var E=d!==null?d.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return E!==null?null:i(f,d,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Xs:return h.key===E?c(f,d,h,y):null;case dr:return h.key===E?u(f,d,h,y):null;case ln:return E=h._init,x(f,d,E(h._payload),y)}if(us(h)||ts(h))return E!==null?null:g(f,d,h,y,null);ul(f,h)}return null}function v(f,d,h,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return f=f.get(h)||null,i(d,f,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:return f=f.get(y.key===null?h:y.key)||null,c(d,f,y,E);case dr:return f=f.get(y.key===null?h:y.key)||null,u(d,f,y,E);case ln:var N=y._init;return v(f,d,h,N(y._payload),E)}if(us(y)||ts(y))return f=f.get(h)||null,g(d,f,y,E,null);ul(d,y)}return null}function w(f,d,h,y){for(var E=null,N=null,R=d,I=d=0,P=null;R!==null&&I<h.length;I++){R.index>I?(P=R,R=null):P=R.sibling;var _=x(f,R,h[I],y);if(_===null){R===null&&(R=P);break}e&&R&&_.alternate===null&&t(f,R),d=o(_,d,I),N===null?E=_:N.sibling=_,N=_,R=P}if(I===h.length)return n(f,R),ge&&On(f,I),E;if(R===null){for(;I<h.length;I++)R=m(f,h[I],y),R!==null&&(d=o(R,d,I),N===null?E=R:N.sibling=R,N=R);return ge&&On(f,I),E}for(R=r(f,R);I<h.length;I++)P=v(R,f,I,h[I],y),P!==null&&(e&&P.alternate!==null&&R.delete(P.key===null?I:P.key),d=o(P,d,I),N===null?E=P:N.sibling=P,N=P);return e&&R.forEach(function(O){return t(f,O)}),ge&&On(f,I),E}function b(f,d,h,y){var E=ts(h);if(typeof E!="function")throw Error(U(150));if(h=E.call(h),h==null)throw Error(U(151));for(var N=E=null,R=d,I=d=0,P=null,_=h.next();R!==null&&!_.done;I++,_=h.next()){R.index>I?(P=R,R=null):P=R.sibling;var O=x(f,R,_.value,y);if(O===null){R===null&&(R=P);break}e&&R&&O.alternate===null&&t(f,R),d=o(O,d,I),N===null?E=O:N.sibling=O,N=O,R=P}if(_.done)return n(f,R),ge&&On(f,I),E;if(R===null){for(;!_.done;I++,_=h.next())_=m(f,_.value,y),_!==null&&(d=o(_,d,I),N===null?E=_:N.sibling=_,N=_);return ge&&On(f,I),E}for(R=r(f,R);!_.done;I++,_=h.next())_=v(R,f,I,_.value,y),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?I:_.key),d=o(_,d,I),N===null?E=_:N.sibling=_,N=_);return e&&R.forEach(function(F){return t(f,F)}),ge&&On(f,I),E}function C(f,d,h,y){if(typeof h=="object"&&h!==null&&h.type===fr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Xs:e:{for(var E=h.key,N=d;N!==null;){if(N.key===E){if(E=h.type,E===fr){if(N.tag===7){n(f,N.sibling),d=l(N,h.props.children),d.return=f,f=d;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ln&&au(E)===N.type){n(f,N.sibling),d=l(N,h.props),d.ref=os(f,N,h),d.return=f,f=d;break e}n(f,N);break}else t(f,N);N=N.sibling}h.type===fr?(d=Xn(h.props.children,f.mode,y,h.key),d.return=f,f=d):(y=zl(h.type,h.key,h.props,null,f.mode,y),y.ref=os(f,d,h),y.return=f,f=y)}return a(f);case dr:e:{for(N=h.key;d!==null;){if(d.key===N)if(d.tag===4&&d.stateNode.containerInfo===h.containerInfo&&d.stateNode.implementation===h.implementation){n(f,d.sibling),d=l(d,h.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=ea(h,f.mode,y),d.return=f,f=d}return a(f);case ln:return N=h._init,C(f,d,N(h._payload),y)}if(us(h))return w(f,d,h,y);if(ts(h))return b(f,d,h,y);ul(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,d!==null&&d.tag===6?(n(f,d.sibling),d=l(d,h),d.return=f,f=d):(n(f,d),d=Xo(h,f.mode,y),d.return=f,f=d),a(f)):n(f,d)}return C}var Wr=Nf(!0),kf=Nf(!1),Vl=Tn(null),Kl=null,wr=null,Ii=null;function Ai(){Ii=wr=Kl=null}function Oi(e){var t=Vl.current;he(Vl),e._currentValue=t}function Ra(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){Kl=e,Ii=wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},wr===null){if(Kl===null)throw Error(U(308));wr=e,Kl.dependencies={lanes:0,firstContext:e}}else wr=wr.next=e;return t}var Un=null;function Di(e){Un===null?Un=[e]:Un.push(e)}function Cf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Di(t)):(n.next=l.next,l.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Xt(e,n)}return l=r.interleaved,l===null?(t.next=t,Di(r)):(t.next=l.next,l.next=t),r.interleaved=t,Xt(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ni(e,n)}}function iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gl(e,t,n,r){var l=e.updateQueue;on=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var g=e.alternate;g!==null&&(g=g.updateQueue,i=g.lastBaseUpdate,i!==a&&(i===null?g.firstBaseUpdate=u:i.next=u,g.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;a=0,g=u=c=null,i=o;do{var x=i.lane,v=i.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,b=i;switch(x=t,v=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){m=w.call(v,m,x);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,x=typeof w=="function"?w.call(v,m,x):w,x==null)break e;m=ve({},m,x);break e;case 2:on=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[i]:x.push(i))}else v={eventTime:v,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},g===null?(u=g=v,c=m):g=g.next=v,a|=x;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;x=i,i=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(g===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);rr|=a,e.lanes=a,e.memoizedState=m}}function cu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(U(191,l));l.call(r)}}}var Ys={},Ot=Tn(Ys),Fs=Tn(Ys),Is=Tn(Ys);function $n(e){if(e===Ys)throw Error(U(174));return e}function Ui(e,t){switch(de(Is,t),de(Fs,e),de(Ot,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fa(t,e)}he(Ot),de(Ot,t)}function Hr(){he(Ot),he(Fs),he(Is)}function Pf(e){$n(Is.current);var t=$n(Ot.current),n=fa(t,e.type);t!==n&&(de(Fs,e),de(Ot,n))}function $i(e){Fs.current===e&&(he(Ot),he(Fs))}var xe=Tn(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function Qi(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var Cl=nn.ReactCurrentDispatcher,Ko=nn.ReactCurrentBatchConfig,nr=0,ye=null,Ce=null,_e=null,Zl=!1,vs=!1,As=0,eg=0;function Oe(){throw Error(U(321))}function Bi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,l,o){if(nr=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?sg:lg,e=n(r,l),vs){o=0;do{if(vs=!1,As=0,25<=o)throw Error(U(301));o+=1,_e=Ce=null,t.updateQueue=null,Cl.current=og,e=n(r,l)}while(vs)}if(Cl.current=Jl,t=Ce!==null&&Ce.next!==null,nr=0,_e=Ce=ye=null,Zl=!1,t)throw Error(U(300));return e}function Hi(){var e=As!==0;return As=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ye.memoizedState=_e=e:_e=_e.next=e,_e}function gt(){if(Ce===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=_e===null?ye.memoizedState:_e.next;if(t!==null)_e=t,Ce=e;else{if(e===null)throw Error(U(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},_e===null?ye.memoizedState=_e=e:_e=_e.next=e}return _e}function Os(e,t){return typeof t=="function"?t(e):t}function Go(e){var t=gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ce,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=a=null,c=null,u=o;do{var g=u.lane;if((nr&g)===g)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:g,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=m,a=r):c=c.next=m,ye.lanes|=g,rr|=g}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=i,Pt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ye.lanes|=o,rr|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yo(e){var t=gt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=e(o,a.action),a=a.next;while(a!==l);Pt(o,t.memoizedState)||(Je=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mf(){}function _f(e,t){var n=ye,r=gt(),l=t(),o=!Pt(r.memoizedState,l);if(o&&(r.memoizedState=l,Je=!0),r=r.queue,qi(Tf.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Rf.bind(null,n,r,l,t),void 0,null),ze===null)throw Error(U(349));nr&30||zf(n,t,l)}return l}function zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rf(e,t,n,r){t.value=n,t.getSnapshot=r,Ff(t)&&If(e)}function Tf(e,t,n){return n(function(){Ff(t)&&If(e)})}function Ff(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function If(e){var t=Xt(e,1);t!==null&&Et(t,e,1,-1)}function uu(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t.queue=e,e=e.dispatch=rg.bind(null,ye,e),[t.memoizedState,e]}function Ds(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Af(){return gt().memoizedState}function El(e,t,n,r){var l=zt();ye.flags|=e,l.memoizedState=Ds(1|t,n,void 0,r===void 0?null:r)}function yo(e,t,n,r){var l=gt();r=r===void 0?null:r;var o=void 0;if(Ce!==null){var a=Ce.memoizedState;if(o=a.destroy,r!==null&&Bi(r,a.deps)){l.memoizedState=Ds(t,n,o,r);return}}ye.flags|=e,l.memoizedState=Ds(1|t,n,o,r)}function du(e,t){return El(8390656,8,e,t)}function qi(e,t){return yo(2048,8,e,t)}function Of(e,t){return yo(4,2,e,t)}function Df(e,t){return yo(4,4,e,t)}function Lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uf(e,t,n){return n=n!=null?n.concat([e]):null,yo(4,4,Lf.bind(null,t,e),n)}function Vi(){}function $f(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qf(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bf(e,t,n){return nr&21?(Pt(n,t)||(n=Vd(),ye.lanes|=n,rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function tg(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Ko.transition;Ko.transition={};try{e(!1),t()}finally{ce=n,Ko.transition=r}}function Wf(){return gt().memoizedState}function ng(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hf(e))qf(t,n);else if(n=Cf(e,t,n,r),n!==null){var l=He();Et(n,e,r,l),Vf(n,t,r)}}function rg(e,t,n){var r=En(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hf(e))qf(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,i=o(a,n);if(l.hasEagerState=!0,l.eagerState=i,Pt(i,a)){var c=t.interleaved;c===null?(l.next=l,Di(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Cf(e,t,l,r),n!==null&&(l=He(),Et(n,e,r,l),Vf(n,t,r))}}function Hf(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function qf(e,t){vs=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ni(e,n)}}var Jl={readContext:mt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},sg={readContext:mt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,Lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ng.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:Vi,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=tg.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=zt();if(ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));nr&30||zf(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,du(Tf.bind(null,r,o,e),[e]),r.flags|=2048,Ds(9,Rf.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zt(),t=ze.identifierPrefix;if(ge){var n=Kt,r=Vt;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lg={readContext:mt,useCallback:$f,useContext:mt,useEffect:qi,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:Df,useMemo:Qf,useReducer:Go,useRef:Af,useState:function(){return Go(Os)},useDebugValue:Vi,useDeferredValue:function(e){var t=gt();return Bf(t,Ce.memoizedState,e)},useTransition:function(){var e=Go(Os)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:_f,useId:Wf,unstable_isNewReconciler:!1},og={readContext:mt,useCallback:$f,useContext:mt,useEffect:qi,useImperativeHandle:Uf,useInsertionEffect:Of,useLayoutEffect:Df,useMemo:Qf,useReducer:Yo,useRef:Af,useState:function(){return Yo(Os)},useDebugValue:Vi,useDeferredValue:function(e){var t=gt();return Ce===null?t.memoizedState=e:Bf(t,Ce.memoizedState,e)},useTransition:function(){var e=Yo(Os)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Mf,useSyncExternalStore:_f,useId:Wf,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ta(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),l=En(e),o=Gt(r,l);o.payload=t,n!=null&&(o.callback=n),t=kn(e,o,l),t!==null&&(Et(t,e,l,r),kl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),l=En(e),o=Gt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=kn(e,o,l),t!==null&&(Et(t,e,l,r),kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=En(e),l=Gt(n,r);l.tag=2,t!=null&&(l.callback=t),t=kn(e,l,r),t!==null&&(Et(t,e,r,n),kl(t,e,r))}};function fu(e,t,n,r,l,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!_s(n,r)||!_s(l,o):!0}function Kf(e,t,n){var r=!1,l=zn,o=t.contextType;return typeof o=="object"&&o!==null?o=mt(o):(l=et(t)?er:Ue.current,r=t.contextTypes,o=(r=r!=null)?Qr(e,l):zn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Fa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Li(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=mt(o):(o=et(t)?er:Ue.current,l.context=Qr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ta(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&vo.enqueueReplaceState(l,l.state,null),Gl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=Fp(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Zo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ia(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){eo||(eo=!0,Ha=r),Ia(e,t)},n}function Yf(e,t,n){n=Gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ia(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ia(e,t),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ag;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=jg.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var ig=nn.ReactCurrentOwner,Je=!1;function Be(e,t,n,r){t.child=e===null?kf(t,null,n,r):Wr(t,e.child,n,r)}function xu(e,t,n,r,l){n=n.render;var o=t.ref;return Er(t,l),r=Wi(e,t,n,r,o,l),n=Hi(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ge&&n&&Ri(t),t.flags|=1,Be(e,t,r,l),t.child)}function yu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!tc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zf(e,t,o,r,l)):(e=zl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:_s,n(a,r)&&e.ref===t.ref)return en(e,t,l)}return t.flags|=1,e=Pn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(_s(o,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,en(e,t,l)}return Aa(e,t,n,r,l)}function Jf(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(br,rt),rt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(br,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(br,rt),rt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(br,rt),rt|=r;return Be(e,t,l,n),t.child}function Xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,l){var o=et(n)?er:Ue.current;return o=Qr(t,o),Er(t,l),n=Wi(e,t,n,r,o,l),r=Hi(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,en(e,t,l)):(ge&&r&&Ri(t),t.flags|=1,Be(e,t,n,l),t.child)}function vu(e,t,n,r,l){if(et(n)){var o=!0;Wl(t)}else o=!1;if(Er(t,l),t.stateNode===null)Pl(e,t),Kf(t,n,r),Fa(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=et(n)?er:Ue.current,u=Qr(t,u));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&hu(t,a,r,u),on=!1;var x=t.memoizedState;a.state=x,Gl(t,r,a,l),c=t.memoizedState,i!==r||x!==c||Xe.current||on?(typeof g=="function"&&(Ta(t,n,g,r),c=t.memoizedState),(i=on||fu(t,n,i,r,x,c,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ef(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:jt(t.type,i),a.props=u,m=t.pendingProps,x=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=et(n)?er:Ue.current,c=Qr(t,c));var v=n.getDerivedStateFromProps;(g=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==m||x!==c)&&hu(t,a,r,c),on=!1,x=t.memoizedState,a.state=x,Gl(t,r,a,l);var w=t.memoizedState;i!==m||x!==w||Xe.current||on?(typeof v=="function"&&(Ta(t,n,v,r),w=t.memoizedState),(u=on||fu(t,n,u,r,x,w,c)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,o,l)}function Oa(e,t,n,r,l,o){Xf(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&su(t,n,!1),en(e,t,o);r=t.stateNode,ig.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Wr(t,e.child,null,o),t.child=Wr(t,null,i,o)):Be(e,t,i,o),t.memoizedState=r.state,l&&su(t,n,!0),t.child}function eh(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),Ui(e,t.containerInfo)}function wu(e,t,n,r,l){return Br(),Fi(l),t.flags|=256,Be(e,t,n,r),t.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function th(e,t,n){var r=t.pendingProps,l=xe.current,o=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(xe,l&1),e===null)return za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=bo(a,r,0,null),e=Xn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=La(n),t.memoizedState=Da,e):Ki(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return cg(e,t,a,r,i,l,n);if(o){o=r.fallback,a=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pn(l,c),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=Pn(i,o):(o=Xn(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?La(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Da,r}return o=e.child,e=o.sibling,r=Pn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ki(e,t){return t=bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dl(e,t,n,r){return r!==null&&Fi(r),Wr(t,e.child,null,n),e=Ki(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,n,r,l,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Zo(Error(U(422))),dl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=bo({mode:"visible",children:r.children},l,0,null),o=Xn(o,l,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Wr(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Da,o);if(!(t.mode&1))return dl(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(U(419)),r=Zo(o,r,void 0),dl(e,t,a,r)}if(i=(a&e.childLanes)!==0,Je||i){if(r=ze,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Xt(e,l),Et(r,e,l,-1))}return ec(),r=Zo(Error(U(421))),dl(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=bg.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,st=Nn(l.nextSibling),lt=t,ge=!0,kt=null,e!==null&&(dt[ft++]=Vt,dt[ft++]=Kt,dt[ft++]=tr,Vt=e.id,Kt=e.overflow,tr=t),t=Ki(t,r.children),t.flags|=4096,t)}function ju(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ra(e.return,t,n)}function Jo(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function nh(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Be(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,n,t);else if(e.tag===19)ju(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(xe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Jo(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Jo(t,!0,n,null,o);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ug(e,t,n){switch(t.tag){case 3:eh(t),Br();break;case 5:Pf(t);break;case 1:et(t.type)&&Wl(t);break;case 4:Ui(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;de(Vl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?th(e,t,n):(de(xe,xe.current&1),e=en(e,t,n),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nh(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Jf(e,t,n)}return en(e,t,n)}var rh,Ua,sh,lh;rh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ua=function(){};sh=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,$n(Ot.current);var o=null;switch(n){case"input":l=ia(e,l),r=ia(e,r),o=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":l=da(e,l),r=da(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ql)}ha(n,r);var a;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ss.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(i=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),o||i===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};lh=function(e,t,n,r){n!==r&&(t.flags|=4)};function as(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dg(e,t,n){var r=t.pendingProps;switch(Ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return et(t.type)&&Bl(),De(t),null;case 3:return r=t.stateNode,Hr(),he(Xe),he(Ue),Qi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(Ka(kt),kt=null))),Ua(e,t),De(t),null;case 5:$i(t);var l=$n(Is.current);if(n=t.type,e!==null&&t.stateNode!=null)sh(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return De(t),null}if(e=$n(Ot.current),cl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[It]=t,r[Ts]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(l=0;l<fs.length;l++)fe(fs[l],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":_c(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Rc(r,o),fe("invalid",r)}ha(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var i=o[a];a==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&il(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&il(r.textContent,i,e),l=["children",""+i]):Ss.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&fe("scroll",r)}switch(n){case"input":el(r),zc(r,o,!0);break;case"textarea":el(r),Tc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ql)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[It]=t,e[Ts]=r,rh(e,t,!1,!1),t.stateNode=e;e:{switch(a=pa(n,r),n){case"dialog":fe("cancel",e),fe("close",e),l=r;break;case"iframe":case"object":case"embed":fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<fs.length;l++)fe(fs[l],e);l=r;break;case"source":fe("error",e),l=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),l=r;break;case"details":fe("toggle",e),l=r;break;case"input":_c(e,r),l=ia(e,r),fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Rc(e,r),l=da(e,r),fe("invalid",e);break;default:l=r}ha(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?Id(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Td(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ns(e,c):typeof c=="number"&&Ns(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ss.hasOwnProperty(o)?c!=null&&o==="onScroll"&&fe("scroll",e):c!=null&&yi(e,o,c,a))}switch(n){case"input":el(e),zc(e,r,!1);break;case"textarea":el(e),Tc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Sr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)lh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=$n(Is.current),$n(Ot.current),cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return De(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&st!==null&&t.mode&1&&!(t.flags&128))Sf(),Br(),t.flags|=98560,o=!1;else if(o=cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[It]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else kt!==null&&(Ka(kt),kt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Pe===0&&(Pe=3):ec())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Hr(),Ua(e,t),e===null&&zs(t.stateNode.containerInfo),De(t),null;case 10:return Oi(t.type._context),De(t),null;case 17:return et(t.type)&&Bl(),De(t),null;case 19:if(he(xe),o=t.memoizedState,o===null)return De(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)as(o,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yl(e),a!==null){for(t.flags|=128,as(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>Vr&&(t.flags|=128,r=!0,as(o,!1),t.lanes=4194304)}else{if(!r)if(e=Yl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ge)return De(t),null}else 2*Se()-o.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,r=!0,as(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=xe.current,de(xe,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Xi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function fg(e,t){switch(Ti(t),t.tag){case 1:return et(t.type)&&Bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),he(Xe),he(Ue),Qi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $i(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return Hr(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return Xi(),null;case 24:return null;default:return null}}var fl=!1,Le=!1,hg=typeof WeakSet=="function"?WeakSet:Set,V=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function $a(e,t,n){try{n()}catch(r){je(e,t,r)}}var bu=!1;function pg(e,t){if(Na=Ll,e=uf(),zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,u=0,g=0,m=e,x=null;t:for(;;){for(var v;m!==n||l!==0&&m.nodeType!==3||(i=a+l),m!==o||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)x=m,m=v;for(;;){if(m===e)break t;if(x===n&&++u===l&&(i=a),x===o&&++g===r&&(c=a),(v=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ka={focusedElem:e,selectionRange:n},Ll=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,C=w.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:jt(t.type,b),C);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(y){je(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return w=bu,bu=!1,w}function ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&$a(t,n,o)}l=l.next}while(l!==r)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oh(e){var t=e.alternate;t!==null&&(e.alternate=null,oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Ts],delete t[Pa],delete t[Ym],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ah(e){return e.tag===5||e.tag===3||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ql));else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}function Wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wa(e,t,n),e=e.sibling;e!==null;)Wa(e,t,n),e=e.sibling}var Fe=null,Nt=!1;function rn(e,t,n){for(n=n.child;n!==null;)ih(e,t,n),n=n.sibling}function ih(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 5:Le||jr(n,t);case 6:var r=Fe,l=Nt;Fe=null,rn(e,t,n),Fe=r,Nt=l,Fe!==null&&(Nt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Nt?(e=Fe,n=n.stateNode,e.nodeType===8?Ho(e.parentNode,n):e.nodeType===1&&Ho(e,n),Ps(e)):Ho(Fe,n.stateNode));break;case 4:r=Fe,l=Nt,Fe=n.stateNode.containerInfo,Nt=!0,rn(e,t,n),Fe=r,Nt=l;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&$a(n,t,a),l=l.next}while(l!==r)}rn(e,t,n);break;case 1:if(!Le&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){je(n,t,i)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,rn(e,t,n),Le=r):rn(e,t,n);break;default:rn(e,t,n)}}function Nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hg),t.forEach(function(r){var l=Sg.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,Nt=!1;break e;case 3:Fe=i.stateNode.containerInfo,Nt=!0;break e;case 4:Fe=i.stateNode.containerInfo,Nt=!0;break e}i=i.return}if(Fe===null)throw Error(U(160));ih(o,a,l),Fe=null,Nt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){je(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ch(t,e),t=t.sibling}function ch(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),_t(e),r&4){try{ws(3,e,e.return),wo(3,e)}catch(b){je(e,e.return,b)}try{ws(5,e,e.return)}catch(b){je(e,e.return,b)}}break;case 1:wt(t,e),_t(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(wt(t,e),_t(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var l=e.stateNode;try{Ns(l,"")}catch(b){je(e,e.return,b)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&_d(l,o),pa(i,a);var u=pa(i,o);for(a=0;a<c.length;a+=2){var g=c[a],m=c[a+1];g==="style"?Id(l,m):g==="dangerouslySetInnerHTML"?Td(l,m):g==="children"?Ns(l,m):yi(l,g,m,u)}switch(i){case"input":ca(l,o);break;case"textarea":zd(l,o);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Sr(l,!!o.multiple,v,!1):x!==!!o.multiple&&(o.defaultValue!=null?Sr(l,!!o.multiple,o.defaultValue,!0):Sr(l,!!o.multiple,o.multiple?[]:"",!1))}l[Ts]=o}catch(b){je(e,e.return,b)}}break;case 6:if(wt(t,e),_t(e),r&4){if(e.stateNode===null)throw Error(U(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(b){je(e,e.return,b)}}break;case 3:if(wt(t,e),_t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(b){je(e,e.return,b)}break;case 4:wt(t,e),_t(e);break;case 13:wt(t,e),_t(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Zi=Se())),r&4&&Nu(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||g,wt(t,e),Le=u):wt(t,e),_t(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!g&&e.mode&1)for(V=e,g=e.child;g!==null;){for(m=V=g;V!==null;){switch(x=V,v=x.child,x.tag){case 0:case 11:case 14:case 15:ws(4,x,x.return);break;case 1:jr(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){je(r,n,b)}}break;case 5:jr(x,x.return);break;case 22:if(x.memoizedState!==null){Cu(m);continue}}v!==null?(v.return=x,V=v):Cu(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{l=m.stateNode,u?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Fd("display",a))}catch(b){je(e,e.return,b)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){je(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wt(t,e),_t(e),r&4&&Nu(e);break;case 21:break;default:wt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ah(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ns(l,""),r.flags&=-33);var o=Su(e);Wa(e,o,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Su(e);Ba(e,i,a);break;default:throw Error(U(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mg(e,t,n){V=e,uh(e)}function uh(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var l=V,o=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||fl;if(!a){var i=l.alternate,c=i!==null&&i.memoizedState!==null||Le;i=fl;var u=Le;if(fl=a,(Le=c)&&!u)for(V=l;V!==null;)a=V,c=a.child,a.tag===22&&a.memoizedState!==null?Eu(l):c!==null?(c.return=a,V=c):Eu(l);for(;o!==null;)V=o,uh(o),o=o.sibling;V=l,fl=i,Le=u}ku(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,V=o):ku(e)}}function ku(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||wo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cu(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cu(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var g=u.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Ps(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Le||t.flags&512&&Qa(t)}catch(x){je(t,t.return,x)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Cu(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Eu(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(c){je(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){je(t,l,c)}}var o=t.return;try{Qa(t)}catch(c){je(t,o,c)}break;case 5:var a=t.return;try{Qa(t)}catch(c){je(t,a,c)}}}catch(c){je(t,t.return,c)}if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}var gg=Math.ceil,Xl=nn.ReactCurrentDispatcher,Gi=nn.ReactCurrentOwner,pt=nn.ReactCurrentBatchConfig,se=0,ze=null,Ne=null,Ie=0,rt=0,br=Tn(0),Pe=0,Ls=null,rr=0,jo=0,Yi=0,js=null,Ze=null,Zi=0,Vr=1/0,$t=null,eo=!1,Ha=null,Cn=null,hl=!1,wn=null,to=0,bs=0,qa=null,Ml=-1,_l=0;function He(){return se&6?Se():Ml!==-1?Ml:Ml=Se()}function En(e){return e.mode&1?se&2&&Ie!==0?Ie&-Ie:Xm.transition!==null?(_l===0&&(_l=Vd()),_l):(e=ce,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function Et(e,t,n,r){if(50<bs)throw bs=0,qa=null,Error(U(185));Vs(e,n,r),(!(se&2)||e!==ze)&&(e===ze&&(!(se&2)&&(jo|=n),Pe===4&&cn(e,Ie)),tt(e,r),n===1&&se===0&&!(t.mode&1)&&(Vr=Se()+500,xo&&Fn()))}function tt(e,t){var n=e.callbackNode;Xp(e,t);var r=Dl(e,e===ze?Ie:0);if(r===0)n!==null&&Ac(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ac(n),t===1)e.tag===0?Jm(Pu.bind(null,e)):wf(Pu.bind(null,e)),Km(function(){!(se&6)&&Fn()}),n=null;else{switch(Kd(r)){case 1:n=Si;break;case 4:n=Hd;break;case 16:n=Ol;break;case 536870912:n=qd;break;default:n=Ol}n=yh(n,dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dh(e,t){if(Ml=-1,_l=0,se&6)throw Error(U(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Dl(e,e===ze?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=no(e,r);else{t=r;var l=se;se|=2;var o=hh();(ze!==e||Ie!==t)&&($t=null,Vr=Se()+500,Jn(e,t));do try{vg();break}catch(i){fh(e,i)}while(!0);Ai(),Xl.current=o,se=l,Ne!==null?t=0:(ze=null,Ie=0,t=Pe)}if(t!==0){if(t===2&&(l=va(e),l!==0&&(r=l,t=Va(e,l))),t===1)throw n=Ls,Jn(e,0),cn(e,r),tt(e,Se()),n;if(t===6)cn(e,r);else{if(l=e.current.alternate,!(r&30)&&!xg(l)&&(t=no(e,r),t===2&&(o=va(e),o!==0&&(r=o,t=Va(e,o))),t===1))throw n=Ls,Jn(e,0),cn(e,r),tt(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Dn(e,Ze,$t);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Zi+500-Se(),10<t)){if(Dl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ea(Dn.bind(null,e,Ze,$t),t);break}Dn(e,Ze,$t);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-Ct(r);o=1<<a,a=t[a],a>l&&(l=a),r&=~o}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gg(r/1960))-r,10<r){e.timeoutHandle=Ea(Dn.bind(null,e,Ze,$t),r);break}Dn(e,Ze,$t);break;case 5:Dn(e,Ze,$t);break;default:throw Error(U(329))}}}return tt(e,Se()),e.callbackNode===n?dh.bind(null,e):null}function Va(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=no(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Ka(t)),e}function Ka(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function xg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Pt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Yi,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Pu(e){if(se&6)throw Error(U(327));Pr();var t=Dl(e,0);if(!(t&1))return tt(e,Se()),null;var n=no(e,t);if(e.tag!==0&&n===2){var r=va(e);r!==0&&(t=r,n=Va(e,r))}if(n===1)throw n=Ls,Jn(e,0),cn(e,t),tt(e,Se()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Ze,$t),tt(e,Se()),null}function Ji(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Vr=Se()+500,xo&&Fn())}}function sr(e){wn!==null&&wn.tag===0&&!(se&6)&&Pr();var t=se;se|=1;var n=pt.transition,r=ce;try{if(pt.transition=null,ce=1,e)return e()}finally{ce=r,pt.transition=n,se=t,!(se&6)&&Fn()}}function Xi(){rt=br.current,he(br)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vm(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Ti(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:Hr(),he(Xe),he(Ue),Qi();break;case 5:$i(r);break;case 4:Hr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:Oi(r.type._context);break;case 22:case 23:Xi()}n=n.return}if(ze=e,Ne=e=Pn(e.current,null),Ie=rt=t,Pe=0,Ls=null,Yi=jo=rr=0,Ze=js=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,r.next=a}n.pending=r}Un=null}return e}function fh(e,t){do{var n=Ne;try{if(Ai(),Cl.current=Jl,Zl){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Zl=!1}if(nr=0,_e=Ce=ye=null,vs=!1,As=0,Gi.current=null,n===null||n.return===null){Pe=1,Ls=t,Ne=null;break}e:{var o=e,a=n.return,i=n,c=t;if(t=Ie,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,g=i,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=mu(a);if(v!==null){v.flags&=-257,gu(v,a,i,o,t),v.mode&1&&pu(o,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){pu(o,u,t),ec();break e}c=Error(U(426))}}else if(ge&&i.mode&1){var C=mu(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),gu(C,a,i,o,t),Fi(qr(c,i));break e}}o=c=qr(c,i),Pe!==4&&(Pe=2),js===null?js=[o]:js.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=Gf(o,c,t);iu(o,f);break e;case 1:i=c;var d=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Cn===null||!Cn.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=Yf(o,i,t);iu(o,y);break e}}o=o.return}while(o!==null)}mh(n)}catch(E){t=E,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function hh(){var e=Xl.current;return Xl.current=Jl,e===null?Jl:e}function ec(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),ze===null||!(rr&268435455)&&!(jo&268435455)||cn(ze,Ie)}function no(e,t){var n=se;se|=2;var r=hh();(ze!==e||Ie!==t)&&($t=null,Jn(e,t));do try{yg();break}catch(l){fh(e,l)}while(!0);if(Ai(),se=n,Xl.current=r,Ne!==null)throw Error(U(261));return ze=null,Ie=0,Pe}function yg(){for(;Ne!==null;)ph(Ne)}function vg(){for(;Ne!==null&&!Wp();)ph(Ne)}function ph(e){var t=xh(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?mh(e):Ne=t,Gi.current=null}function mh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fg(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Ne=null;return}}else if(n=dg(n,t,rt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Pe===0&&(Pe=5)}function Dn(e,t,n){var r=ce,l=pt.transition;try{pt.transition=null,ce=1,wg(e,t,n,r)}finally{pt.transition=l,ce=r}return null}function wg(e,t,n,r){do Pr();while(wn!==null);if(se&6)throw Error(U(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(em(e,o),e===ze&&(Ne=ze=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,yh(Ol,function(){return Pr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pt.transition,pt.transition=null;var a=ce;ce=1;var i=se;se|=4,Gi.current=null,pg(e,n),ch(n,e),Um(ka),Ll=!!Na,ka=Na=null,e.current=n,mg(n),Hp(),se=i,ce=a,pt.transition=o}else e.current=n;if(hl&&(hl=!1,wn=e,to=l),o=e.pendingLanes,o===0&&(Cn=null),Kp(n.stateNode),tt(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(eo)throw eo=!1,e=Ha,Ha=null,e;return to&1&&e.tag!==0&&Pr(),o=e.pendingLanes,o&1?e===qa?bs++:(bs=0,qa=e):bs=0,Fn(),null}function Pr(){if(wn!==null){var e=Kd(to),t=pt.transition,n=ce;try{if(pt.transition=null,ce=16>e?16:e,wn===null)var r=!1;else{if(e=wn,wn=null,to=0,se&6)throw Error(U(331));var l=se;for(se|=4,V=e.current;V!==null;){var o=V,a=o.child;if(V.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(V=u;V!==null;){var g=V;switch(g.tag){case 0:case 11:case 15:ws(8,g,o)}var m=g.child;if(m!==null)m.return=g,V=m;else for(;V!==null;){g=V;var x=g.sibling,v=g.return;if(oh(g),g===u){V=null;break}if(x!==null){x.return=v,V=x;break}V=v}}}var w=o.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}V=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,V=a;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ws(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,V=f;break e}V=o.return}}var d=e.current;for(V=d;V!==null;){a=V;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,V=h;else e:for(a=d;V!==null;){if(i=V,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:wo(9,i)}}catch(E){je(i,i.return,E)}if(i===a){V=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,V=y;break e}V=i.return}}if(se=l,Fn(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(fo,e)}catch{}r=!0}return r}finally{ce=n,pt.transition=t}}return!1}function Mu(e,t,n){t=qr(n,t),t=Gf(e,t,1),e=kn(e,t,1),t=He(),e!==null&&(Vs(e,1,t),tt(e,t))}function je(e,t,n){if(e.tag===3)Mu(e,e,n);else for(;t!==null;){if(t.tag===3){Mu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){e=qr(n,e),e=Yf(t,e,1),t=kn(t,e,1),e=He(),t!==null&&(Vs(t,1,e),tt(t,e));break}}t=t.return}}function jg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ie&n)===n&&(Pe===4||Pe===3&&(Ie&130023424)===Ie&&500>Se()-Zi?Jn(e,0):Yi|=n),tt(e,t)}function gh(e,t){t===0&&(e.mode&1?(t=rl,rl<<=1,!(rl&130023424)&&(rl=4194304)):t=1);var n=He();e=Xt(e,t),e!==null&&(Vs(e,t,n),tt(e,n))}function bg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gh(e,n)}function Sg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),gh(e,n)}var xh;xh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,ug(e,t,n);Je=!!(e.flags&131072)}else Je=!1,ge&&t.flags&1048576&&jf(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pl(e,t),e=t.pendingProps;var l=Qr(t,Ue.current);Er(t,n),l=Wi(null,t,r,e,l,n);var o=Hi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(o=!0,Wl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Li(t),l.updater=vo,t.stateNode=l,l._reactInternals=t,Fa(t,r,e,n),t=Oa(null,t,r,!0,o,n)):(t.tag=0,ge&&o&&Ri(t),Be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=kg(r),e=jt(r,e),l){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=vu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,jt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Aa(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),vu(e,t,r,l,n);case 3:e:{if(eh(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Ef(e,t),Gl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=qr(Error(U(423)),t),t=wu(e,t,r,n,l);break e}else if(r!==l){l=qr(Error(U(424)),t),t=wu(e,t,r,n,l);break e}else for(st=Nn(t.stateNode.containerInfo.firstChild),lt=t,ge=!0,kt=null,n=kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===l){t=en(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return Pf(t),e===null&&za(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,a=l.children,Ca(r,l)?a=null:o!==null&&Ca(r,o)&&(t.flags|=32),Xf(e,t),Be(e,t,a,n),t.child;case 6:return e===null&&za(t),null;case 13:return th(e,t,n);case 4:return Ui(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),xu(e,t,r,l,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,a=l.value,de(Vl,r._currentValue),r._currentValue=a,o!==null)if(Pt(o.value,a)){if(o.children===l.children&&!Xe.current){t=en(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){a=o.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Gt(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ra(o.return,n,t),i.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(U(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),Ra(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Er(t,n),l=mt(l),r=r(l),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,l=jt(r,t.pendingProps),l=jt(r.type,l),yu(e,t,r,l,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:jt(r,l),Pl(e,t),t.tag=1,et(r)?(e=!0,Wl(t)):e=!1,Er(t,n),Kf(t,r,l),Fa(t,r,l,n),Oa(null,t,r,!0,e,n);case 19:return nh(e,t,n);case 22:return Jf(e,t,n)}throw Error(U(156,t.tag))};function yh(e,t){return Wd(e,t)}function Ng(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new Ng(e,t,n,r)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kg(e){if(typeof e=="function")return tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wi)return 11;if(e===ji)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,l,o){var a=2;if(r=e,typeof e=="function")tc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fr:return Xn(n.children,l,o,t);case vi:a=8,l|=8;break;case sa:return e=ht(12,n,t,l|2),e.elementType=sa,e.lanes=o,e;case la:return e=ht(13,n,t,l),e.elementType=la,e.lanes=o,e;case oa:return e=ht(19,n,t,l),e.elementType=oa,e.lanes=o,e;case Ed:return bo(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kd:a=10;break e;case Cd:a=9;break e;case wi:a=11;break e;case ji:a=14;break e;case ln:a=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=ht(a,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Xn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function bo(e,t,n,r){return e=ht(22,e,r,t),e.elementType=Ed,e.lanes=n,e.stateNode={isHidden:!1},e}function Xo(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function ea(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function nc(e,t,n,r,l,o,a,i,c){return e=new Cg(e,t,n,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(o),e}function Eg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vh(e){if(!e)return zn;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(et(n))return vf(e,n,t)}return t}function wh(e,t,n,r,l,o,a,i,c){return e=nc(n,r,!0,e,l,o,a,i,c),e.context=vh(null),n=e.current,r=He(),l=En(n),o=Gt(r,l),o.callback=t??null,kn(n,o,l),e.current.lanes=l,Vs(e,l,r),tt(e,r),e}function So(e,t,n,r){var l=t.current,o=He(),a=En(l);return n=vh(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(l,t,a),e!==null&&(Et(e,l,a,o),kl(e,l,a)),a}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rc(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function Pg(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function sc(e){this._internalRoot=e}No.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));So(e,t,null,null)};No.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){So(null,e,null,null)}),t[Jt]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Xd(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function Mg(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var u=ro(a);o.call(u)}}var a=wh(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=a,e[Jt]=a.current,zs(e.nodeType===8?e.parentNode:e),sr(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var u=ro(c);i.call(u)}}var c=nc(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=c,e[Jt]=c.current,zs(e.nodeType===8?e.parentNode:e),sr(function(){So(t,c,n,r)}),c}function Co(e,t,n,r,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var i=l;l=function(){var c=ro(a);i.call(c)}}So(t,a,e,l)}else a=Mg(n,t,e,l,r);return ro(a)}Gd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(Ni(t,n|1),tt(t,Se()),!(se&6)&&(Vr=Se()+500,Fn()))}break;case 13:sr(function(){var r=Xt(e,1);if(r!==null){var l=He();Et(r,e,1,l)}}),rc(e,1)}};ki=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=He();Et(t,e,134217728,n)}rc(e,134217728)}};Yd=function(e){if(e.tag===13){var t=En(e),n=Xt(e,t);if(n!==null){var r=He();Et(n,e,t,r)}rc(e,t)}};Zd=function(){return ce};Jd=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};ga=function(e,t,n){switch(t){case"input":if(ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=go(r);if(!l)throw Error(U(90));Md(r),ca(r,l)}}}break;case"textarea":zd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};Dd=Ji;Ld=sr;var _g={usingClientEntryPoint:!1,Events:[Gs,gr,go,Ad,Od,Ji]},is={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zg={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{fo=pl.inject(zg),At=pl}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_g;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(U(200));return Eg(e,t,null,n)};at.createRoot=function(e,t){if(!lc(e))throw Error(U(299));var n=!1,r="",l=jh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=nc(e,1,!1,null,null,n,!1,r,l),e[Jt]=t.current,zs(e.nodeType===8?e.parentNode:e),new sc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return sr(e)};at.hydrate=function(e,t,n){if(!ko(t))throw Error(U(200));return Co(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!lc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",a=jh;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=wh(t,null,e,1,n??null,l,!1,o,a),e[Jt]=t.current,zs(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new No(t)};at.render=function(e,t,n){if(!ko(t))throw Error(U(200));return Co(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!ko(e))throw Error(U(40));return e._reactRootContainer?(sr(function(){Co(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};at.unstable_batchedUpdates=Ji;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ko(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Co(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bh)}catch(e){console.error(e)}}bh(),jd.exports=at;var oc=jd.exports,Sh,Ru=oc;Sh=Ru.createRoot,Ru.hydrateRoot;var es=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rg={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},un,di,Xu,Tg=(Xu=class{constructor(){Y(this,un,Rg);Y(this,di,!1)}setTimeoutProvider(e){W(this,un,e)}setTimeout(e,t){return j(this,un).setTimeout(e,t)}clearTimeout(e){j(this,un).clearTimeout(e)}setInterval(e,t){return j(this,un).setInterval(e,t)}clearInterval(e){j(this,un).clearInterval(e)}},un=new WeakMap,di=new WeakMap,Xu),Qn=new Tg;function Fg(e){setTimeout(e,0)}var lr=typeof window>"u"||"Deno"in globalThis;function We(){}function Ig(e,t){return typeof e=="function"?e(t):e}function Ga(e){return typeof e=="number"&&e>=0&&e!==1/0}function Nh(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mn(e,t){return typeof e=="function"?e(t):e}function ut(e,t){return typeof e=="function"?e(t):e}function Tu(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:o,queryKey:a,stale:i}=e;if(a){if(r){if(t.queryHash!==ac(a,t.options))return!1}else if(!Us(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||l&&l!==t.state.fetchStatus||o&&!o(t))}function Fu(e,t){const{exact:n,status:r,predicate:l,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(or(t.options.mutationKey)!==or(o))return!1}else if(!Us(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function ac(e,t){return((t==null?void 0:t.queryKeyHashFn)||or)(e)}function or(e){return JSON.stringify(e,(t,n)=>Ya(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function Us(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Us(e[n],t[n])):!1}var Ag=Object.prototype.hasOwnProperty;function kh(e,t){if(e===t)return e;const n=Iu(e)&&Iu(t);if(!n&&!(Ya(e)&&Ya(t)))return t;const l=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),a=o.length,i=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const g=n?u:o[u],m=e[g],x=t[g];if(m===x){i[g]=m,(n?u<l:Ag.call(e,g))&&c++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){i[g]=x;continue}const v=kh(m,x);i[g]=v,v===m&&c++}return l===a&&c===l?e:i}function so(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Iu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ya(e){if(!Au(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Au(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Au(e){return Object.prototype.toString.call(e)==="[object Object]"}function Og(e){return new Promise(t=>{Qn.setTimeout(t,e)})}function Za(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?kh(e,t):t}function Dg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Lg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ic=Symbol();function Ch(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ic?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Eh(e,t){return typeof e=="function"?e(...t):!!e}function Ug(e,t,n){let r=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??(l=t()),r||(r=!0,l.aborted?n():l.addEventListener("abort",n,{once:!0})),l)}),e}var Bn,dn,Mr,ed,$g=(ed=class extends es{constructor(){super();Y(this,Bn);Y(this,dn);Y(this,Mr);W(this,Mr,t=>{if(!lr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,dn)||this.setEventListener(j(this,Mr))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,dn))==null||t.call(this),W(this,dn,void 0))}setEventListener(t){var n;W(this,Mr,t),(n=j(this,dn))==null||n.call(this),W(this,dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){j(this,Bn)!==t&&(W(this,Bn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof j(this,Bn)=="boolean"?j(this,Bn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bn=new WeakMap,dn=new WeakMap,Mr=new WeakMap,ed),cc=new $g;function Ja(){let e,t;const n=new Promise((l,o)=>{e=l,t=o});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}var Qg=Fg;function Bg(){let e=[],t=0,n=i=>{i()},r=i=>{i()},l=Qg;const o=i=>{t?e.push(i):l(()=>{n(i)})},a=()=>{const i=e;e=[],i.length&&l(()=>{r(()=>{i.forEach(c=>{n(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||a()}return c},batchCalls:i=>(...c)=>{o(()=>{i(...c)})},schedule:o,setNotifyFunction:i=>{n=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{l=i}}}var Ee=Bg(),_r,fn,zr,td,Wg=(td=class extends es{constructor(){super();Y(this,_r,!0);Y(this,fn);Y(this,zr);W(this,zr,t=>{if(!lr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,fn)||this.setEventListener(j(this,zr))}onUnsubscribe(){var t;this.hasListeners()||((t=j(this,fn))==null||t.call(this),W(this,fn,void 0))}setEventListener(t){var n;W(this,zr,t),(n=j(this,fn))==null||n.call(this),W(this,fn,t(this.setOnline.bind(this)))}setOnline(t){j(this,_r)!==t&&(W(this,_r,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return j(this,_r)}},_r=new WeakMap,fn=new WeakMap,zr=new WeakMap,td),lo=new Wg;function Hg(e){return Math.min(1e3*2**e,3e4)}function Ph(e){return(e??"online")==="online"?lo.isOnline():!0}var Xa=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mh(e){let t=!1,n=0,r;const l=Ja(),o=()=>l.status!=="pending",a=b=>{var C;if(!o()){const f=new Xa(b);x(f),(C=e.onCancel)==null||C.call(e,f)}},i=()=>{t=!0},c=()=>{t=!1},u=()=>cc.isFocused()&&(e.networkMode==="always"||lo.isOnline())&&e.canRun(),g=()=>Ph(e.networkMode)&&e.canRun(),m=b=>{o()||(r==null||r(),l.resolve(b))},x=b=>{o()||(r==null||r(),l.reject(b))},v=()=>new Promise(b=>{var C;r=f=>{(o()||u())&&b(f)},(C=e.onPause)==null||C.call(e)}).then(()=>{var b;r=void 0,o()||(b=e.onContinue)==null||b.call(e)}),w=()=>{if(o())return;let b;const C=n===0?e.initialPromise:void 0;try{b=C??e.fn()}catch(f){b=Promise.reject(f)}Promise.resolve(b).then(m).catch(f=>{var N;if(o())return;const d=e.retry??(lr?0:3),h=e.retryDelay??Hg,y=typeof h=="function"?h(n,f):h,E=d===!0||typeof d=="number"&&n<d||typeof d=="function"&&d(n,f);if(t||!E){x(f);return}n++,(N=e.onFail)==null||N.call(e,n,f),Og(y).then(()=>u()?void 0:v()).then(()=>{t?x(f):w()})})};return{promise:l,status:()=>l.status,cancel:a,continue:()=>(r==null||r(),l),cancelRetry:i,continueRetry:c,canStart:g,start:()=>(g()?w():v().then(w),l)}}var Wn,nd,_h=(nd=class{constructor(){Y(this,Wn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ga(this.gcTime)&&W(this,Wn,Qn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lr?1/0:5*60*1e3))}clearGcTimeout(){j(this,Wn)&&(Qn.clearTimeout(j(this,Wn)),W(this,Wn,void 0))}},Wn=new WeakMap,nd),Hn,Rr,ct,qn,Me,$s,Vn,bt,Ut,rd,qg=(rd=class extends _h{constructor(t){super();Y(this,bt);Y(this,Hn);Y(this,Rr);Y(this,ct);Y(this,qn);Y(this,Me);Y(this,$s);Y(this,Vn);W(this,Vn,!1),W(this,$s,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,qn,t.client),W(this,ct,j(this,qn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,Hn,Du(this.options)),this.state=t.state??j(this,Hn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,Me))==null?void 0:t.promise}setOptions(t){if(this.options={...j(this,$s),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Du(this.options);n.data!==void 0&&(this.setState(Ou(n.data,n.dataUpdatedAt)),W(this,Hn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,ct).remove(this)}setData(t,n){const r=Za(this.state.data,t,this.options);return ee(this,bt,Ut).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ee(this,bt,Ut).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,l;const n=(r=j(this,Me))==null?void 0:r.promise;return(l=j(this,Me))==null||l.cancel(t),n?n.then(We).catch(We):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Hn))}isActive(){return this.observers.some(t=>ut(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ic||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Nh(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Me))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=j(this,Me))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(j(this,Me)&&(j(this,Vn)?j(this,Me).cancel({revert:!0}):j(this,Me).cancelRetry()),this.scheduleGc()),j(this,ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ee(this,bt,Ut).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,g,m,x,v,w,b,C,f,d,h;if(this.state.fetchStatus!=="idle"&&((c=j(this,Me))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,Me))return j(this,Me).continueRetry(),j(this,Me).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(E=>E.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,l=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(W(this,Vn,!0),r.signal)})},o=()=>{const y=Ch(this.options,n),N=(()=>{const R={client:j(this,qn),queryKey:this.queryKey,meta:this.meta};return l(R),R})();return W(this,Vn,!1),this.options.persister?this.options.persister(y,N,this):y(N)},i=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:j(this,qn),state:this.state,fetchFn:o};return l(y),y})();(u=this.options.behavior)==null||u.onFetch(i,this),W(this,Rr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=i.fetchOptions)==null?void 0:g.meta))&&ee(this,bt,Ut).call(this,{type:"fetch",meta:(m=i.fetchOptions)==null?void 0:m.meta}),W(this,Me,Mh({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,onCancel:y=>{y instanceof Xa&&y.revert&&this.setState({...j(this,Rr),fetchStatus:"idle"}),r.abort()},onFail:(y,E)=>{ee(this,bt,Ut).call(this,{type:"failed",failureCount:y,error:E})},onPause:()=>{ee(this,bt,Ut).call(this,{type:"pause"})},onContinue:()=>{ee(this,bt,Ut).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}));try{const y=await j(this,Me).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(v=(x=j(this,ct).config).onSuccess)==null||v.call(x,y,this),(b=(w=j(this,ct).config).onSettled)==null||b.call(w,y,this.state.error,this),y}catch(y){if(y instanceof Xa){if(y.silent)return j(this,Me).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw ee(this,bt,Ut).call(this,{type:"error",error:y}),(f=(C=j(this,ct).config).onError)==null||f.call(C,y,this),(h=(d=j(this,ct).config).onSettled)==null||h.call(d,this.state.data,y,this),y}finally{this.scheduleGc()}}},Hn=new WeakMap,Rr=new WeakMap,ct=new WeakMap,qn=new WeakMap,Me=new WeakMap,$s=new WeakMap,Vn=new WeakMap,bt=new WeakSet,Ut=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zh(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...Ou(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,Rr,t.manual?l:void 0),l;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ee.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,ct).notify({query:this,type:"updated",action:t})})},rd);function zh(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ph(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ou(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Du(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ge,ne,Qs,$e,Kn,Tr,Bt,hn,Bs,Fr,Ir,Gn,Yn,pn,Ar,ie,hs,ei,ti,ni,ri,si,li,oi,Rh,sd,Vg=(sd=class extends es{constructor(t,n){super();Y(this,ie);Y(this,Ge);Y(this,ne);Y(this,Qs);Y(this,$e);Y(this,Kn);Y(this,Tr);Y(this,Bt);Y(this,hn);Y(this,Bs);Y(this,Fr);Y(this,Ir);Y(this,Gn);Y(this,Yn);Y(this,pn);Y(this,Ar,new Set);this.options=n,W(this,Ge,t),W(this,hn,null),W(this,Bt,Ja()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,ne).addObserver(this),Lu(j(this,ne),this.options)?ee(this,ie,hs).call(this):this.updateResult(),ee(this,ie,ri).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ai(j(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ai(j(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ee(this,ie,si).call(this),ee(this,ie,li).call(this),j(this,ne).removeObserver(this)}setOptions(t){const n=this.options,r=j(this,ne);if(this.options=j(this,Ge).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ut(this.options.enabled,j(this,ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ee(this,ie,oi).call(this),j(this,ne).setOptions(this.options),n._defaulted&&!so(this.options,n)&&j(this,Ge).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,ne),observer:this});const l=this.hasListeners();l&&Uu(j(this,ne),r,this.options,n)&&ee(this,ie,hs).call(this),this.updateResult(),l&&(j(this,ne)!==r||ut(this.options.enabled,j(this,ne))!==ut(n.enabled,j(this,ne))||Mn(this.options.staleTime,j(this,ne))!==Mn(n.staleTime,j(this,ne)))&&ee(this,ie,ei).call(this);const o=ee(this,ie,ti).call(this);l&&(j(this,ne)!==r||ut(this.options.enabled,j(this,ne))!==ut(n.enabled,j(this,ne))||o!==j(this,pn))&&ee(this,ie,ni).call(this,o)}getOptimisticResult(t){const n=j(this,Ge).getQueryCache().build(j(this,Ge),t),r=this.createResult(n,t);return Gg(this,r)&&(W(this,$e,r),W(this,Tr,this.options),W(this,Kn,j(this,ne).state)),r}getCurrentResult(){return j(this,$e)}trackResult(t,n){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),n==null||n(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&j(this,Bt).status==="pending"&&j(this,Bt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){j(this,Ar).add(t)}getCurrentQuery(){return j(this,ne)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=j(this,Ge).defaultQueryOptions(t),r=j(this,Ge).getQueryCache().build(j(this,Ge),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ee(this,ie,hs).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,$e)))}createResult(t,n){var P;const r=j(this,ne),l=this.options,o=j(this,$e),a=j(this,Kn),i=j(this,Tr),u=t!==r?t.state:j(this,Qs),{state:g}=t;let m={...g},x=!1,v;if(n._optimisticResults){const _=this.hasListeners(),O=!_&&Lu(t,n),F=_&&Uu(t,r,n,l);(O||F)&&(m={...m,...zh(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:w,errorUpdatedAt:b,status:C}=m;v=m.data;let f=!1;if(n.placeholderData!==void 0&&v===void 0&&C==="pending"){let _;o!=null&&o.isPlaceholderData&&n.placeholderData===(i==null?void 0:i.placeholderData)?(_=o.data,f=!0):_=typeof n.placeholderData=="function"?n.placeholderData((P=j(this,Ir))==null?void 0:P.state.data,j(this,Ir)):n.placeholderData,_!==void 0&&(C="success",v=Za(o==null?void 0:o.data,_,n),x=!0)}if(n.select&&v!==void 0&&!f)if(o&&v===(a==null?void 0:a.data)&&n.select===j(this,Bs))v=j(this,Fr);else try{W(this,Bs,n.select),v=n.select(v),v=Za(o==null?void 0:o.data,v,n),W(this,Fr,v),W(this,hn,null)}catch(_){W(this,hn,_)}j(this,hn)&&(w=j(this,hn),v=j(this,Fr),b=Date.now(),C="error");const d=m.fetchStatus==="fetching",h=C==="pending",y=C==="error",E=h&&d,N=v!==void 0,I={status:C,fetchStatus:m.fetchStatus,isPending:h,isSuccess:C==="success",isError:y,isInitialLoading:E,isLoading:E,data:v,dataUpdatedAt:m.dataUpdatedAt,error:w,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:d,isRefetching:d&&!h,isLoadingError:y&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:y&&N,isStale:uc(t,n),refetch:this.refetch,promise:j(this,Bt),isEnabled:ut(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const _=M=>{I.status==="error"?M.reject(I.error):I.data!==void 0&&M.resolve(I.data)},O=()=>{const M=W(this,Bt,I.promise=Ja());_(M)},F=j(this,Bt);switch(F.status){case"pending":t.queryHash===r.queryHash&&_(F);break;case"fulfilled":(I.status==="error"||I.data!==F.value)&&O();break;case"rejected":(I.status!=="error"||I.error!==F.reason)&&O();break}}return I}updateResult(){const t=j(this,$e),n=this.createResult(j(this,ne),this.options);if(W(this,Kn,j(this,ne).state),W(this,Tr,this.options),j(this,Kn).data!==void 0&&W(this,Ir,j(this,ne)),so(n,t))return;W(this,$e,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!j(this,Ar).size)return!0;const a=new Set(o??j(this,Ar));return this.options.throwOnError&&a.add("error"),Object.keys(j(this,$e)).some(i=>{const c=i;return j(this,$e)[c]!==t[c]&&a.has(c)})};ee(this,ie,Rh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ee(this,ie,ri).call(this)}},Ge=new WeakMap,ne=new WeakMap,Qs=new WeakMap,$e=new WeakMap,Kn=new WeakMap,Tr=new WeakMap,Bt=new WeakMap,hn=new WeakMap,Bs=new WeakMap,Fr=new WeakMap,Ir=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,pn=new WeakMap,Ar=new WeakMap,ie=new WeakSet,hs=function(t){ee(this,ie,oi).call(this);let n=j(this,ne).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(We)),n},ei=function(){ee(this,ie,si).call(this);const t=Mn(this.options.staleTime,j(this,ne));if(lr||j(this,$e).isStale||!Ga(t))return;const r=Nh(j(this,$e).dataUpdatedAt,t)+1;W(this,Gn,Qn.setTimeout(()=>{j(this,$e).isStale||this.updateResult()},r))},ti=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,ne)):this.options.refetchInterval)??!1},ni=function(t){ee(this,ie,li).call(this),W(this,pn,t),!(lr||ut(this.options.enabled,j(this,ne))===!1||!Ga(j(this,pn))||j(this,pn)===0)&&W(this,Yn,Qn.setInterval(()=>{(this.options.refetchIntervalInBackground||cc.isFocused())&&ee(this,ie,hs).call(this)},j(this,pn)))},ri=function(){ee(this,ie,ei).call(this),ee(this,ie,ni).call(this,ee(this,ie,ti).call(this))},si=function(){j(this,Gn)&&(Qn.clearTimeout(j(this,Gn)),W(this,Gn,void 0))},li=function(){j(this,Yn)&&(Qn.clearInterval(j(this,Yn)),W(this,Yn,void 0))},oi=function(){const t=j(this,Ge).getQueryCache().build(j(this,Ge),this.options);if(t===j(this,ne))return;const n=j(this,ne);W(this,ne,t),W(this,Qs,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Rh=function(t){Ee.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(j(this,$e))}),j(this,Ge).getQueryCache().notify({query:j(this,ne),type:"observerResultsUpdated"})})},sd);function Kg(e,t){return ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Lu(e,t){return Kg(e,t)||e.state.data!==void 0&&ai(e,t,t.refetchOnMount)}function ai(e,t,n){if(ut(t.enabled,e)!==!1&&Mn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&uc(e,t)}return!1}function Uu(e,t,n,r){return(e!==t||ut(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&uc(e,n)}function uc(e,t){return ut(t.enabled,e)!==!1&&e.isStaleByTime(Mn(t.staleTime,e))}function Gg(e,t){return!so(e.getCurrentResult(),t)}function $u(e){return{onFetch:(t,n)=>{var g,m,x,v,w;const r=t.options,l=(x=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const C=h=>{Ug(h,()=>t.signal,()=>b=!0)},f=Ch(t.options,t.fetchOptions),d=async(h,y,E)=>{if(b)return Promise.reject();if(y==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:y,direction:E?"backward":"forward",meta:t.options.meta};return C(O),O})(),I=await f(R),{maxPages:P}=t.options,_=E?Lg:Dg;return{pages:_(h.pages,I,P),pageParams:_(h.pageParams,y,P)}};if(l&&o.length){const h=l==="backward",y=h?Yg:Qu,E={pages:o,pageParams:a},N=y(r,E);i=await d(E,N,h)}else{const h=e??o.length;do{const y=c===0?a[0]??r.initialPageParam:Qu(r,i);if(c>0&&y==null)break;i=await d(i,y),c++}while(c<h)}return i};t.options.persister?t.fetchFn=()=>{var b,C;return(C=(b=t.options).persister)==null?void 0:C.call(b,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Qu(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Yg(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ws,Rt,Qe,Zn,Tt,sn,ld,Zg=(ld=class extends _h{constructor(t){super();Y(this,Tt);Y(this,Ws);Y(this,Rt);Y(this,Qe);Y(this,Zn);W(this,Ws,t.client),this.mutationId=t.mutationId,W(this,Qe,t.mutationCache),W(this,Rt,[]),this.state=t.state||Th(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Rt).includes(t)||(j(this,Rt).push(t),this.clearGcTimeout(),j(this,Qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,Rt,j(this,Rt).filter(n=>n!==t)),this.scheduleGc(),j(this,Qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Rt).length||(this.state.status==="pending"?this.scheduleGc():j(this,Qe).remove(this))}continue(){var t;return((t=j(this,Zn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,c,u,g,m,x,v,w,b,C,f,d,h,y,E,N,R,I,P;const n=()=>{ee(this,Tt,sn).call(this,{type:"continue"})},r={client:j(this,Ws),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,Zn,Mh({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(_,O)=>{ee(this,Tt,sn).call(this,{type:"failed",failureCount:_,error:O})},onPause:()=>{ee(this,Tt,sn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Qe).canRun(this)}));const l=this.state.status==="pending",o=!j(this,Zn).canStart();try{if(l)n();else{ee(this,Tt,sn).call(this,{type:"pending",variables:t,isPaused:o}),await((i=(a=j(this,Qe).config).onMutate)==null?void 0:i.call(a,t,this,r));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));O!==this.state.context&&ee(this,Tt,sn).call(this,{type:"pending",context:O,variables:t,isPaused:o})}const _=await j(this,Zn).start();return await((m=(g=j(this,Qe).config).onSuccess)==null?void 0:m.call(g,_,t,this.state.context,this,r)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,_,t,this.state.context,r)),await((b=(w=j(this,Qe).config).onSettled)==null?void 0:b.call(w,_,null,this.state.variables,this.state.context,this,r)),await((f=(C=this.options).onSettled)==null?void 0:f.call(C,_,null,t,this.state.context,r)),ee(this,Tt,sn).call(this,{type:"success",data:_}),_}catch(_){try{await((h=(d=j(this,Qe).config).onError)==null?void 0:h.call(d,_,t,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((E=(y=this.options).onError)==null?void 0:E.call(y,_,t,this.state.context,r))}catch(O){Promise.reject(O)}try{await((R=(N=j(this,Qe).config).onSettled)==null?void 0:R.call(N,void 0,_,this.state.variables,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,_,t,this.state.context,r))}catch(O){Promise.reject(O)}throw ee(this,Tt,sn).call(this,{type:"error",error:_}),_}finally{j(this,Qe).runNext(this)}}},Ws=new WeakMap,Rt=new WeakMap,Qe=new WeakMap,Zn=new WeakMap,Tt=new WeakSet,sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ee.batch(()=>{j(this,Rt).forEach(r=>{r.onMutationUpdate(t)}),j(this,Qe).notify({mutation:this,type:"updated",action:t})})},ld);function Th(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wt,St,Hs,od,Jg=(od=class extends es{constructor(t={}){super();Y(this,Wt);Y(this,St);Y(this,Hs);this.config=t,W(this,Wt,new Set),W(this,St,new Map),W(this,Hs,0)}build(t,n,r){const l=new Zg({client:t,mutationCache:this,mutationId:++Zs(this,Hs)._,options:t.defaultMutationOptions(n),state:r});return this.add(l),l}add(t){j(this,Wt).add(t);const n=ml(t);if(typeof n=="string"){const r=j(this,St).get(n);r?r.push(t):j(this,St).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(j(this,Wt).delete(t)){const n=ml(t);if(typeof n=="string"){const r=j(this,St).get(n);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&j(this,St).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ml(t);if(typeof n=="string"){const r=j(this,St).get(n),l=r==null?void 0:r.find(o=>o.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const n=ml(t);if(typeof n=="string"){const l=(r=j(this,St).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{j(this,Wt).forEach(t=>{this.notify({type:"removed",mutation:t})}),j(this,Wt).clear(),j(this,St).clear()})}getAll(){return Array.from(j(this,Wt))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fu(n,r))}findAll(t={}){return this.getAll().filter(n=>Fu(t,n))}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ee.batch(()=>Promise.all(t.map(n=>n.continue().catch(We))))}},Wt=new WeakMap,St=new WeakMap,Hs=new WeakMap,od);function ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ht,mn,Ye,qt,Yt,Rl,ii,ad,Xg=(ad=class extends es{constructor(n,r){super();Y(this,Yt);Y(this,Ht);Y(this,mn);Y(this,Ye);Y(this,qt);W(this,Ht,n),this.setOptions(r),this.bindMethods(),ee(this,Yt,Rl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=j(this,Ht).defaultMutationOptions(n),so(this.options,r)||j(this,Ht).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,Ye),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&or(r.mutationKey)!==or(this.options.mutationKey)?this.reset():((l=j(this,Ye))==null?void 0:l.state.status)==="pending"&&j(this,Ye).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,Ye))==null||n.removeObserver(this)}onMutationUpdate(n){ee(this,Yt,Rl).call(this),ee(this,Yt,ii).call(this,n)}getCurrentResult(){return j(this,mn)}reset(){var n;(n=j(this,Ye))==null||n.removeObserver(this),W(this,Ye,void 0),ee(this,Yt,Rl).call(this),ee(this,Yt,ii).call(this)}mutate(n,r){var l;return W(this,qt,r),(l=j(this,Ye))==null||l.removeObserver(this),W(this,Ye,j(this,Ht).getMutationCache().build(j(this,Ht),this.options)),j(this,Ye).addObserver(this),j(this,Ye).execute(n)}},Ht=new WeakMap,mn=new WeakMap,Ye=new WeakMap,qt=new WeakMap,Yt=new WeakSet,Rl=function(){var r;const n=((r=j(this,Ye))==null?void 0:r.state)??Th();W(this,mn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ii=function(n){Ee.batch(()=>{var r,l,o,a,i,c,u,g;if(j(this,qt)&&this.hasListeners()){const m=j(this,mn).variables,x=j(this,mn).context,v={client:j(this,Ht),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(l=(r=j(this,qt)).onSuccess)==null||l.call(r,n.data,m,x,v)}catch(w){Promise.reject(w)}try{(a=(o=j(this,qt)).onSettled)==null||a.call(o,n.data,null,m,x,v)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(c=(i=j(this,qt)).onError)==null||c.call(i,n.error,m,x,v)}catch(w){Promise.reject(w)}try{(g=(u=j(this,qt)).onSettled)==null||g.call(u,void 0,n.error,m,x,v)}catch(w){Promise.reject(w)}}}this.listeners.forEach(m=>{m(j(this,mn))})})},ad),Ft,id,ex=(id=class extends es{constructor(t={}){super();Y(this,Ft);this.config=t,W(this,Ft,new Map)}build(t,n,r){const l=n.queryKey,o=n.queryHash??ac(l,n);let a=this.get(o);return a||(a=new qg({client:t,queryKey:l,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(a)),a}add(t){j(this,Ft).has(t.queryHash)||(j(this,Ft).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=j(this,Ft).get(t.queryHash);n&&(t.destroy(),n===t&&j(this,Ft).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ee.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return j(this,Ft).get(t)}getAll(){return[...j(this,Ft).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tu(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Tu(t,r)):n}notify(t){Ee.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ft=new WeakMap,id),we,gn,xn,Or,Dr,yn,Lr,Ur,cd,tx=(cd=class{constructor(e={}){Y(this,we);Y(this,gn);Y(this,xn);Y(this,Or);Y(this,Dr);Y(this,yn);Y(this,Lr);Y(this,Ur);W(this,we,e.queryCache||new ex),W(this,gn,e.mutationCache||new Jg),W(this,xn,e.defaultOptions||{}),W(this,Or,new Map),W(this,Dr,new Map),W(this,yn,0)}mount(){Zs(this,yn)._++,j(this,yn)===1&&(W(this,Lr,cc.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,we).onFocus())})),W(this,Ur,lo.subscribe(async e=>{e&&(await this.resumePausedMutations(),j(this,we).onOnline())})))}unmount(){var e,t;Zs(this,yn)._--,j(this,yn)===0&&((e=j(this,Lr))==null||e.call(this),W(this,Lr,void 0),(t=j(this,Ur))==null||t.call(this),W(this,Ur,void 0))}isFetching(e){return j(this,we).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return j(this,gn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,we).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=j(this,we).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Mn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return j(this,we).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=j(this,we).get(r.queryHash),o=l==null?void 0:l.state.data,a=Ig(t,o);if(a!==void 0)return j(this,we).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ee.batch(()=>j(this,we).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=j(this,we).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=j(this,we);Ee.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=j(this,we);return Ee.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ee.batch(()=>j(this,we).findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(We).catch(We)}invalidateQueries(e,t={}){return Ee.batch(()=>(j(this,we).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ee.batch(()=>j(this,we).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let o=l.fetch(void 0,n);return n.throwOnError||(o=o.catch(We)),l.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(We)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=j(this,we).build(this,t);return n.isStaleByTime(Mn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(We).catch(We)}fetchInfiniteQuery(e){return e.behavior=$u(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(We).catch(We)}ensureInfiniteQueryData(e){return e.behavior=$u(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lo.isOnline()?j(this,gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,we)}getMutationCache(){return j(this,gn)}getDefaultOptions(){return j(this,xn)}setDefaultOptions(e){W(this,xn,e)}setQueryDefaults(e,t){j(this,Or).set(or(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...j(this,Or).values()],n={};return t.forEach(r=>{Us(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){j(this,Dr).set(or(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...j(this,Dr).values()],n={};return t.forEach(r=>{Us(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...j(this,xn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ac(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ic&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...j(this,xn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){j(this,we).clear(),j(this,gn).clear()}},we=new WeakMap,gn=new WeakMap,xn=new WeakMap,Or=new WeakMap,Dr=new WeakMap,yn=new WeakMap,Lr=new WeakMap,Ur=new WeakMap,cd),Fh=p.createContext(void 0),ke=e=>{const t=p.useContext(Fh);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nx=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Fh.Provider,{value:e,children:t})),Ih=p.createContext(!1),rx=()=>p.useContext(Ih);Ih.Provider;function sx(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var lx=p.createContext(sx()),ox=()=>p.useContext(lx),ax=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ix=e=>{p.useEffect(()=>{e.clearReset()},[e])},cx=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||Eh(n,[e.error,r])),ux=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>n(r(...l)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dx=(e,t)=>e.isLoading&&e.isFetching&&!t,fx=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Bu=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hx(e,t,n){var m,x,v,w,b;const r=rx(),l=ox(),o=ke(),a=o.defaultQueryOptions(e);(x=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,a),a._optimisticResults=r?"isRestoring":"optimistic",ux(a),ax(a,l),ix(l);const i=!o.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(o,a)),u=c.getOptimisticResult(a),g=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(C=>{const f=g?c.subscribe(Ee.batchCalls(C)):We;return c.updateResult(),f},[c,g]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a)},[a,c]),fx(a,u))throw Bu(a,c,l);if(cx({result:u,errorResetBoundary:l,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((w=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||w.call(v,a,u),a.experimental_prefetchInRender&&!lr&&dx(u,r)){const C=i?Bu(a,c,l):(b=o.getQueryCache().get(a.queryHash))==null?void 0:b.promise;C==null||C.catch(We).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function xt(e,t){return hx(e,Vg)}function Re(e,t){const n=ke(),[r]=p.useState(()=>new Xg(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const l=p.useSyncExternalStore(p.useCallback(a=>r.subscribe(Ee.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=p.useCallback((a,i)=>{r.mutate(a,i).catch(We)},[r]);if(l.error&&Eh(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}const px="/api";async function le(e,t){const n=await fetch(`${px}${e}`,{...t,headers:{"Content-Type":"application/json",...t==null?void 0:t.headers}});if(!n.ok){const l=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(l.detail||`HTTP ${n.status}`)}const r=await n.text();if(r)return JSON.parse(r)}async function mx(){return le("/projects")}async function gx(e,t,n="manual"){return le("/projects",{method:"POST",body:JSON.stringify({name:e,path:t,spec_method:n})})}async function xx(e){await le(`/projects/${encodeURIComponent(e)}`,{method:"DELETE"})}async function yx(e,t){return le(`/projects/${encodeURIComponent(e)}/settings`,{method:"PATCH",body:JSON.stringify(t)})}async function vx(e){return le(`/projects/${encodeURIComponent(e)}/features`)}async function wx(e,t){return le(`/projects/${encodeURIComponent(e)}/features`,{method:"POST",body:JSON.stringify(t)})}async function jx(e,t){await le(`/projects/${encodeURIComponent(e)}/features/${t}`,{method:"DELETE"})}async function bx(e,t){await le(`/projects/${encodeURIComponent(e)}/features/${t}/skip`,{method:"POST"})}async function Sx(e){return le(`/projects/${encodeURIComponent(e)}/features/reset-in-progress`,{method:"POST"})}async function Nx(e){return le(`/projects/${encodeURIComponent(e)}/agent/status`)}async function dc(e,t=!1){return le(`/projects/${encodeURIComponent(e)}/agent/start`,{method:"POST",body:JSON.stringify({yolo_mode:t})})}async function kx(e){return le(`/projects/${encodeURIComponent(e)}/agent/stop`,{method:"POST"})}async function Cx(e){return le(`/spec/status/${encodeURIComponent(e)}`)}async function Ex(){return le("/setup/status")}async function Px(){return le("/health")}async function Mx(e){const t=e?`?path=${encodeURIComponent(e)}`:"";return le(`/filesystem/list${t}`)}async function _x(e){const t=e.endsWith("/")?e.slice(0,-1):e,n=t.lastIndexOf("/");let r,l;if(n===2&&/^[A-Za-z]:/.test(t))r=t.substring(0,3),l=t.substring(3);else if(n>0)r=t.substring(0,n),l=t.substring(n+1);else if(n===0)r="/",l=t.substring(1);else throw new Error("Invalid path: must be an absolute path");if(!l)throw new Error("Invalid path: directory name is empty");return le("/filesystem/create-directory",{method:"POST",body:JSON.stringify({parent_path:r,name:l})})}async function zx(){return le("/settings/models")}async function Rx(){return le("/settings")}async function Tx(e){return le("/settings",{method:"PATCH",body:JSON.stringify(e)})}async function Fx(){return le("/ai-agents")}async function Ix(e){return le("/ai-agents",{method:"POST",body:JSON.stringify(e)})}async function Ax(e,t){return le(`/ai-agents/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Ox(e){await le(`/ai-agents/${e}`,{method:"DELETE"})}async function Dx(e){return le("/ai-agents/discover-models",{method:"POST",body:JSON.stringify(e)})}async function Lx(e){return le(`/ai-agents/${e}/refresh-models`,{method:"POST"})}async function Ux(){return le("/ai-agents/providers")}async function $x(){return le("/ai-agents/defaults")}async function Qx(e){return le("/ai-agents/defaults",{method:"PUT",body:JSON.stringify(e)})}async function Bx(){return le("/security/status")}async function Wx(e){await le("/security/unlock",{method:"POST",body:JSON.stringify({password:e})})}async function Hx(e,t){return le(`/projects/${encodeURIComponent(e)}/bugs/investigate`,{method:"POST",body:JSON.stringify(t)})}async function qx(e,t,n){return le(`/projects/${encodeURIComponent(e)}/features/expand`,{method:"POST",body:JSON.stringify(t),signal:n})}function Vx(){return xt({queryKey:["projects"],queryFn:mx,refetchInterval:3e3})}function Kx(){const e=ke();return Re({mutationFn:({name:t,path:n,specMethod:r})=>gx(t,n,r),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function Gx(){const e=ke();return Re({mutationFn:t=>xx(t),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]})}})}function Yx(e){const t=ke();return Re({mutationFn:n=>yx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),t.invalidateQueries({queryKey:["project",e]})}})}function Zx(e){return xt({queryKey:["features",e],queryFn:()=>vx(e),enabled:!!e,refetchInterval:5e3})}function Ah(e){const t=ke();return Re({mutationFn:n=>wx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function Jx(e){const t=ke();return Re({mutationFn:n=>jx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function Xx(e){const t=ke();return Re({mutationFn:n=>bx(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function ey(e){const t=ke();return Re({mutationFn:()=>Sx(e),onSuccess:()=>{t.invalidateQueries({queryKey:["features",e]})}})}function Oh(e){return xt({queryKey:["agent-status",e],queryFn:()=>Nx(e),enabled:!!e,refetchInterval:3e3})}function ty(e){const t=ke();return Re({mutationFn:(n=!1)=>dc(e,n),onMutate:async()=>{await t.cancelQueries({queryKey:["agent-status",e]});const n=t.getQueryData(["agent-status",e]);return t.setQueryData(["agent-status",e],r=>({...r,status:"running"})),{previousStatus:n}},onSuccess:n=>{t.setQueryData(["agent-status",e],r=>({...r,status:n.status}))},onError:(n,r,l)=>{l!=null&&l.previousStatus&&t.setQueryData(["agent-status",e],l.previousStatus)},onSettled:()=>{t.invalidateQueries({queryKey:["agent-status",e]})}})}function ny(e){const t=ke();return Re({mutationFn:()=>kx(e),onMutate:async()=>{await t.cancelQueries({queryKey:["agent-status",e]});const n=t.getQueryData(["agent-status",e]);return t.setQueryData(["agent-status",e],r=>({...r,status:"stopped"})),{previousStatus:n}},onSuccess:n=>{t.setQueryData(["agent-status",e],r=>({...r,status:n.status}))},onError:(n,r,l)=>{l!=null&&l.previousStatus&&t.setQueryData(["agent-status",e],l.previousStatus)},onSettled:()=>{t.invalidateQueries({queryKey:["agent-status",e]})}})}function ry(){return xt({queryKey:["setup-status"],queryFn:Ex,staleTime:6e4})}function sy(){return xt({queryKey:["health"],queryFn:Px,retry:!1})}const ly={models:[{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5"}],default:"claude-opus-4-5-20251101"},Dh={yolo_mode:!1,model:"claude-opus-4-5-20251101"};function Lh(){return xt({queryKey:["available-models"],queryFn:zx,staleTime:3e5,retry:1,placeholderData:ly})}function fc(){return xt({queryKey:["settings"],queryFn:Rx,staleTime:6e4,retry:1,placeholderData:Dh})}function oy(){const e=ke();return Re({mutationFn:t=>Tx(t),onMutate:async t=>{await e.cancelQueries({queryKey:["settings"]});const n=e.getQueryData(["settings"]);return e.setQueryData(["settings"],r=>({...Dh,...r,...t})),{previous:n}},onError:(t,n,r)=>{r!=null&&r.previous&&e.setQueryData(["settings"],r.previous)},onSettled:()=>{e.invalidateQueries({queryKey:["settings"]})}})}function ay(e){return Re({mutationFn:t=>Hx(e,{description:t})})}const iy=100;function cy(e){const[t,n]=p.useState({progress:{passing:0,in_progress:0,total:0,percentage:0},agentStatus:"stopped",logs:[],isConnected:!1}),r=p.useRef(null),l=p.useRef(null),o=p.useRef(0),a=p.useCallback(()=>{if(!e)return;const u=window.location.protocol==="https:"?"wss:":"ws:",g=window.location.host,m=`${u}//${g}/ws/projects/${encodeURIComponent(e)}`;try{const x=new WebSocket(m);r.current=x,x.onopen=()=>{n(v=>({...v,isConnected:!0})),o.current=0},x.onmessage=v=>{try{const w=JSON.parse(v.data);switch(w.type){case"progress":n(b=>({...b,progress:{passing:w.passing,in_progress:w.in_progress,total:w.total,percentage:w.percentage}}));break;case"agent_status":n(b=>({...b,agentStatus:w.status}));break;case"log":n(b=>({...b,logs:[...b.logs.slice(-iy+1),{line:w.line,timestamp:w.timestamp}]}));break;case"feature_update":break;case"pong":break}}catch{console.error("Failed to parse WebSocket message")}},x.onclose=()=>{n(w=>({...w,isConnected:!1})),r.current=null;const v=Math.min(1e3*Math.pow(2,o.current),3e4);o.current++,l.current=window.setTimeout(()=>{a()},v)},x.onerror=()=>{x.close()}}catch{}},[e]),i=p.useCallback(()=>{var u;((u=r.current)==null?void 0:u.readyState)===WebSocket.OPEN&&r.current.send(JSON.stringify({type:"ping"}))},[]);p.useEffect(()=>{if(n({progress:{passing:0,in_progress:0,total:0,percentage:0},agentStatus:"stopped",logs:[],isConnected:!1}),!e){r.current&&(r.current.close(),r.current=null);return}a();const u=setInterval(i,3e4);return()=>{clearInterval(u),l.current&&clearTimeout(l.current),r.current&&(r.current.close(),r.current=null)}},[e,a,i]);const c=p.useCallback(()=>{n(u=>({...u,logs:[]}))},[]);return{...t,clearLogs:c}}const uy={started:[523.25,659.25],completed:[523.25,659.25,783.99]};function Wu(e){try{const t=new(window.AudioContext||window.webkitAudioContext),n=uy[e],r=e==="completed"?.15:.12,l=n.length*r;n.forEach((o,a)=>{const i=t.createOscillator(),c=t.createGain();i.connect(c),c.connect(t.destination),i.type="sine",i.frequency.setValueAtTime(o,t.currentTime);const u=t.currentTime+a*r;c.gain.setValueAtTime(0,u),c.gain.linearRampToValueAtTime(.3,u+.02),c.gain.exponentialRampToValueAtTime(.01,u+r),i.start(u),i.stop(u+r)}),setTimeout(()=>{t.close()},l*1e3+100)}catch{}}function dy(e){return{pendingIds:new Set((e==null?void 0:e.pending.map(t=>t.id))??[]),inProgressIds:new Set((e==null?void 0:e.in_progress.map(t=>t.id))??[]),doneIds:new Set((e==null?void 0:e.done.map(t=>t.id))??[])}}function fy(e){const t=p.useRef(null),n=p.useRef(!1);p.useEffect(()=>{if(!e)return;const r=dy(e);if(!n.current){t.current=r,n.current=!0;return}const l=t.current;if(!l){t.current=r;return}for(const o of r.inProgressIds)if(l.pendingIds.has(o)&&!l.inProgressIds.has(o)){Wu("started");break}for(const o of r.doneIds)if(!l.doneIds.has(o)&&(l.inProgressIds.has(o)||l.pendingIds.has(o))){Wu("completed");break}t.current=r},[e])}var hc={};(function e(t,n,r,l){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",i=function(){if(!t.OffscreenCanvas)return!1;try{var k=new OffscreenCanvas(1,1),S=k.getContext("2d");S.fillRect(0,0,1,1);var Q=k.transferToImageBitmap();S.createPattern(Q,"no-repeat")}catch{return!1}return!0}();function c(){}function u(k){var S=n.exports.Promise,Q=S!==void 0?S:t.Promise;return typeof Q=="function"?new Q(k):(k(c,c),null)}var g=function(k,S){return{transform:function(Q){if(k)return Q;if(S.has(Q))return S.get(Q);var G=new OffscreenCanvas(Q.width,Q.height),Z=G.getContext("2d");return Z.drawImage(Q,0,0),S.set(Q,G),G},clear:function(){S.clear()}}}(i,new Map),m=function(){var k=Math.floor(16.666666666666668),S,Q,G={},Z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(S=function(X){var T=Math.random();return G[T]=requestAnimationFrame(function L(B){Z===B||Z+k-1<B?(Z=B,delete G[T],X()):G[T]=requestAnimationFrame(L)}),T},Q=function(X){G[X]&&cancelAnimationFrame(G[X])}):(S=function(X){return setTimeout(X,k)},Q=function(X){return clearTimeout(X)}),{frame:S,cancel:Q}}(),x=function(){var k,S,Q={};function G(Z){function X(T,L){Z.postMessage({options:T||{},callback:L})}Z.init=function(L){var B=L.transferControlToOffscreen();Z.postMessage({canvas:B},[B])},Z.fire=function(L,B,q){if(S)return X(L,null),S;var oe=Math.random().toString(36).slice(2);return S=u(function(ae){function me(Te){Te.data.callback===oe&&(delete Q[oe],Z.removeEventListener("message",me),S=null,g.clear(),q(),ae())}Z.addEventListener("message",me),X(L,oe),Q[oe]=me.bind(null,{data:{callback:oe}})}),S},Z.reset=function(){Z.postMessage({reset:!0});for(var L in Q)Q[L](),delete Q[L]}}return function(){if(k)return k;if(!r&&o){var Z=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([Z])))}catch(X){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",X),null}G(k)}return k}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(k,S){return S?S(k):k}function b(k){return k!=null}function C(k,S,Q){return w(k&&b(k[S])?k[S]:v[S],Q)}function f(k){return k<0?0:Math.floor(k)}function d(k,S){return Math.floor(Math.random()*(S-k))+k}function h(k){return parseInt(k,16)}function y(k){return k.map(E)}function E(k){var S=String(k).replace(/[^0-9a-f]/gi,"");return S.length<6&&(S=S[0]+S[0]+S[1]+S[1]+S[2]+S[2]),{r:h(S.substring(0,2)),g:h(S.substring(2,4)),b:h(S.substring(4,6))}}function N(k){var S=C(k,"origin",Object);return S.x=C(S,"x",Number),S.y=C(S,"y",Number),S}function R(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function I(k){var S=k.getBoundingClientRect();k.width=S.width,k.height=S.height}function P(k){var S=document.createElement("canvas");return S.style.position="fixed",S.style.top="0px",S.style.left="0px",S.style.pointerEvents="none",S.style.zIndex=k,S}function _(k,S,Q,G,Z,X,T,L,B){k.save(),k.translate(S,Q),k.rotate(X),k.scale(G,Z),k.arc(0,0,1,T,L,B),k.restore()}function O(k){var S=k.angle*(Math.PI/180),Q=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-S+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function F(k,S){S.x+=Math.cos(S.angle2D)*S.velocity+S.drift,S.y+=Math.sin(S.angle2D)*S.velocity+S.gravity,S.velocity*=S.decay,S.flat?(S.wobble=0,S.wobbleX=S.x+10*S.scalar,S.wobbleY=S.y+10*S.scalar,S.tiltSin=0,S.tiltCos=0,S.random=1):(S.wobble+=S.wobbleSpeed,S.wobbleX=S.x+10*S.scalar*Math.cos(S.wobble),S.wobbleY=S.y+10*S.scalar*Math.sin(S.wobble),S.tiltAngle+=.1,S.tiltSin=Math.sin(S.tiltAngle),S.tiltCos=Math.cos(S.tiltAngle),S.random=Math.random()+2);var Q=S.tick++/S.totalTicks,G=S.x+S.random*S.tiltCos,Z=S.y+S.random*S.tiltSin,X=S.wobbleX+S.random*S.tiltCos,T=S.wobbleY+S.random*S.tiltSin;if(k.fillStyle="rgba("+S.color.r+", "+S.color.g+", "+S.color.b+", "+(1-Q)+")",k.beginPath(),a&&S.shape.type==="path"&&typeof S.shape.path=="string"&&Array.isArray(S.shape.matrix))k.fill(K(S.shape.path,S.shape.matrix,S.x,S.y,Math.abs(X-G)*.1,Math.abs(T-Z)*.1,Math.PI/10*S.wobble));else if(S.shape.type==="bitmap"){var L=Math.PI/10*S.wobble,B=Math.abs(X-G)*.1,q=Math.abs(T-Z)*.1,oe=S.shape.bitmap.width*S.scalar,ae=S.shape.bitmap.height*S.scalar,me=new DOMMatrix([Math.cos(L)*B,Math.sin(L)*B,-Math.sin(L)*q,Math.cos(L)*q,S.x,S.y]);me.multiplySelf(new DOMMatrix(S.shape.matrix));var Te=k.createPattern(g.transform(S.shape.bitmap),"no-repeat");Te.setTransform(me),k.globalAlpha=1-Q,k.fillStyle=Te,k.fillRect(S.x-oe/2,S.y-ae/2,oe,ae),k.globalAlpha=1}else if(S.shape==="circle")k.ellipse?k.ellipse(S.x,S.y,Math.abs(X-G)*S.ovalScalar,Math.abs(T-Z)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI):_(k,S.x,S.y,Math.abs(X-G)*S.ovalScalar,Math.abs(T-Z)*S.ovalScalar,Math.PI/10*S.wobble,0,2*Math.PI);else if(S.shape==="star")for(var re=Math.PI/2*3,Ke=4*S.scalar,yt=8*S.scalar,vt=S.x,Lt=S.y,In=5,Mt=Math.PI/In;In--;)vt=S.x+Math.cos(re)*yt,Lt=S.y+Math.sin(re)*yt,k.lineTo(vt,Lt),re+=Mt,vt=S.x+Math.cos(re)*Ke,Lt=S.y+Math.sin(re)*Ke,k.lineTo(vt,Lt),re+=Mt;else k.moveTo(Math.floor(S.x),Math.floor(S.y)),k.lineTo(Math.floor(S.wobbleX),Math.floor(Z)),k.lineTo(Math.floor(X),Math.floor(T)),k.lineTo(Math.floor(G),Math.floor(S.wobbleY));return k.closePath(),k.fill(),S.tick<S.totalTicks}function M(k,S,Q,G,Z){var X=S.slice(),T=k.getContext("2d"),L,B,q=u(function(oe){function ae(){L=B=null,T.clearRect(0,0,G.width,G.height),g.clear(),Z(),oe()}function me(){r&&!(G.width===l.width&&G.height===l.height)&&(G.width=k.width=l.width,G.height=k.height=l.height),!G.width&&!G.height&&(Q(k),G.width=k.width,G.height=k.height),T.clearRect(0,0,G.width,G.height),X=X.filter(function(Te){return F(T,Te)}),X.length?L=m.frame(me):ae()}L=m.frame(me),B=ae});return{addFettis:function(oe){return X=X.concat(oe),q},canvas:k,promise:q,reset:function(){L&&m.cancel(L),B&&B()}}}function D(k,S){var Q=!k,G=!!C(S||{},"resize"),Z=!1,X=C(S,"disableForReducedMotion",Boolean),T=o&&!!C(S||{},"useWorker"),L=T?x():null,B=Q?R:I,q=k&&L?!!k.__confetti_initialized:!1,oe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function me(re,Ke,yt){for(var vt=C(re,"particleCount",f),Lt=C(re,"angle",Number),In=C(re,"spread",Number),Mt=C(re,"startVelocity",Number),Xh=C(re,"decay",Number),ep=C(re,"gravity",Number),tp=C(re,"drift",Number),vc=C(re,"colors",y),np=C(re,"ticks",Number),wc=C(re,"shapes"),rp=C(re,"scalar"),sp=!!C(re,"flat"),jc=N(re),bc=vt,Eo=[],lp=k.width*jc.x,op=k.height*jc.y;bc--;)Eo.push(O({x:lp,y:op,angle:Lt,spread:In,startVelocity:Mt,color:vc[bc%vc.length],shape:wc[d(0,wc.length)],ticks:np,decay:Xh,gravity:ep,drift:tp,scalar:rp,flat:sp}));return ae?ae.addFettis(Eo):(ae=M(k,Eo,B,Ke,yt),ae.promise)}function Te(re){var Ke=X||C(re,"disableForReducedMotion",Boolean),yt=C(re,"zIndex",Number);if(Ke&&oe)return u(function(Mt){Mt()});Q&&ae?k=ae.canvas:Q&&!k&&(k=P(yt),document.body.appendChild(k)),G&&!q&&B(k);var vt={width:k.width,height:k.height};L&&!q&&L.init(k),q=!0,L&&(k.__confetti_initialized=!0);function Lt(){if(L){var Mt={getBoundingClientRect:function(){if(!Q)return k.getBoundingClientRect()}};B(Mt),L.postMessage({resize:{width:Mt.width,height:Mt.height}});return}vt.width=vt.height=null}function In(){ae=null,G&&(Z=!1,t.removeEventListener("resize",Lt)),Q&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,q=!1)}return G&&!Z&&(Z=!0,t.addEventListener("resize",Lt,!1)),L?L.fire(re,vt,In):me(re,vt,In)}return Te.reset=function(){L&&L.reset(),ae&&ae.reset()},Te}var $;function H(){return $||($=D(null,{useWorker:!0,resize:!0})),$}function K(k,S,Q,G,Z,X,T){var L=new Path2D(k),B=new Path2D;B.addPath(L,new DOMMatrix(S));var q=new Path2D;return q.addPath(B,new DOMMatrix([Math.cos(T)*Z,Math.sin(T)*Z,-Math.sin(T)*X,Math.cos(T)*X,Q,G])),q}function z(k){if(!a)throw new Error("path confetti are not supported in this browser");var S,Q;typeof k=="string"?S=k:(S=k.path,Q=k.matrix);var G=new Path2D(S),Z=document.createElement("canvas"),X=Z.getContext("2d");if(!Q){for(var T=1e3,L=T,B=T,q=0,oe=0,ae,me,Te=0;Te<T;Te+=2)for(var re=0;re<T;re+=2)X.isPointInPath(G,Te,re,"nonzero")&&(L=Math.min(L,Te),B=Math.min(B,re),q=Math.max(q,Te),oe=Math.max(oe,re));ae=q-L,me=oe-B;var Ke=10,yt=Math.min(Ke/ae,Ke/me);Q=[yt,0,0,yt,-Math.round(ae/2+L)*yt,-Math.round(me/2+B)*yt]}return{type:"path",path:S,matrix:Q}}function A(k){var S,Q=1,G="#000000",Z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?S=k:(S=k.text,Q="scalar"in k?k.scalar:Q,Z="fontFamily"in k?k.fontFamily:Z,G="color"in k?k.color:G);var X=10*Q,T=""+X+"px "+Z,L=new OffscreenCanvas(X,X),B=L.getContext("2d");B.font=T;var q=B.measureText(S),oe=Math.ceil(q.actualBoundingBoxRight+q.actualBoundingBoxLeft),ae=Math.ceil(q.actualBoundingBoxAscent+q.actualBoundingBoxDescent),me=2,Te=q.actualBoundingBoxLeft+me,re=q.actualBoundingBoxAscent+me;oe+=me+me,ae+=me+me,L=new OffscreenCanvas(oe,ae),B=L.getContext("2d"),B.font=T,B.fillStyle=G,B.fillText(S,Te,re);var Ke=1/Q;return{type:"bitmap",bitmap:L.transferToImageBitmap(),matrix:[Ke,0,0,Ke,-oe*Ke/2,-ae*Ke/2]}}n.exports=function(){return H().apply(this,arguments)},n.exports.reset=function(){H().reset()},n.exports.create=D,n.exports.shapeFromPath=z,n.exports.shapeFromText=A})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),hc,!1);const gl=hc.exports;hc.exports.create;function hy(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=[{freq:523.25,start:0},{freq:659.25,start:.15},{freq:783.99,start:.3},{freq:1046.5,start:.45}],n=.25;t.forEach(({freq:a,start:i})=>{const c=e.createOscillator(),u=e.createGain();c.connect(u),u.connect(e.destination),c.type="sine",c.frequency.setValueAtTime(a,e.currentTime+i);const g=e.currentTime+i;u.gain.setValueAtTime(0,g),u.gain.linearRampToValueAtTime(.4,g+.03),u.gain.setValueAtTime(.4,g+n*.6),u.gain.exponentialRampToValueAtTime(.01,g+n),c.start(g),c.stop(g+n)});const r=[523.25,659.25,783.99,1046.5],l=.65,o=.5;r.forEach(a=>{const i=e.createOscillator(),c=e.createGain();i.connect(c),c.connect(e.destination),i.type="sine",i.frequency.setValueAtTime(a,e.currentTime+l);const u=e.currentTime+l;c.gain.setValueAtTime(0,u),c.gain.linearRampToValueAtTime(.2,u+.05),c.gain.setValueAtTime(.2,u+o*.5),c.gain.exponentialRampToValueAtTime(.01,u+o),i.start(u),i.stop(u+o)}),setTimeout(()=>{e.close()},1500)}catch{}}function py(){const t=Date.now()+2e3;gl({particleCount:100,spread:70,origin:{x:0,y:.6},angle:60,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]}),gl({particleCount:100,spread:70,origin:{x:1,y:.6},angle:120,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]});const n=setInterval(()=>{if(Date.now()>t){clearInterval(n);return}gl({particleCount:30,spread:60,origin:{x:0,y:.6},angle:60,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]}),gl({particleCount:30,spread:60,origin:{x:1,y:.6},angle:120,colors:["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dfe6e9"]})},250)}function my(e){return e?e.pending.length===0&&e.in_progress.length===0&&e.done.length>0:!1}function gy(e,t){const n=p.useRef(new Set),r=p.useRef(null);p.useEffect(()=>{if(!e||!t)return;const l=my(e);if(r.current!==t){r.current=t,l&&n.current.add(t);return}l&&!n.current.has(t)&&(n.current.add(t),py(),hy())},[e,t])}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:a,...i},c)=>p.createElement("svg",{ref:c,...yy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Uh("lucide",l),...i},[...a.map(([u,g])=>p.createElement(u,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=p.forwardRef(({className:r,...l},o)=>p.createElement(vy,{ref:o,iconNode:t,className:Uh(`lucide-${xy(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=J("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=J("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=J("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=J("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=J("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=J("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=J("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=J("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=J("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=J("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=J("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=J("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=J("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=J("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=J("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=J("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=J("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function An(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function Qy({projectName:e,onError:t}){const[n,r]=p.useState([]),[l,o]=p.useState(!1),[a,i]=p.useState(!1),[c,u]=p.useState("disconnected"),[g,m]=p.useState(null),[x,v]=p.useState(null),w=p.useRef(null),b=p.useRef(null),C=p.useRef(0),f=3,d=p.useRef(null),h=p.useRef(null),y=p.useRef(!1);p.useEffect(()=>{y.current=a},[a]),p.useEffect(()=>()=>{d.current&&clearInterval(d.current),h.current&&clearTimeout(h.current),w.current&&w.current.close()},[]),p.useEffect(()=>{if(a)return;let _=null;const O=setTimeout(()=>{_=window.setInterval(async()=>{if(y.current){_&&clearInterval(_);return}try{const F=await Cx(e);F.exists&&F.status==="complete"&&(i(!0),o(!1),r(M=>{const D=M[M.length-1];return(D==null?void 0:D.role)==="assistant"&&D.isStreaming?[...M.slice(0,-1),{...D,isStreaming:!1}]:M}),r(M=>[...M,{id:An(),role:"system",content:`Spec creation complete! Files written: ${F.files_written.join(", ")}${F.feature_count?` (${F.feature_count} features)`:""}`,timestamp:new Date}]),_&&clearInterval(_))}catch{}},3e3)},3e3);return()=>{clearTimeout(O),_&&clearInterval(_)}},[e,a]);const E=p.useCallback(()=>{var D;if(((D=w.current)==null?void 0:D.readyState)===WebSocket.OPEN)return;u("connecting");const _=window.location.protocol==="https:"?"wss:":"ws:",O=window.location.host,F=`${_}//${O}/ws/spec-creation/${encodeURIComponent(e)}`,M=new WebSocket(F);w.current=M,M.onopen=()=>{u("connected"),C.current=0,d.current=window.setInterval(()=>{M.readyState===WebSocket.OPEN&&M.send(JSON.stringify({type:"ping"}))},3e4)},M.onclose=()=>{if(u("disconnected"),d.current&&(clearInterval(d.current),d.current=null),C.current<f&&!y.current){C.current++;const $=Math.min(1e3*Math.pow(2,C.current),1e4);h.current=window.setTimeout(E,$)}},M.onerror=()=>{u("error"),t==null||t("WebSocket connection error")},M.onmessage=$=>{try{const H=JSON.parse($.data);switch(H.type){case"text":{r(K=>{const z=K[K.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...K.slice(0,-1),{...z,content:z.content+H.content}]:(b.current=An(),[...K,{id:b.current,role:"assistant",content:H.content,timestamp:new Date,isStreaming:!0}])});break}case"question":{m(H.questions),v(H.tool_id||null),o(!1),r(K=>{const z=K[K.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...K.slice(0,-1),{...z,isStreaming:!1,questions:H.questions}]:K});break}case"spec_complete":{i(!0),o(!1),r(K=>{const z=K[K.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...K.slice(0,-1),{...z,isStreaming:!1}]:K}),r(K=>[...K,{id:An(),role:"system",content:`Specification file created: ${H.path}`,timestamp:new Date}]);break}case"file_written":{r(K=>[...K,{id:An(),role:"system",content:`File created: ${H.path}`,timestamp:new Date}]);break}case"complete":{i(!0),o(!1),r(K=>{const z=K[K.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...K.slice(0,-1),{...z,isStreaming:!1}]:K});break}case"error":{o(!1),t==null||t(H.content),r(K=>[...K,{id:An(),role:"system",content:`Error: ${H.content}`,timestamp:new Date}]);break}case"pong":break;case"response_done":{o(!1),r(K=>{const z=K[K.length-1];return(z==null?void 0:z.role)==="assistant"&&z.isStreaming?[...K.slice(0,-1),{...z,isStreaming:!1}]:K});break}}}catch(H){console.error("Failed to parse WebSocket message:",H)}}},[e,t]),N=p.useCallback(()=>{E();const _=()=>{var O,F;((O=w.current)==null?void 0:O.readyState)===WebSocket.OPEN?(o(!0),w.current.send(JSON.stringify({type:"start"}))):((F=w.current)==null?void 0:F.readyState)===WebSocket.CONNECTING&&setTimeout(_,100)};setTimeout(_,100)},[E]),R=p.useCallback((_,O)=>{if(!w.current||w.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}r(M=>[...M,{id:An(),role:"user",content:_,attachments:O,timestamp:new Date}]),m(null),v(null),o(!0);const F={type:"message",content:_};O&&O.length>0&&(F.attachments=O.map(M=>({filename:M.filename,mimeType:M.mimeType,base64Data:M.base64Data}))),w.current.send(JSON.stringify(F))},[t]),I=p.useCallback(_=>{if(!w.current||w.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}const O=Object.values(_).map(F=>Array.isArray(F)?F.join(", "):F).join("; ");r(F=>[...F,{id:An(),role:"user",content:O,timestamp:new Date}]),m(null),v(null),o(!0),w.current.send(JSON.stringify({type:"answer",answers:_,tool_id:x}))},[x,t]),P=p.useCallback(()=>{C.current=f,d.current&&(clearInterval(d.current),d.current=null),w.current&&(w.current.close(),w.current=null),u("disconnected")},[]);return{messages:n,isLoading:l,isComplete:a,connectionStatus:c,currentQuestions:g,currentToolId:x,start:N,sendMessage:R,sendAnswer:I,disconnect:P}}function xc({message:e}){const{role:t,content:n,attachments:r,timestamp:l,isStreaming:o}=e,a=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c={user:{icon:Uy,bgColor:"bg-[var(--color-neo-pending)]",borderColor:"border-[var(--color-neo-border)]",align:"justify-end",bubbleAlign:"items-end",iconBg:"bg-[var(--color-neo-pending)]"},assistant:{icon:Kr,bgColor:"bg-white",borderColor:"border-[var(--color-neo-border)]",align:"justify-start",bubbleAlign:"items-start",iconBg:"bg-[var(--color-neo-progress)]"},system:{icon:Py,bgColor:"bg-[var(--color-neo-done)]",borderColor:"border-[var(--color-neo-border)]",align:"justify-center",bubbleAlign:"items-center",iconBg:"bg-[var(--color-neo-done)]"}}[t],u=c.icon;return t==="system"?s.jsx("div",{className:`flex ${c.align} px-4 py-2`,children:s.jsx("div",{className:`
            ${c.bgColor}
            border-2 ${c.borderColor}
            px-4 py-2
            text-sm font-mono
            shadow-[2px_2px_0px_rgba(0,0,0,1)]
          `,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(u,{size:14}),n]})})}):s.jsx("div",{className:`flex ${c.align} px-4 py-2`,children:s.jsxs("div",{className:`flex flex-col ${c.bubbleAlign} max-w-[80%] gap-1`,children:[s.jsxs("div",{className:"flex items-start gap-2",children:[t==="assistant"&&s.jsx("div",{className:`
                ${c.iconBg}
                border-2 border-[var(--color-neo-border)]
                p-1.5
                shadow-[2px_2px_0px_rgba(0,0,0,1)]
                flex-shrink-0
              `,children:s.jsx(u,{size:16,className:"text-white"})}),s.jsxs("div",{className:`
              ${c.bgColor}
              border-3 ${c.borderColor}
              px-4 py-3
              shadow-[4px_4px_0px_rgba(0,0,0,1)]
              ${o?"animate-pulse-neo":""}
            `,children:[n&&s.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed text-[#1a1a1a]",children:n.split(`
`).map((g,m)=>{const x=/\*\*(.*?)\*\*/g,v=[];let w=0,b;for(;(b=x.exec(g))!==null;)b.index>w&&v.push(g.slice(w,b.index)),v.push(s.jsx("strong",{className:"font-bold",children:b[1]},`bold-${m}-${b.index}`)),w=b.index+b[0].length;return w<g.length&&v.push(g.slice(w)),s.jsxs("span",{children:[v.length>0?v:g,m<n.split(`
`).length-1&&`
`]},m)})}),r&&r.length>0&&s.jsx("div",{className:`flex flex-wrap gap-2 ${n?"mt-3":""}`,children:r.map(g=>s.jsxs("div",{className:"border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:g.previewUrl,alt:g.filename,className:"max-w-48 max-h-48 object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(g.previewUrl,"_blank"),title:`${g.filename} (click to enlarge)`}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] block mt-1 text-center",children:g.filename})]},g.id))}),o&&s.jsx("span",{className:"inline-block w-2 h-4 bg-[var(--color-neo-accent)] ml-1 animate-pulse"})]}),t==="user"&&s.jsx("div",{className:`
                ${c.iconBg}
                border-2 border-[var(--color-neo-border)]
                p-1.5
                shadow-[2px_2px_0px_rgba(0,0,0,1)]
                flex-shrink-0
              `,children:s.jsx(u,{size:16})})]}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] font-mono px-2",children:a})]})})}function By({questions:e,onSubmit:t,disabled:n=!1}){const[r,l]=p.useState({}),[o,a]=p.useState({}),[i,c]=p.useState({}),u=(b,C,f)=>{const d=String(b);if(C==="Other"){c(h=>({...h,[d]:!0}));return}c(h=>({...h,[d]:!1})),l(h=>{if(f){const y=h[d]||[];return y.includes(C)?{...h,[d]:y.filter(E=>E!==C)}:{...h,[d]:[...y,C]}}else return{...h,[d]:C}})},g=(b,C)=>{const f=String(b);a(d=>({...d,[f]:C})),l(d=>({...d,[f]:C}))},m=()=>{const b={};e.forEach((C,f)=>{const d=String(f);i[d]&&o[d]?b[d]=o[d]:r[d]&&(b[d]=r[d])}),t(b)},x=(b,C,f)=>{const d=String(b),h=r[d];return f?Array.isArray(h)&&h.includes(C):h===C},v=b=>{const C=String(b);return!!(r[C]||i[C]&&o[C])},w=e.every((b,C)=>v(C));return s.jsxs("div",{className:"space-y-6 p-4",children:[e.map((b,C)=>s.jsxs("div",{className:"neo-card p-4 bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"neo-badge bg-[var(--color-neo-accent)] text-white",children:b.header}),s.jsx("span",{className:"font-bold text-[var(--color-neo-text)]",children:b.question}),b.multiSelect&&s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)] font-mono",children:"(select multiple)"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[b.options.map((f,d)=>{const h=x(C,f.label,b.multiSelect);return s.jsx("button",{onClick:()=>u(C,f.label,b.multiSelect),disabled:n,className:`
                    text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    transition-all duration-150
                    ${h?"bg-[var(--color-neo-pending)] shadow-[2px_2px_0px_rgba(0,0,0,1)] translate-x-[1px] translate-y-[1px]":"bg-white shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] hover:shadow-[5px_5px_0px_rgba(0,0,0,1)]"}
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`
                        w-5 h-5 flex-shrink-0 mt-0.5
                        border-2 border-[var(--color-neo-border)]
                        flex items-center justify-center
                        ${b.multiSelect?"":"rounded-full"}
                        ${h?"bg-[var(--color-neo-done)]":"bg-white"}
                      `,children:h&&s.jsx(ci,{size:12,strokeWidth:3})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-[var(--color-neo-text)]",children:f.label}),s.jsx("div",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:f.description})]})]})},d)}),s.jsx("button",{onClick:()=>u(C,"Other",b.multiSelect),disabled:n,className:`
                text-left p-4
                border-3 border-[var(--color-neo-border)]
                transition-all duration-150
                ${i[String(C)]?"bg-[var(--color-neo-pending)] shadow-[2px_2px_0px_rgba(0,0,0,1)] translate-x-[1px] translate-y-[1px]":"bg-white shadow-[4px_4px_0px_rgba(0,0,0,1)] hover:translate-x-[-1px] hover:translate-y-[-1px] hover:shadow-[5px_5px_0px_rgba(0,0,0,1)]"}
                disabled:opacity-50 disabled:cursor-not-allowed
              `,children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`
                    w-5 h-5 flex-shrink-0 mt-0.5
                    border-2 border-[var(--color-neo-border)]
                    flex items-center justify-center
                    ${b.multiSelect?"":"rounded-full"}
                    ${i[String(C)]?"bg-[var(--color-neo-done)]":"bg-white"}
                  `,children:i[String(C)]&&s.jsx(ci,{size:12,strokeWidth:3})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-[var(--color-neo-text)]",children:"Other"}),s.jsx("div",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Provide a custom answer"})]})]})})]}),i[String(C)]&&s.jsx("div",{className:"mt-4",children:s.jsx("input",{type:"text",value:o[String(C)]||"",onChange:f=>g(C,f.target.value),placeholder:"Type your answer...",className:"neo-input",autoFocus:!0,disabled:n})})]},C)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:m,disabled:n||!w,className:"neo-btn neo-btn-primary",children:"Continue"})})]})}function Kh(){return s.jsxs("div",{className:"flex items-center gap-2 p-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{className:"text-sm font-mono animate-shimmer",children:"Claude is thinking..."})]})}const Wy=5*1024*1024,Hy=["image/jpeg","image/png"];function Gh({projectName:e,onComplete:t,onCancel:n,onExitToProject:r,initializerStatus:l="idle",initializerError:o=null,onRetryInitializer:a}){const[i,c]=p.useState(""),[u,g]=p.useState(null),[m,x]=p.useState(!1),[v,w]=p.useState([]),b=p.useRef(null),C=p.useRef(null),f=p.useRef(null),{messages:d,isLoading:h,isComplete:y,connectionStatus:E,currentQuestions:N,start:R,sendMessage:I,sendAnswer:P,disconnect:_}=Qy({projectName:e,onComplete:t,onError:A=>g(A)});p.useEffect(()=>(R(),()=>{_()}),[]),p.useEffect(()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth"})},[d,N,h]),p.useEffect(()=>{!h&&!N&&C.current&&C.current.focus()},[h,N]);const O=()=>{const A=i.trim();if(!(!A&&v.length===0||h)){if(/^\s*\/exit\s*$/i.test(A)){c(""),r();return}I(A,v.length>0?v:void 0),c(""),w([]),C.current&&(C.current.style.height="auto")}},F=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),O())},M=A=>{P(A)},D=p.useCallback(A=>{A&&Array.from(A).forEach(k=>{if(!Hy.includes(k.type)){g(`Invalid file type: ${k.name}. Only JPEG and PNG are supported.`);return}if(k.size>Wy){g(`File too large: ${k.name}. Maximum size is 5 MB.`);return}const S=new FileReader;S.onload=Q=>{var T;const G=(T=Q.target)==null?void 0:T.result,Z=G.split(",")[1],X={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,filename:k.name,mimeType:k.type,base64Data:Z,previewUrl:G,size:k.size};w(L=>[...L,X])},S.readAsDataURL(k)})},[]),$=p.useCallback(A=>{w(k=>k.filter(S=>S.id!==A))},[]),H=p.useCallback(A=>{A.preventDefault(),D(A.dataTransfer.files)},[D]),K=p.useCallback(A=>{A.preventDefault()},[]),z=()=>{switch(E){case"connected":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-done)]",children:[s.jsx(Yr,{size:12}),"Connected"]});case"connecting":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-pending)]",children:[s.jsx(Yr,{size:12,className:"animate-pulse"}),"Connecting..."]});case"error":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-danger)]",children:[s.jsx(Gr,{size:12}),"Error"]});default:return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx(Gr,{size:12}),"Disconnected"]})}};return s.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-neo-bg)]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:["Create Spec: ",e]}),s.jsx(z,{})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[y&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(tn,{size:16}),"Complete"]}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-ghost text-sm py-2",title:"Exit chat and go to project (you can start the agent manually)",children:[s.jsx(qh,{size:16}),"Exit to Project"]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",title:"Cancel",children:s.jsx(pe,{size:20})})]})]}),u&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[var(--color-neo-danger)] text-white border-b-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:16}),s.jsx("span",{className:"flex-1 text-sm",children:u}),s.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-white/20 rounded",children:s.jsx(pe,{size:14})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[d.length===0&&!h&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:s.jsxs("div",{className:"neo-card p-6 max-w-md",children:[s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"Starting Spec Creation"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Connecting to Claude to help you create your app specification..."}),E==="error"&&s.jsxs("button",{onClick:R,className:"neo-btn neo-btn-primary mt-4 text-sm",children:[s.jsx(io,{size:14}),"Retry Connection"]})]})}),d.map(A=>s.jsx(xc,{message:A},A.id)),N&&N.length>0&&s.jsx(By,{questions:N,onSubmit:M,disabled:h}),h&&!N&&s.jsx(Kh,{}),s.jsx("div",{ref:b})]}),!y&&s.jsxs("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-white",onDrop:H,onDragOver:K,children:[v.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map(A=>s.jsxs("div",{className:"relative group border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:A.previewUrl,alt:A.filename,className:"w-16 h-16 object-cover"}),s.jsx("button",{onClick:()=>$(A.id),className:"absolute -top-2 -right-2 bg-[var(--color-neo-danger)] text-white rounded-full p-0.5 border-2 border-[var(--color-neo-border)] hover:scale-110 transition-transform",title:"Remove attachment",children:s.jsx(pe,{size:12})}),s.jsx("span",{className:"text-xs truncate block max-w-16 mt-1 text-center",children:A.filename.length>10?`${A.filename.substring(0,7)}...`:A.filename})]},A.id))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:A=>D(A.target.files),className:"hidden"}),s.jsx("button",{onClick:()=>{var A;return(A=f.current)==null?void 0:A.click()},disabled:E!=="connected",className:"neo-btn neo-btn-ghost p-3",title:"Attach image (JPEG, PNG - max 5MB)",children:s.jsx(ao,{size:18})}),s.jsx("textarea",{ref:C,value:i,onChange:A=>{c(A.target.value),A.target.style.height="auto",A.target.style.height=`${Math.min(A.target.scrollHeight,200)}px`},onKeyDown:F,placeholder:N?"Or type a custom response...":v.length>0?"Add a message with your image(s)...":"Type your response... (or /exit to go to project)",className:"neo-input flex-1 resize-none min-h-[46px] max-h-[200px] overflow-y-auto",disabled:h&&!N||E!=="connected",rows:1}),s.jsx("button",{onClick:O,disabled:!i.trim()&&v.length===0||h&&!N||E!=="connected",className:"neo-btn neo-btn-primary px-6",children:s.jsx(gc,{size:18})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:["Press Enter to send, Shift+Enter for new line. Drag & drop or click ",s.jsx(ao,{size:12,className:"inline"})," to attach images (JPEG/PNG, max 5MB)."]})]}),y&&s.jsx("div",{className:`p-4 border-t-3 border-[var(--color-neo-border)] ${l==="error"?"bg-[var(--color-neo-danger)]":"bg-[var(--color-neo-done)]"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:l==="starting"?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:20,className:"animate-spin"}),s.jsxs("span",{className:"font-bold",children:["Starting agent",m?" (YOLO mode)":"","..."]})]}):l==="error"?s.jsxs(s.Fragment,{children:[s.jsx(nt,{size:20,className:"text-white"}),s.jsx("span",{className:"font-bold text-white",children:o||"Failed to start agent"})]}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:20}),s.jsx("span",{className:"font-bold",children:"Specification created successfully!"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[l==="error"&&a&&s.jsxs("button",{onClick:a,className:"neo-btn bg-white",children:[s.jsx(io,{size:14}),"Retry"]}),l==="idle"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>x(!m),className:`neo-btn text-sm py-2 px-3 ${m?"neo-btn-warning":"bg-white"}`,title:"YOLO Mode: Skip testing for rapid prototyping",children:[s.jsx($y,{size:16,className:m?"text-yellow-900":""}),s.jsx("span",{className:m?"text-yellow-900 font-bold":"",children:"YOLO"})]}),s.jsxs("button",{onClick:()=>t("",m),className:"neo-btn neo-btn-primary",children:["Continue to Project",s.jsx(Qh,{size:16})]})]})]})]})})]})}function qy({onSelect:e,onCancel:t,initialPath:n}){const[r,l]=p.useState(n),[o,a]=p.useState(null),[i,c]=p.useState(!1),[u,g]=p.useState(""),[m,x]=p.useState(null),{data:v,isLoading:w,error:b,refetch:C}=xt({queryKey:["filesystem","list",r],queryFn:()=>Mx(r)});p.useEffect(()=>{v!=null&&v.current_path&&a(v.current_path)},[v==null?void 0:v.current_path]);const f=P=>{l(P),a(P),c(!1),g(""),x(null)},d=()=>{v!=null&&v.parent_path&&f(v.parent_path)},h=P=>{f(`${P.letter}:/`)},y=P=>{P.is_directory&&f(P.path)},E=async()=>{if(!u.trim()){x("Folder name is required");return}if(!/^[a-zA-Z0-9_\-. ]+$/.test(u)){x("Invalid folder name");return}const P=`${v==null?void 0:v.current_path}/${u.trim()}`;try{await _x(P),await C(),f(P)}catch(_){x(_ instanceof Error?_.message:"Failed to create folder")}},N=()=>{o&&e(o)},R=P=>{if(!P)return[];const _=[];if(/^[A-Za-z]:/.test(P)){const M=P.slice(0,2);_.push({name:M,path:`${M}/`}),P=P.slice(3)}else P.startsWith("/")&&(_.push({name:"/",path:"/"}),P=P.slice(1));const O=P.split("/").filter(Boolean);let F=_.length>0?_[0].path:"";for(const M of O)F=F.endsWith("/")?F+M:F+"/"+M,_.push({name:M,path:F});return _},I=v!=null&&v.current_path?R(v.current_path):[];return s.jsxs("div",{className:"flex flex-col h-full max-h-[70vh]",children:[s.jsxs("div",{className:"flex-shrink-0 p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Tl,{size:20,className:"text-[var(--color-neo-progress)]"}),s.jsx("span",{className:"font-bold text-[#1a1a1a]",children:"Select Project Folder"})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-wrap text-sm",children:[(v==null?void 0:v.parent_path)&&s.jsx("button",{onClick:d,className:"neo-btn neo-btn-ghost p-1",title:"Go up",children:s.jsx($h,{size:16})}),I.map((P,_)=>s.jsxs("div",{className:"flex items-center",children:[_>0&&s.jsx(ui,{size:14,className:"text-gray-400 mx-1"}),s.jsx("button",{onClick:()=>f(P.path),className:`
                  px-2 py-1 rounded text-[#1a1a1a]
                  hover:bg-[var(--color-neo-bg)]
                  ${_===I.length-1?"font-bold":""}
                `,children:P.name})]},P.path))]})]}),(v==null?void 0:v.drives)&&v.drives.length>0&&s.jsx("div",{className:"flex-shrink-0 p-3 border-b-3 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm font-medium text-[var(--color-neo-text-secondary)]",children:"Drives:"}),v.drives.map(P=>s.jsxs("button",{onClick:()=>h(P),className:`
                  neo-btn neo-btn-ghost py-1 px-2 text-sm
                  flex items-center gap-1
                  ${r!=null&&r.startsWith(P.letter)?"bg-[var(--color-neo-progress)] text-white":""}
                `,children:[s.jsx(Ey,{size:14}),P.letter,": ",P.label&&`(${P.label})`]},P.letter))]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 bg-white",children:[w?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(ue,{size:24,className:"animate-spin text-[var(--color-neo-progress)]"})}):b?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(nt,{size:32,className:"mx-auto mb-2 text-[var(--color-neo-danger)]"}),s.jsx("p",{className:"text-[var(--color-neo-danger)]",children:b instanceof Error?b.message:"Failed to load directory"}),s.jsx("button",{onClick:()=>C(),className:"neo-btn neo-btn-ghost mt-2",children:"Retry"})]}):s.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[v==null?void 0:v.entries.filter(P=>P.is_directory).map(P=>s.jsxs("button",{onClick:()=>y(P),onDoubleClick:()=>f(P.path),className:`
                    w-full text-left p-2 rounded
                    flex items-center gap-2
                    hover:bg-[var(--color-neo-bg)]
                    border-2 border-transparent
                    text-[var(--color-neo-text)]
                    ${o===P.path?"bg-[var(--color-neo-progress)] bg-opacity-10 border-[var(--color-neo-progress)]":""}
                  `,children:[o===P.path?s.jsx(oo,{size:18,className:"text-[var(--color-neo-progress)] flex-shrink-0"}):s.jsx(Tl,{size:18,className:"text-[var(--color-neo-pending)] flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1 text-[#1a1a1a]",children:P.name}),P.has_children&&s.jsx(ui,{size:14,className:"ml-auto text-gray-400 flex-shrink-0"})]},P.path)),(v==null?void 0:v.entries.filter(P=>P.is_directory).length)===0&&s.jsxs("div",{className:"p-4 text-center text-[var(--color-neo-text-secondary)]",children:[s.jsx(Tl,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No subfolders"}),s.jsx("p",{className:"text-sm",children:"You can create a new folder or select this directory."})]})]}),i&&s.jsxs("div",{className:"mt-2 p-3 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vu,{size:18,className:"text-[var(--color-neo-progress)]"}),s.jsx("input",{type:"text",value:u,onChange:P=>g(P.target.value),placeholder:"New folder name",className:"neo-input flex-1 py-1",autoFocus:!0,onKeyDown:P=>{P.key==="Enter"&&E(),P.key==="Escape"&&(c(!1),g(""),x(null))}}),s.jsx("button",{onClick:E,className:"neo-btn neo-btn-primary py-1 px-3",children:"Create"}),s.jsx("button",{onClick:()=>{c(!1),g(""),x(null)},className:"neo-btn neo-btn-ghost py-1 px-2",children:"Cancel"})]}),m&&s.jsx("p",{className:"text-sm text-[var(--color-neo-danger)] mt-1",children:m})]})]}),s.jsxs("div",{className:"flex-shrink-0 p-4 border-t-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"mb-3 p-2 bg-[var(--color-neo-bg)] rounded border-2 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"text-xs text-[#4a4a4a] mb-1",children:"Selected path:"}),s.jsx("div",{className:"font-mono text-sm truncate text-[#1a1a1a]",children:o||"No folder selected"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>c(!0),className:"neo-btn neo-btn-ghost",disabled:i,children:[s.jsx(Vu,{size:16}),"New Folder"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:N,className:"neo-btn neo-btn-primary",disabled:!o,children:"Select This Folder"})]})]})]})]})}function Yh({isOpen:e,onClose:t,onProjectCreated:n}){const[r,l]=p.useState("name"),[o,a]=p.useState(""),[i,c]=p.useState(null),[u,g]=p.useState(null),[m,x]=p.useState(null),[v,w]=p.useState("idle"),[b,C]=p.useState(null),[f,d]=p.useState(!1),h=Kx();if(!e)return null;const y=D=>{D.preventDefault();const $=o.trim();if(!$){x("Please enter a project name");return}if(!/^[a-zA-Z0-9_-]+$/.test($)){x("Project name can only contain letters, numbers, hyphens, and underscores");return}x(null),l("folder")},E=D=>{const $=D.endsWith("/")?`${D}${o.trim()}`:`${D}/${o.trim()}`;c($),l("method")},N=()=>{l("name")},R=async D=>{if(g(D),!i){x("Please select a project folder first"),l("folder");return}if(D==="manual")try{const $=await h.mutateAsync({name:o.trim(),path:i,specMethod:"manual"});l("complete"),setTimeout(()=>{n($.name),F()},1500)}catch($){x($ instanceof Error?$.message:"Failed to create project")}else try{await h.mutateAsync({name:o.trim(),path:i,specMethod:"claude"}),l("chat")}catch($){x($ instanceof Error?$.message:"Failed to create project")}},I=async(D,$=!1)=>{d($),w("starting");try{await dc(o.trim(),$),l("complete"),setTimeout(()=>{n(o.trim()),F()},1500)}catch(H){w("error"),C(H instanceof Error?H.message:"Failed to start agent")}},P=()=>{C(null),w("idle"),I("",f)},_=()=>{l("method"),g(null)},O=()=>{n(o.trim()),F()},F=()=>{l("name"),a(""),c(null),g(null),x(null),w("idle"),C(null),d(!1),t()},M=()=>{r==="method"?(l("folder"),g(null)):r==="folder"&&(l("name"),c(null))};return r==="chat"?s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(Gh,{projectName:o.trim(),onComplete:I,onCancel:_,onExitToProject:O,initializerStatus:v,initializerError:b,onRetryInitializer:P})}):r==="folder"?s.jsx("div",{className:"neo-modal-backdrop",onClick:F,children:s.jsxs("div",{className:"neo-modal w-full max-w-3xl max-h-[85vh] flex flex-col",onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tl,{size:24,className:"text-[var(--color-neo-progress)]"}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-display font-bold text-xl text-[#1a1a1a]",children:"Select Project Location"}),s.jsxs("p",{className:"text-sm text-[#4a4a4a]",children:["A folder named ",s.jsx("span",{className:"font-bold font-mono",children:o})," will be created inside the selected directory"]})]})]}),s.jsx("button",{onClick:F,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(qy,{onSelect:E,onCancel:N})})]})}):s.jsx("div",{className:"neo-modal-backdrop",onClick:F,children:s.jsxs("div",{className:"neo-modal w-full max-w-lg",onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("h2",{className:"font-display font-bold text-xl text-[#1a1a1a]",children:[r==="name"&&"Create New Project",r==="method"&&"Choose Setup Method",r==="complete"&&"Project Created!"]}),s.jsx("button",{onClick:F,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[r==="name"&&s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block font-bold mb-2 text-[#1a1a1a]",children:"Project Name"}),s.jsx("input",{type:"text",value:o,onChange:D=>a(D.target.value),placeholder:"my-awesome-app",className:"neo-input",pattern:"^[a-zA-Z0-9_\\-]+$",autoFocus:!0}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-2",children:"Use letters, numbers, hyphens, and underscores only."})]}),m&&s.jsx("div",{className:"mb-4 p-3 bg-[var(--color-neo-danger)] text-white text-sm border-2 border-[var(--color-neo-border)]",children:m}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{type:"submit",className:"neo-btn neo-btn-primary",disabled:!o.trim(),children:["Next",s.jsx(Qh,{size:16})]})})]}),r==="method"&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:"How would you like to define your project?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:()=>R("claude"),disabled:h.isPending,className:`
                    w-full text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    bg-white
                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                    hover:translate-x-[-2px] hover:translate-y-[-2px]
                    hover:shadow-[6px_6px_0px_rgba(0,0,0,1)]
                    transition-all duration-150
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-[var(--color-neo-progress)] border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(Kr,{size:24,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-lg text-[#1a1a1a]",children:"Create with Claude"}),s.jsx("span",{className:"neo-badge bg-[var(--color-neo-done)] text-xs",children:"Recommended"})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Interactive conversation to define features and generate your app specification automatically."})]})]})}),s.jsx("button",{onClick:()=>R("manual"),disabled:h.isPending,className:`
                    w-full text-left p-4
                    border-3 border-[var(--color-neo-border)]
                    bg-white
                    shadow-[4px_4px_0px_rgba(0,0,0,1)]
                    hover:translate-x-[-2px] hover:translate-y-[-2px]
                    hover:shadow-[6px_6px_0px_rgba(0,0,0,1)]
                    transition-all duration-150
                    disabled:opacity-50 disabled:cursor-not-allowed
                  `,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 bg-[var(--color-neo-pending)] border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(ky,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-bold text-lg text-[#1a1a1a]",children:"Edit Templates Manually"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Edit the template files directly. Best for developers who want full control."})]})]})})]}),m&&s.jsx("div",{className:"mt-4 p-3 bg-[var(--color-neo-danger)] text-white text-sm border-2 border-[var(--color-neo-border)]",children:m}),h.isPending&&s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-[var(--color-neo-text-secondary)]",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Creating project..."})]}),s.jsx("div",{className:"flex justify-start mt-6",children:s.jsxs("button",{onClick:M,className:"neo-btn neo-btn-ghost",disabled:h.isPending,children:[s.jsx($h,{size:16}),"Back"]})})]}),r==="complete"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[var(--color-neo-done)] border-3 border-[var(--color-neo-border)] shadow-[4px_4px_0px_rgba(0,0,0,1)] mb-4",children:s.jsx(tn,{size:32})}),s.jsx("h3",{className:"font-display font-bold text-xl mb-2",children:o}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"Your project has been created successfully!"}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{className:"text-sm",children:"Redirecting..."})]})]})]})]})})}function Vy({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",variant:o="danger",isLoading:a=!1,onConfirm:i,onCancel:c}){if(!e)return null;const g={danger:{icon:"var(--color-neo-danger)",button:"neo-btn-danger"},warning:{icon:"var(--color-neo-pending)",button:"neo-btn-warning"}}[o];return s.jsx("div",{className:"neo-modal-backdrop",onClick:c,children:s.jsxs("div",{className:"neo-modal w-full max-w-md",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 border-2 border-[var(--color-neo-border)] shadow-[2px_2px_0px_rgba(0,0,0,1)]",style:{backgroundColor:g.icon},children:s.jsx(Dy,{size:20,className:"text-white"})}),s.jsx("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:t})]}),s.jsx("button",{onClick:c,className:"neo-btn neo-btn-ghost p-2",disabled:a,children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:n}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:c,className:"neo-btn",disabled:a,children:l}),s.jsx("button",{onClick:i,className:`neo-btn ${g.button}`,disabled:a,children:a?"Deleting...":r})]})]})]})})}function Ky({projects:e,selectedProject:t,onSelectProject:n,onCurrentProjectDeleted:r,isLoading:l}){const[o,a]=p.useState(!1),[i,c]=p.useState(!1),[u,g]=p.useState(null),m=Gx(),x=f=>{n(f),a(!1)},v=(f,d)=>{f.stopPropagation(),g(d)},w=async()=>{if(!u)return;const f=t===u;try{await m.mutateAsync(u),g(null),f&&(r==null||r())}catch(d){console.error("Failed to delete project:",d),g(null)}},b=()=>{g(null)},C=e.find(f=>f.name===t);return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!o),className:"neo-btn bg-white text-[var(--color-neo-text)] min-w-[200px] justify-between",disabled:l,children:[l?s.jsx(ue,{size:18,className:"animate-spin"}):t?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oo,{size:18}),t]}),C&&C.stats.total>0&&s.jsxs("span",{className:"neo-badge bg-[var(--color-neo-done)] ml-2",children:[C.stats.percentage,"%"]})]}):s.jsx("span",{className:"text-[var(--color-neo-text-secondary)]",children:"Select Project"}),s.jsx(Wh,{size:18,className:`transition-transform ${o?"rotate-180":""}`})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full neo-dropdown z-50 min-w-[280px]",children:[e.length>0?s.jsx("div",{className:"max-h-[300px] overflow-auto",children:e.map(f=>s.jsxs("div",{className:`flex items-center ${f.name===t?"bg-[var(--color-neo-pending)]":""}`,children:[s.jsxs("button",{onClick:()=>{n(f.name),a(!1)},className:"flex-1 neo-dropdown-item flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(oo,{size:16}),f.name]}),f.stats.total>0&&s.jsxs("span",{className:"text-sm font-mono",children:[f.stats.passing,"/",f.stats.total]})]}),s.jsx("button",{onClick:d=>v(d,f.name),className:"p-2 mr-2 text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-danger)] hover:bg-[var(--color-neo-danger)]/10 transition-colors rounded",title:`Delete ${f.name}`,children:s.jsx(ar,{size:16})})]},f.name))}):s.jsx("div",{className:"p-4 text-center text-[var(--color-neo-text-secondary)]",children:"No projects yet"}),s.jsx("div",{className:"border-t-3 border-[var(--color-neo-border)]"}),s.jsxs("button",{onClick:()=>{c(!0),a(!1)},className:"w-full neo-dropdown-item flex items-center gap-2 font-bold",children:[s.jsx(Dt,{size:16}),"New Project"]})]})]}),s.jsx(Yh,{isOpen:i,onClose:()=>c(!1),onProjectCreated:x}),s.jsx(Vy,{isOpen:u!==null,title:"Delete Project",message:`Are you sure you want to remove "${u}" from the registry? This will unregister the project but preserve its files on disk.`,confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:m.isPending,onConfirm:w,onCancel:b})]})}function Gy(e){const t=["#ff006e","#00b4d8","#70e000","#ffd60a","#ff5400","#8338ec","#3a86ff"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]}function Yy({feature:e,onClick:t,isInProgress:n}){const r=Gy(e.category);return s.jsxs("button",{onClick:t,className:`
        w-full text-left neo-card p-4 cursor-pointer
        ${n?"animate-pulse-neo":""}
        ${e.passes?"border-[var(--color-neo-done)]":""}
      `,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsx("span",{className:"neo-badge",style:{backgroundColor:r,color:"white"},children:e.category}),s.jsxs("span",{className:"font-mono text-sm text-[var(--color-neo-text-secondary)]",children:["#",e.priority]})]}),s.jsx("h3",{className:"font-display font-bold mb-1 line-clamp-2",children:e.name}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] line-clamp-2 mb-3",children:e.description}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:n?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:16,className:"animate-spin text-[var(--color-neo-progress)]"}),s.jsx("span",{className:"text-[var(--color-neo-progress)] font-bold",children:"Processing..."})]}):e.passes?s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:16,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-[var(--color-neo-done)] font-bold",children:"Complete"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Hh,{size:16,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"text-[var(--color-neo-text-secondary)]",children:"Pending"})]})})]})}const Ku={pending:"var(--color-neo-pending)",progress:"var(--color-neo-progress)",done:"var(--color-neo-done)"};function ta({title:e,count:t,features:n,color:r,onFeatureClick:l,onAddFeature:o,onReportBug:a,onExpandProject:i,showExpandButton:c,onResetInProgress:u,showResetButton:g}){return s.jsxs("div",{className:"neo-card overflow-hidden flex flex-col h-[90vh]",style:{borderColor:Ku[r]},children:[s.jsx("div",{className:"px-4 py-3 border-b-3 border-[var(--color-neo-border)]",style:{backgroundColor:Ku[r]},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"font-display text-lg font-bold uppercase flex items-center gap-2 text-[var(--color-neo-text)]",children:[e,s.jsx("span",{className:"neo-badge bg-white text-[var(--color-neo-text)]",children:t})]}),(o||a||i||u&&g)&&s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsx("button",{onClick:o,className:"neo-btn neo-btn-primary text-sm py-1.5 px-2",title:"Add new feature (N)",children:s.jsx(Dt,{size:16})}),a&&s.jsx("button",{onClick:a,className:"neo-btn bg-red-500 text-white text-sm py-1.5 px-2",title:"Report a bug (B)",children:s.jsx(Bh,{size:16})}),i&&c&&s.jsx("button",{onClick:i,className:"neo-btn bg-[var(--color-neo-progress)] text-black text-sm py-1.5 px-2",title:"Expand project with AI (E)",children:s.jsx(co,{size:16})}),u&&g&&s.jsx("button",{onClick:u,className:"neo-btn bg-[var(--color-neo-pending)] text-black text-sm py-1.5 px-2",title:"Reset to pending",children:s.jsx(io,{size:16})})]})]})}),s.jsx("div",{className:"p-4 space-y-3 flex-1 min-h-0 overflow-y-auto bg-[var(--color-neo-bg)]",children:n.length===0?s.jsx("div",{className:"text-center py-8 text-[var(--color-neo-text-secondary)]",children:"No features"}):n.map((m,x)=>s.jsx("div",{className:"animate-slide-in",style:{animationDelay:`${x*50}ms`},children:s.jsx(Yy,{feature:m,onClick:()=>l(m),isInProgress:r==="progress"})},m.id))})]})}function Zy({features:e,onFeatureClick:t,onAddFeature:n,onReportBug:r,onExpandProject:l,agentStatus:o,onResetInProgress:a}){const i=e&&e.pending.length+e.in_progress.length+e.done.length>0;return e?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pb-[45px]",children:[s.jsx(ta,{title:"Pending",count:e.pending.length,features:e.pending,color:"pending",onFeatureClick:t,onAddFeature:n,onReportBug:r,onExpandProject:l,showExpandButton:i}),s.jsx(ta,{title:"In Progress",count:e.in_progress.length,features:e.in_progress,color:"progress",onFeatureClick:t,onResetInProgress:a,showResetButton:o==="stopped"&&e.in_progress.length>0}),s.jsx(ta,{title:"Done",count:e.done.length,features:e.done,color:"done",onFeatureClick:t})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["Pending","In Progress","Done"].map(c=>s.jsxs("div",{className:"neo-card p-4",children:[s.jsx("div",{className:"h-8 bg-[var(--color-neo-bg)] animate-pulse mb-4"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>s.jsx("div",{className:"h-24 bg-[var(--color-neo-bg)] animate-pulse"},u))})]},c))})}function Zh({projectName:e,status:t}){const{data:n}=fc(),r=(n==null?void 0:n.yolo_mode)??!1,l=ty(e),o=ny(e),a=l.isPending||o.isPending,i=()=>l.mutate(r),c=()=>o.mutate(),u=t==="stopped"||t==="crashed";return s.jsx("div",{className:"flex items-center",children:u?s.jsx("button",{onClick:i,disabled:a,className:`neo-btn text-sm py-2 px-3 ${r?"neo-btn-yolo":"neo-btn-success"}`,title:r?"Start Agent (YOLO Mode)":"Start Agent","aria-label":r?"Start Agent in YOLO Mode":"Start Agent",children:a?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Ty,{size:18})}):s.jsx("button",{onClick:c,disabled:a,className:`neo-btn text-sm py-2 px-3 ${r?"neo-btn-yolo":"neo-btn-danger"}`,title:r?"Stop Agent (YOLO Mode)":"Stop Agent","aria-label":r?"Stop Agent in YOLO Mode":"Stop Agent",children:a?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Ay,{size:18})})})}function Jy({passing:e,total:t,percentage:n,isConnected:r}){return s.jsxs("div",{className:"neo-card p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-display text-lg font-bold uppercase",children:"Progress"}),s.jsx("div",{className:"flex items-center gap-2",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Yr,{size:14,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-done)]",children:"Live"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{size:14,className:"text-[var(--color-neo-danger)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-danger)]",children:"Offline"})]})})]}),s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("span",{className:"font-display text-5xl font-bold",children:n.toFixed(1)}),s.jsx("span",{className:"font-display text-2xl font-bold text-[var(--color-neo-text-secondary)]",children:"%"})]}),s.jsx("div",{className:"neo-progress mb-2",children:s.jsx("div",{className:"neo-progress-fill",style:{width:`${n}%`}})}),s.jsxs("div",{className:"flex justify-center gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono text-2xl font-bold text-[var(--color-neo-done)]",children:e}),s.jsx("span",{className:"block text-xs text-[var(--color-neo-text-secondary)] uppercase",children:"Passing"})]}),s.jsx("div",{className:"text-3xl text-[var(--color-neo-text-secondary)]",children:"/"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono text-2xl font-bold",children:t}),s.jsx("span",{className:"block text-xs text-[var(--color-neo-text-secondary)] uppercase",children:"Total"})]})]})]})}function Xy({onComplete:e}){const{data:t,isLoading:n,error:r}=ry(),{data:l,error:o}=sy(),a=(l==null?void 0:l.status)==="healthy"&&!o,i=a&&(t==null?void 0:t.claude_cli)&&(t==null?void 0:t.credentials),c=p.useCallback(()=>{i&&e()},[i,e]);return p.useEffect(()=>{c()},[c]),s.jsx("div",{className:"min-h-screen bg-[var(--color-neo-bg)] flex items-center justify-center p-4",children:s.jsxs("div",{className:"neo-card w-full max-w-lg p-8",children:[s.jsx("h1",{className:"font-display text-3xl font-bold text-center mb-2",children:"Setup Wizard"}),s.jsx("p",{className:"text-center text-[var(--color-neo-text-secondary)] mb-8",children:"Let's make sure everything is ready to go"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(xl,{label:"Backend Server",description:"FastAPI server is running",status:o?"error":a?"success":"loading"}),s.jsx(xl,{label:"Claude CLI",description:"Claude Code CLI is installed",status:n?"loading":r?"error":t!=null&&t.claude_cli?"success":"error",helpLink:"https://docs.anthropic.com/claude/claude-code",helpText:"Install Claude Code"}),s.jsx(xl,{label:"Anthropic Credentials",description:"API credentials are configured",status:n?"loading":r?"error":t!=null&&t.credentials?"success":"error",helpLink:"https://console.anthropic.com/account/keys",helpText:"Get API Key"}),s.jsx(xl,{label:"Node.js",description:"Node.js is installed (for UI dev)",status:n?"loading":r?"error":t!=null&&t.node?"success":"warning",helpLink:"https://nodejs.org",helpText:"Install Node.js",optional:!0})]}),i&&s.jsx("button",{onClick:e,className:"neo-btn neo-btn-success w-full mt-8",children:"Continue to Dashboard"}),(o||r)&&s.jsxs("div",{className:"mt-6 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx("p",{className:"font-bold mb-2",children:"Setup Error"}),s.jsx("p",{className:"text-sm",children:o?"Cannot connect to the backend server. Make sure to run start_ui.py first.":"Failed to check setup status."})]})]})})}function xl({label:e,description:t,status:n,helpLink:r,helpText:l,optional:o}){return s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:n==="success"?s.jsx(tn,{size:24,className:"text-[var(--color-neo-done)]"}):n==="error"?s.jsx(qu,{size:24,className:"text-[var(--color-neo-danger)]"}):n==="warning"?s.jsx(qu,{size:24,className:"text-[var(--color-neo-pending)]"}):s.jsx(ue,{size:24,className:"animate-spin text-[var(--color-neo-progress)]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-display font-bold",children:e}),o&&s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"(optional)"})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:t}),(n==="error"||n==="warning")&&r&&s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-sm text-[var(--color-neo-accent)] hover:underline",children:[l," ",s.jsx(qh,{size:12})]})]})]})}function ev({projectName:e,onClose:t}){const n=p.useId(),[r,l]=p.useState(""),[o,a]=p.useState(""),[i,c]=p.useState(""),[u,g]=p.useState(""),[m,x]=p.useState([{id:`${n}-step-0`,value:""}]),[v,w]=p.useState(null),[b,C]=p.useState(1),[f,d]=p.useState(!1),h=p.useRef(null),y=Ah(e),E=async()=>{if(f){h.current&&(h.current.abort(),h.current=null),d(!1);return}if(i.trim()){w(null),d(!0),h.current=new AbortController;try{const O=await qx(e,{description:i},h.current.signal);if(O.success){if(O.name&&a(O.name),O.category&&l(O.category),O.description&&c(O.description),O.steps&&O.steps.length>0){const F=O.steps.map((M,D)=>({id:`${n}-step-${D}`,value:M}));x(F),C(F.length)}}else w(O.error||"AI expansion failed")}catch(O){O instanceof Error&&O.name==="AbortError"||w(O instanceof Error?O.message:"AI expansion failed")}finally{d(!1),h.current=null}}},N=()=>{x([...m,{id:`${n}-step-${b}`,value:""}]),C(b+1)},R=O=>{x(m.filter(F=>F.id!==O))},I=(O,F)=>{x(m.map(M=>M.id===O?{...M,value:F}:M))},P=async O=>{O.preventDefault(),w(null);const F=m.map(M=>M.value.trim()).filter(M=>M.length>0);try{await y.mutateAsync({category:r.trim(),name:o.trim(),description:i.trim(),steps:F,priority:u?parseInt(u,10):void 0}),t()}catch(M){w(M instanceof Error?M.message:"Failed to create feature")}},_=r.trim()&&o.trim()&&i.trim();return s.jsx("div",{className:"neo-modal-backdrop",onClick:t,children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl",onClick:O=>O.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsx("h2",{className:"font-display text-2xl font-bold",children:"Add Feature"}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[v&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:v}),s.jsx("button",{type:"button",onClick:()=>w(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Category"}),s.jsx("input",{type:"text",value:r,onChange:O=>l(O.target.value),placeholder:"e.g., Authentication, UI, API",className:"neo-input",required:!0})]}),s.jsxs("div",{className:"w-32",children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Priority"}),s.jsx("input",{type:"number",value:u,onChange:O=>g(O.target.value),placeholder:"Auto",min:"1",className:"neo-input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Feature Name"}),s.jsx("input",{type:"text",value:o,onChange:O=>a(O.target.value),placeholder:"e.g., User login form",className:"neo-input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Description"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:i,onChange:O=>c(O.target.value),placeholder:"Describe what this feature should do...",className:"neo-input min-h-[100px] resize-y pr-12",required:!0}),s.jsx("button",{type:"button",onClick:E,disabled:!i.trim()&&!f,className:`absolute top-2 right-2 p-1.5 rounded border-2 transition-all ${f?"bg-red-500 border-[var(--color-neo-border)] hover:scale-105 cursor-pointer":i.trim()?"bg-[var(--color-neo-progress)] border-[var(--color-neo-border)] hover:scale-105 cursor-pointer":"bg-gray-200 border-gray-300 opacity-50 cursor-not-allowed"}`,title:f?"Cancel AI expansion":"Expand with AI - fills in name, category, and steps",children:f?s.jsx(Ny,{size:16,className:"text-white"}):s.jsx(co,{size:16})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:["Type a description then click the ",s.jsx(co,{size:12,className:"inline"})," button to auto-fill the form with AI"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Test Steps (Optional)"}),s.jsx("div",{className:"space-y-2",children:m.map((O,F)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"neo-input w-12 text-center flex-shrink-0 flex items-center justify-center",children:F+1}),s.jsx("input",{type:"text",value:O.value,onChange:M=>I(O.id,M.target.value),placeholder:"Describe this step...",className:"neo-input flex-1"}),m.length>1&&s.jsx("button",{type:"button",onClick:()=>R(O.id),className:"neo-btn neo-btn-ghost p-2",children:s.jsx(ar,{size:18})})]},O.id))}),s.jsxs("button",{type:"button",onClick:N,className:"neo-btn neo-btn-ghost mt-2 text-sm",children:[s.jsx(Dt,{size:16}),"Add Step"]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"submit",disabled:!_||y.isPending,className:"neo-btn neo-btn-success flex-1",children:y.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Dt,{size:18}),"Create Feature"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]})]})})}function tv({feature:e,projectName:t,onClose:n}){const[r,l]=p.useState(null),[o,a]=p.useState(!1),i=Xx(t),c=Jx(t),u=async()=>{l(null);try{await i.mutateAsync(e.id),n()}catch(m){l(m instanceof Error?m.message:"Failed to skip feature")}},g=async()=>{l(null);try{await c.mutateAsync(e.id),n()}catch(m){l(m instanceof Error?m.message:"Failed to delete feature")}};return s.jsx("div",{className:"neo-modal-backdrop",onClick:n,children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl p-0",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("div",{children:[s.jsx("span",{className:"neo-badge bg-[var(--color-neo-accent)] text-white mb-2",children:e.category}),s.jsx("h2",{className:"font-display text-2xl font-bold",children:e.name})]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[r&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:r}),s.jsx("button",{onClick:()=>l(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:[e.passes?s.jsxs(s.Fragment,{children:[s.jsx(tn,{size:24,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"font-display font-bold text-[var(--color-neo-done)]",children:"COMPLETE"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Hh,{size:24,className:"text-[var(--color-neo-text-secondary)]"}),s.jsx("span",{className:"font-display font-bold text-[var(--color-neo-text-secondary)]",children:"PENDING"})]}),s.jsxs("span",{className:"ml-auto font-mono text-sm",children:["Priority: #",e.priority]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-display font-bold mb-2 uppercase text-sm",children:"Description"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:e.description})]}),e.steps.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-display font-bold mb-2 uppercase text-sm",children:"Test Steps"}),s.jsx("ol",{className:"list-decimal list-inside space-y-2",children:e.steps.map((m,x)=>s.jsx("li",{className:"p-3 bg-[var(--color-neo-bg)] border-3 border-[var(--color-neo-border)]",children:m},x))})]})]}),!e.passes&&s.jsx("div",{className:"p-6 border-t-3 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:o?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"font-bold text-center",children:"Are you sure you want to delete this feature?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:g,disabled:c.isPending,className:"neo-btn neo-btn-danger flex-1",children:c.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):"Yes, Delete"}),s.jsx("button",{onClick:()=>a(!1),disabled:c.isPending,className:"neo-btn neo-btn-ghost flex-1",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:u,disabled:i.isPending,className:"neo-btn neo-btn-warning flex-1",children:i.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Iy,{size:18}),"Skip (Move to End)"]})}),s.jsx("button",{onClick:()=>a(!0),disabled:i.isPending,className:"neo-btn neo-btn-danger",children:s.jsx(ar,{size:18})})]})})]})})}const Gu=150,Yu=600,nv=288,Zu="debug-panel-height";function rv({logs:e,isOpen:t,onToggle:n,onClear:r,onHeightChange:l}){const o=p.useRef(null),[a,i]=p.useState(!0),[c,u]=p.useState(!1),[g,m]=p.useState(()=>{const h=localStorage.getItem(Zu);return h?Math.min(Math.max(parseInt(h,10),Gu),Yu):nv});p.useEffect(()=>{a&&o.current&&t&&(o.current.scrollTop=o.current.scrollHeight)},[e,a,t]),p.useEffect(()=>{l&&t&&l(g)},[g,t,l]);const x=p.useCallback(h=>{const y=window.innerHeight-h.clientY,E=Math.min(Math.max(y,Gu),Yu);m(E)},[]),v=p.useCallback(()=>{u(!1),localStorage.setItem(Zu,g.toString())},[g]);p.useEffect(()=>(c&&(document.addEventListener("mousemove",x),document.addEventListener("mouseup",v),document.body.style.cursor="ns-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",v),document.body.style.cursor="",document.body.style.userSelect=""}),[c,x,v]);const w=h=>{h.preventDefault(),h.stopPropagation(),u(!0)},b=h=>{const y=h.currentTarget,E=y.scrollHeight-y.scrollTop<=y.clientHeight+50;i(E)},C=h=>{const y=h.toLowerCase();return y.includes("error")||y.includes("exception")||y.includes("traceback")?"error":y.includes("warn")||y.includes("warning")?"warn":y.includes("debug")?"debug":"info"},f=h=>{switch(h){case"error":return"text-red-400";case"warn":return"text-yellow-400";case"debug":return"text-gray-400";case"info":default:return"text-green-400"}},d=h=>{try{return new Date(h).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return""}};return s.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-40 ${c?"":"transition-all duration-200"}`,style:{height:t?g:40},children:[t&&s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 cursor-ns-resize group flex items-center justify-center -translate-y-1/2 z-50",onMouseDown:w,children:s.jsx("div",{className:"w-16 h-1.5 bg-[#333] rounded-full group-hover:bg-[#555] transition-colors flex items-center justify-center",children:s.jsx(Cy,{size:12,className:"text-gray-500 group-hover:text-gray-400"})})}),s.jsxs("div",{className:"flex items-center justify-between h-10 px-4 bg-[#1a1a1a] border-t-3 border-black cursor-pointer",onClick:n,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oy,{size:16,className:"text-green-400"}),s.jsx("span",{className:"font-mono text-sm text-white font-bold",children:"Debug"}),s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-mono bg-[#333] text-gray-500 rounded",title:"Toggle debug panel",children:"D"}),e.length>0&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-mono bg-[#333] text-gray-300 rounded",children:e.length}),!a&&t&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-mono bg-yellow-600 text-white rounded",children:"Paused"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[t&&s.jsx("button",{onClick:h=>{h.stopPropagation(),r()},className:"p-1.5 hover:bg-[#333] rounded transition-colors",title:"Clear logs",children:s.jsx(ar,{size:14,className:"text-gray-400"})}),s.jsx("div",{className:"p-1",children:t?s.jsx(Wh,{size:16,className:"text-gray-400"}):s.jsx(by,{size:16,className:"text-gray-400"})})]})]}),t&&s.jsx("div",{ref:o,onScroll:b,className:"h-[calc(100%-2.5rem)] overflow-y-auto bg-[#1a1a1a] p-2 font-mono text-sm",children:e.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No logs yet. Start the agent to see output."}):s.jsx("div",{className:"space-y-0.5",children:e.map((h,y)=>{const E=C(h.line),N=f(E),R=d(h.timestamp);return s.jsxs("div",{className:"flex gap-2 hover:bg-[#2a2a2a] px-1 py-0.5 rounded",children:[s.jsx("span",{className:"text-gray-500 select-none shrink-0",children:R}),s.jsx("span",{className:`${N} whitespace-pre-wrap break-all`,children:h.line})]},`${h.timestamp}-${y}`)})})})]})}const sv=3e4;function lv(e){const t=e.trim();return/^\[Tool:/.test(t)||/^\s*Input:\s*\{/.test(t)||/^\[(Done|Error)\]/.test(t)||/^\[Error\]/.test(t)||/^Output:/.test(t)||/^[[{]/.test(t)||t.length<15||/^[A-Za-z]:\\/.test(t)||/^\/[a-z]/.test(t)?!1:/^[A-Z]/.test(t)&&t.length>20}function ov(e){for(let t=e.length-1;t>=0;t--)if(lv(e[t].line))return e[t].line.trim();return null}function av({logs:e,agentStatus:t}){const n=p.useMemo(()=>ov(e),[e]),[r,l]=p.useState(null),[o,a]=p.useState(!0),[i,c]=p.useState(!1),u=e.length>0?new Date(e[e.length-1].timestamp).getTime():0,g=p.useMemo(()=>n?t==="running"?!0:t==="paused"?Date.now()-u<sv:!1:!1,[n,t,u]);if(p.useEffect(()=>{if(n!==r&&n){a(!1);const x=setTimeout(()=>{l(n),a(!0)},150);return()=>clearTimeout(x)}},[n,r]),p.useEffect(()=>{if(g)c(!0);else{const x=setTimeout(()=>c(!1),300);return()=>clearTimeout(x)}},[g]),!i||!r)return null;const m=t==="running";return s.jsx("div",{className:`
        transition-all duration-300 ease-out overflow-hidden
        ${g?"opacity-100 max-h-20":"opacity-0 max-h-0"}
      `,children:s.jsxs("div",{className:`
          relative
          bg-[var(--color-neo-card)]
          border-3 border-[var(--color-neo-border)]
          shadow-[var(--shadow-neo-sm)]
          px-4 py-3
          flex items-center gap-3
          transition-all duration-150 ease-out
          hover:translate-x-[-2px] hover:translate-y-[-2px] hover:shadow-[var(--shadow-neo-lg)]
          ${m?"animate-pulse-neo":""}
        `,children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx(wy,{size:22,className:"text-[var(--color-neo-progress)]",strokeWidth:2.5}),m&&s.jsx(co,{size:10,className:"absolute -top-1 -right-1 text-[var(--color-neo-pending)] animate-pulse"})]}),s.jsx("p",{className:`
            font-mono text-sm truncate transition-all duration-150 ease-out
            ${m?"animate-shimmer":"text-[var(--color-neo-text)]"}
          `,style:{opacity:o?1:0,transform:o?"translateY(0)":"translateY(-4px)"},children:r==null?void 0:r.replace(/:$/,"")}),m&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[var(--color-neo-progress)] opacity-50",children:s.jsx("div",{className:"h-full bg-[var(--color-neo-progress)] animate-pulse",style:{width:"100%"}})})]})})}function iv({onClick:e,isOpen:t}){return s.jsx("button",{onClick:e,className:`
        fixed bottom-6 right-6 z-50
        w-14 h-14
        flex items-center justify-center
        bg-[var(--color-neo-progress)] text-white
        border-3 border-[var(--color-neo-border)]
        rounded-full
        shadow-neo-md
        transition-all duration-200
        hover:shadow-neo-lg hover:-translate-y-0.5
        active:shadow-neo-sm active:translate-y-0.5
        ${t?"rotate-0":""}
      `,title:t?"Close Assistant (Press A)":"Open Assistant (Press A)","aria-label":t?"Close Assistant":"Open Assistant",children:t?s.jsx(pe,{size:24}):s.jsx(zy,{size:24})})}function yl(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function cv({projectName:e,onError:t}){const[n,r]=p.useState([]),[l,o]=p.useState(!1),[a,i]=p.useState("disconnected"),[c,u]=p.useState(null),g=p.useRef(null),m=p.useRef(null),x=p.useRef(0),v=3,w=p.useRef(null),b=p.useRef(null),C=p.useRef(null);p.useEffect(()=>()=>{w.current&&clearInterval(w.current),b.current&&clearTimeout(b.current),C.current&&clearTimeout(C.current),g.current&&g.current.close(),m.current=null},[]);const f=p.useCallback(()=>{var _,O;if(((_=g.current)==null?void 0:_.readyState)===WebSocket.OPEN||((O=g.current)==null?void 0:O.readyState)===WebSocket.CONNECTING)return;i("connecting");const N=window.location.protocol==="https:"?"wss:":"ws:",R=window.location.host,I=`${N}//${R}/ws/assistant-chat/${encodeURIComponent(e)}`,P=new WebSocket(I);g.current=P,P.onopen=()=>{i("connected"),x.current=0,w.current=window.setInterval(()=>{P.readyState===WebSocket.OPEN&&P.send(JSON.stringify({type:"ping"}))},3e4)},P.onclose=()=>{if(i("disconnected"),w.current&&(clearInterval(w.current),w.current=null),x.current<v){x.current++;const F=Math.min(1e3*Math.pow(2,x.current),1e4);b.current=window.setTimeout(f,F)}},P.onerror=()=>{i("error"),t==null||t("WebSocket connection error")},P.onmessage=F=>{var M;try{const D=JSON.parse(F.data);switch(D.type){case"text":{r($=>{const H=$[$.length-1];return(H==null?void 0:H.role)==="assistant"&&H.isStreaming?[...$.slice(0,-1),{...H,content:H.content+D.content}]:(m.current=yl(),[...$,{id:m.current,role:"assistant",content:D.content,timestamp:new Date,isStreaming:!0}])});break}case"tool_call":{let $=`Using tool: ${D.tool}`;if(D.tool==="mcp__features__feature_create"){const H=D.input;$=`Creating feature: "${H.name||"New Feature"}" in ${H.category||"General"}`}else if(D.tool==="mcp__features__feature_create_bulk"){const K=((M=D.input.features)==null?void 0:M.length)||0;$=`Creating ${K} feature${K!==1?"s":""}`}else if(D.tool==="mcp__features__feature_skip")$="Skipping feature (moving to end of queue)";else if(D.tool==="mcp__features__feature_get_stats")$="Checking project progress";else if(D.tool==="mcp__features__feature_get_next")$="Getting next pending feature";else if(D.tool==="Read"){const K=D.input.file_path||"";$=`Reading file: ${K.split("/").pop()||K}`}else D.tool==="Glob"?$=`Searching for files: ${D.input.pattern||"..."}`:D.tool==="Grep"&&($=`Searching for: ${D.input.pattern||"..."}`);r(H=>[...H,{id:yl(),role:"system",content:$,timestamp:new Date}]);break}case"conversation_created":{u(D.conversation_id);break}case"response_done":{o(!1),m.current=null,r($=>{const H=$[$.length-1];return(H==null?void 0:H.role)==="assistant"&&H.isStreaming?[...$.slice(0,-1),{...H,isStreaming:!1}]:$});break}case"error":{o(!1),t==null||t(D.content),r($=>[...$,{id:yl(),role:"system",content:`Error: ${D.content}`,timestamp:new Date}]);break}case"pong":break}}catch(D){console.error("Failed to parse WebSocket message:",D)}}},[e,t]),d=p.useCallback(N=>{C.current&&(clearTimeout(C.current),C.current=null),f();const R=()=>{var I,P;if(((I=g.current)==null?void 0:I.readyState)===WebSocket.OPEN){C.current=null,o(!0);const _={type:"start"};N&&(_.conversation_id=N,u(N)),g.current.send(JSON.stringify(_))}else((P=g.current)==null?void 0:P.readyState)===WebSocket.CONNECTING?C.current=window.setTimeout(R,100):C.current=null};C.current=window.setTimeout(R,100)},[f]),h=p.useCallback(N=>{if(!g.current||g.current.readyState!==WebSocket.OPEN){t==null||t("Not connected");return}r(R=>[...R,{id:yl(),role:"user",content:N,timestamp:new Date}]),o(!0),g.current.send(JSON.stringify({type:"message",content:N}))},[t]),y=p.useCallback(()=>{x.current=v,w.current&&(clearInterval(w.current),w.current=null),g.current&&(g.current.close(),g.current=null),i("disconnected")},[]),E=p.useCallback(()=>{r([]),u(null)},[]);return{messages:n,isLoading:l,connectionStatus:a,conversationId:c,start:d,sendMessage:h,disconnect:y,clearMessages:E}}function uv({projectName:e}){const[t,n]=p.useState(""),r=p.useRef(null),l=p.useRef(null),o=p.useRef(!1),a=p.useCallback(w=>{console.error("Assistant error:",w)},[]),{messages:i,isLoading:c,connectionStatus:u,start:g,sendMessage:m}=cv({projectName:e,onError:a});p.useEffect(()=>{var w;(w=r.current)==null||w.scrollIntoView({behavior:"smooth"})},[i]),p.useEffect(()=>{o.current||(o.current=!0,g())},[g]),p.useEffect(()=>{var w;c||(w=l.current)==null||w.focus()},[c]);const x=()=>{const w=t.trim();!w||c||(m(w),n(""))},v=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),x())};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 border-b-2 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:u==="connected"?s.jsxs(s.Fragment,{children:[s.jsx(Yr,{size:14,className:"text-[var(--color-neo-done)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Connected"})]}):u==="connecting"?s.jsxs(s.Fragment,{children:[s.jsx(ue,{size:14,className:"text-[var(--color-neo-progress)] animate-spin"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Connecting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{size:14,className:"text-[var(--color-neo-danger)]"}),s.jsx("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Disconnected"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-[var(--color-neo-bg)]",children:i.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-[var(--color-neo-text-secondary)] text-sm",children:c?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Connecting to assistant..."})]}):s.jsx("span",{children:"Ask me anything about the codebase"})}):s.jsxs("div",{className:"py-4",children:[i.map(w=>s.jsx(xc,{message:w},w.id)),s.jsx("div",{ref:r})]})}),c&&i.length>0&&s.jsx("div",{className:"px-4 py-2 border-t-2 border-[var(--color-neo-border)] bg-[var(--color-neo-bg)]",children:s.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-neo-text-secondary)] text-sm",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[var(--color-neo-progress)] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{children:"Thinking..."})]})}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] p-4 bg-white",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("textarea",{ref:l,value:t,onChange:w=>n(w.target.value),onKeyDown:v,placeholder:"Ask about the codebase...",disabled:c||u!=="connected",className:`\r
              flex-1\r
              neo-input\r
              resize-none\r
              min-h-[44px]\r
              max-h-[120px]\r
              py-2.5\r
            `,rows:1}),s.jsx("button",{onClick:x,disabled:!t.trim()||c||u!=="connected",className:`\r
              neo-btn neo-btn-primary\r
              px-4\r
              disabled:opacity-50 disabled:cursor-not-allowed\r
            `,title:"Send message",children:c?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(gc,{size:18})})]}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}function dv({projectName:e,isOpen:t,onClose:n}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 transition-opacity duration-300",onClick:n,"aria-hidden":"true"}),s.jsxs("div",{className:`
          fixed right-0 top-0 bottom-0 z-50
          w-[400px] max-w-[90vw]
          bg-white
          border-l-4 border-[var(--color-neo-border)]
          shadow-[-8px_0_0px_rgba(0,0,0,1)]
          transform transition-transform duration-300 ease-out
          flex flex-col
          ${t?"translate-x-0":"translate-x-full"}
        `,role:"dialog","aria-label":"Project Assistant","aria-hidden":!t,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b-3 border-[var(--color-neo-border)] bg-[var(--color-neo-progress)]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white border-2 border-[var(--color-neo-border)] p-1.5 shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:s.jsx(Kr,{size:18})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-display font-bold text-white",children:"Project Assistant"}),s.jsx("p",{className:"text-xs text-white/80 font-mono",children:e})]})]}),s.jsx("button",{onClick:n,className:`\r
              neo-btn neo-btn-ghost\r
              p-2\r
              bg-white/20 border-white/40\r
              hover:bg-white/30\r
              text-white\r
            `,title:"Close Assistant (Press A)","aria-label":"Close Assistant",children:s.jsx(pe,{size:18})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:t&&s.jsx(uv,{projectName:e})})]})]})}function vl(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function fv({projectName:e,onComplete:t,onError:n}){const[r,l]=p.useState([]),[o,a]=p.useState(!1),[i,c]=p.useState(!1),[u,g]=p.useState("disconnected"),[m,x]=p.useState(0),[v,w]=p.useState([]),b=p.useRef(null),C=p.useRef(null),f=p.useRef(0),d=3,h=p.useRef(null),y=p.useRef(null),E=p.useRef(!1),N=p.useRef(!1);p.useEffect(()=>{E.current=i},[i]),p.useEffect(()=>()=>{h.current&&clearInterval(h.current),y.current&&clearTimeout(y.current),b.current&&b.current.close()},[]);const R=p.useCallback(()=>{var $;if(N.current||(($=b.current)==null?void 0:$.readyState)===WebSocket.OPEN)return;g("connecting");const O=window.location.protocol==="https:"?"wss:":"ws:",F=window.location.host,M=`${O}//${F}/ws/expand-project/${encodeURIComponent(e)}`,D=new WebSocket(M);b.current=D,D.onopen=()=>{g("connected"),f.current=0,N.current=!1,h.current=window.setInterval(()=>{D.readyState===WebSocket.OPEN&&D.send(JSON.stringify({type:"ping"}))},3e4)},D.onclose=()=>{if(g("disconnected"),h.current&&(clearInterval(h.current),h.current=null),!N.current&&f.current<d&&!E.current){f.current++;const H=Math.min(1e3*Math.pow(2,f.current),1e4);y.current=window.setTimeout(R,H)}},D.onerror=()=>{g("error"),n==null||n("WebSocket connection error")},D.onmessage=H=>{try{const K=JSON.parse(H.data);switch(K.type){case"text":{l(z=>{const A=z[z.length-1];return(A==null?void 0:A.role)==="assistant"&&A.isStreaming?[...z.slice(0,-1),{...A,content:A.content+K.content}]:(C.current=vl(),[...z,{id:C.current,role:"assistant",content:K.content,timestamp:new Date,isStreaming:!0}])});break}case"features_created":{x(z=>z+K.count),w(K.features),l(z=>[...z,{id:vl(),role:"system",content:`Created ${K.count} new feature${K.count!==1?"s":""}!`,timestamp:new Date}]);break}case"expansion_complete":{c(!0),a(!1),l(z=>{const A=z[z.length-1];return(A==null?void 0:A.role)==="assistant"&&A.isStreaming?[...z.slice(0,-1),{...A,isStreaming:!1}]:z}),t==null||t(K.total_added);break}case"error":{a(!1),n==null||n(K.content),l(z=>[...z,{id:vl(),role:"system",content:`Error: ${K.content}`,timestamp:new Date}]);break}case"pong":break;case"response_done":{a(!1),l(z=>{const A=z[z.length-1];return(A==null?void 0:A.role)==="assistant"&&A.isStreaming?[...z.slice(0,-1),{...A,isStreaming:!1}]:z});break}}}catch(K){console.error("Failed to parse WebSocket message:",K)}}},[e,t,n]),I=p.useCallback(()=>{R();let O=0;const F=50,M=()=>{var D,$;((D=b.current)==null?void 0:D.readyState)===WebSocket.OPEN?(a(!0),b.current.send(JSON.stringify({type:"start"}))):(($=b.current)==null?void 0:$.readyState)===WebSocket.CONNECTING&&(O++<F?setTimeout(M,100):(n==null||n("Connection timeout"),a(!1)))};setTimeout(M,100)},[R,n]),P=p.useCallback((O,F)=>{if(!b.current||b.current.readyState!==WebSocket.OPEN){n==null||n("Not connected");return}l(D=>[...D,{id:vl(),role:"user",content:O,attachments:F,timestamp:new Date}]),a(!0);const M={type:"message",content:O};F&&F.length>0&&(M.attachments=F.map(D=>({filename:D.filename,mimeType:D.mimeType,base64Data:D.base64Data}))),b.current.send(JSON.stringify(M))},[n]),_=p.useCallback(()=>{N.current=!0,f.current=d,h.current&&(clearInterval(h.current),h.current=null),y.current&&(clearTimeout(y.current),y.current=null),b.current&&(b.current.close(),b.current=null),g("disconnected")},[]);return{messages:r,isLoading:o,isComplete:i,connectionStatus:u,featuresCreated:m,recentFeatures:v,start:I,sendMessage:P,disconnect:_}}const hv=5*1024*1024,pv=["image/jpeg","image/png"];function mv({projectName:e,onComplete:t,onCancel:n}){const[r,l]=p.useState(""),[o,a]=p.useState(null),[i,c]=p.useState([]),u=p.useRef(null),g=p.useRef(null),m=p.useRef(null),x=p.useCallback(F=>a(F),[]),{messages:v,isLoading:w,isComplete:b,connectionStatus:C,featuresCreated:f,start:d,sendMessage:h,disconnect:y}=fv({projectName:e,onComplete:t,onError:x});p.useEffect(()=>(d(),()=>{y()}),[]),p.useEffect(()=>{var F;(F=u.current)==null||F.scrollIntoView({behavior:"smooth"})},[v,w]),p.useEffect(()=>{!w&&g.current&&g.current.focus()},[w]);const E=()=>{const F=r.trim();!F&&i.length===0||w||(h(F,i.length>0?i:void 0),l(""),c([]))},N=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),E())},R=p.useCallback(F=>{F&&Array.from(F).forEach(M=>{if(!pv.includes(M.type)){a(`Invalid file type: ${M.name}. Only JPEG and PNG are supported.`);return}if(M.size>hv){a(`File too large: ${M.name}. Maximum size is 5 MB.`);return}const D=new FileReader;D.onload=$=>{var A;const H=(A=$.target)==null?void 0:A.result,K=H.split(",")[1],z={id:`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,filename:M.name,mimeType:M.type,base64Data:K,previewUrl:H,size:M.size};c(k=>[...k,z])},D.onerror=()=>{a(`Failed to read file: ${M.name}`)},D.readAsDataURL(M)})},[]),I=p.useCallback(F=>{c(M=>M.filter(D=>D.id!==F))},[]),P=p.useCallback(F=>{F.preventDefault(),R(F.dataTransfer.files)},[R]),_=p.useCallback(F=>{F.preventDefault()},[]),O=()=>{switch(C){case"connected":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-done)]",children:[s.jsx(Yr,{size:12}),"Connected"]});case"connecting":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-pending)]",children:[s.jsx(Yr,{size:12,className:"animate-pulse"}),"Connecting..."]});case"error":return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-danger)]",children:[s.jsx(Gr,{size:12}),"Error"]});default:return s.jsxs("span",{className:"flex items-center gap-1 text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx(Gr,{size:12}),"Disconnected"]})}};return s.jsxs("div",{className:"flex flex-col h-full bg-[var(--color-neo-bg)]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b-3 border-[var(--color-neo-border)] bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h2",{className:"font-display font-bold text-lg text-[#1a1a1a]",children:["Expand Project: ",e]}),s.jsx(O,{}),f>0&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(Dt,{size:14}),f," added"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b&&s.jsxs("span",{className:"flex items-center gap-1 text-sm text-[var(--color-neo-done)] font-bold",children:[s.jsx(tn,{size:16}),"Complete"]}),s.jsx("button",{onClick:n,className:"neo-btn neo-btn-ghost p-2",title:"Close",children:s.jsx(pe,{size:20})})]})]}),o&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[var(--color-neo-danger)] text-white border-b-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:16}),s.jsx("span",{className:"flex-1 text-sm",children:o}),s.jsx("button",{onClick:()=>a(null),className:"p-1 hover:bg-white/20 rounded",children:s.jsx(pe,{size:14})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[v.length===0&&!w&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:s.jsxs("div",{className:"neo-card p-6 max-w-md",children:[s.jsx("h3",{className:"font-display font-bold text-lg mb-2",children:"Starting Project Expansion"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Connecting to Claude to help you add new features to your project..."}),C==="error"&&s.jsxs("button",{onClick:d,className:"neo-btn neo-btn-primary mt-4 text-sm",children:[s.jsx(io,{size:14}),"Retry Connection"]})]})}),v.map(F=>s.jsx(xc,{message:F},F.id)),w&&s.jsx(Kh,{}),s.jsx("div",{ref:u})]}),!b&&s.jsxs("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-white",onDrop:P,onDragOver:_,children:[i.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:i.map(F=>s.jsxs("div",{className:"relative group border-2 border-[var(--color-neo-border)] p-1 bg-white shadow-[2px_2px_0px_rgba(0,0,0,1)]",children:[s.jsx("img",{src:F.previewUrl,alt:F.filename,className:"w-16 h-16 object-cover"}),s.jsx("button",{onClick:()=>I(F.id),className:"absolute -top-2 -right-2 bg-[var(--color-neo-danger)] text-white rounded-full p-0.5 border-2 border-[var(--color-neo-border)] hover:scale-110 transition-transform",title:"Remove attachment",children:s.jsx(pe,{size:12})}),s.jsx("span",{className:"text-xs truncate block max-w-16 mt-1 text-center",children:F.filename.length>10?`${F.filename.substring(0,7)}...`:F.filename})]},F.id))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:F=>R(F.target.files),className:"hidden"}),s.jsx("button",{onClick:()=>{var F;return(F=m.current)==null?void 0:F.click()},disabled:C!=="connected",className:"neo-btn neo-btn-ghost p-3",title:"Attach image (JPEG, PNG - max 5MB)",children:s.jsx(ao,{size:18})}),s.jsx("input",{ref:g,type:"text",value:r,onChange:F=>l(F.target.value),onKeyDown:N,placeholder:i.length>0?"Add a message with your image(s)...":"Describe the features you want to add...",className:"neo-input flex-1",disabled:w||C!=="connected"}),s.jsx("button",{onClick:E,disabled:!r.trim()&&i.length===0||w||C!=="connected",className:"neo-btn neo-btn-primary px-6",children:s.jsx(gc,{size:18})})]}),s.jsxs("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:["Press Enter to send. Drag & drop or click ",s.jsx(ao,{size:12,className:"inline"})," to attach images."]})]}),b&&s.jsx("div",{className:"p-4 border-t-3 border-[var(--color-neo-border)] bg-[var(--color-neo-done)]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{size:20}),s.jsxs("span",{className:"font-bold",children:["Added ",f," new feature",f!==1?"s":"","!"]})]}),s.jsx("button",{onClick:()=>t(f),className:"neo-btn bg-white",children:"Close"})]})})]})}function gv({isOpen:e,projectName:t,onClose:n,onFeaturesAdded:r}){if(!e)return null;const l=o=>{o>0&&r(),n()};return s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(mv,{projectName:t,onComplete:l,onCancel:n})})}const be={all:["ai-agents"],lists:()=>[...be.all,"list"],list:()=>[...be.lists()],enabled:()=>[...be.all,"enabled"],details:()=>[...be.all,"detail"],detail:e=>[...be.details(),e],providers:()=>[...be.all,"providers"],defaults:()=>[...be.all,"defaults"]},yc={all:["security"],status:()=>[...yc.all,"status"]};function xv(){return xt({queryKey:be.list(),queryFn:Fx})}function yv(){return xt({queryKey:be.providers(),queryFn:Ux,staleTime:1/0})}function vv(){return xt({queryKey:be.defaults(),queryFn:$x})}function wv(){const e=ke();return Re({mutationFn:t=>Ix(t),onSuccess:()=>{e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function jv(){const e=ke();return Re({mutationFn:({id:t,config:n})=>Ax(t,n),onSuccess:t=>{e.setQueryData(be.detail(t.id),t),e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function bv(){const e=ke();return Re({mutationFn:t=>Ox(t),onSuccess:()=>{e.invalidateQueries({queryKey:be.lists()}),e.invalidateQueries({queryKey:be.enabled()})}})}function Sv(){return Re({mutationFn:e=>Dx(e)})}function Nv(){const e=ke();return Re({mutationFn:t=>Lx(t),onSuccess:(t,n)=>{e.setQueryData(be.detail(n),r=>r&&{...r,cachedModels:t}),e.invalidateQueries({queryKey:be.lists()})}})}function kv(){const e=ke();return Re({mutationFn:t=>Qx(t),onSuccess:t=>{e.setQueryData(be.defaults(),t)}})}function Cv(){return xt({queryKey:yc.status(),queryFn:Bx,staleTime:3e4})}function Ev(){const e=ke();return Re({mutationFn:t=>Wx(t),onSuccess:()=>{e.invalidateQueries({queryKey:yc.status()}),e.invalidateQueries({queryKey:be.all})}})}function Pv({onClose:e,providers:t}){const[n,r]=p.useState("provider"),[l,o]=p.useState(""),[a,i]=p.useState(null),[c,u]=p.useState({}),[g,m]=p.useState(""),[x,v]=p.useState([]),[w,b]=p.useState(""),[C,f]=p.useState(null),d=wv(),h=Sv(),y=p.useRef(null);p.useEffect(()=>{const M=D=>{D.key==="Escape"&&e()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[e]);const E=M=>{i(M),u({}),m(""),f(null),r("credentials")},N=(M,D)=>{u($=>({...$,[M]:D}))},R=async()=>{if(a){f(null);try{const M=a.supportsCustomEndpoint&&g||void 0,D=await h.mutateAsync({providerType:a.type,credentials:c,endpointUrl:M});v(D),D.length>0&&b(D[0].id),r("model")}catch(M){f(M instanceof Error?M.message:"Failed to discover models")}}},I=async()=>{if(!(!a||!l.trim()||!w)){f(null);try{const M={name:l.trim(),providerType:a.type,credentials:c,defaultModel:w};a.supportsCustomEndpoint&&g&&(M.endpointUrl=g),await d.mutateAsync(M),e()}catch(M){f(M instanceof Error?M.message:"Failed to create agent")}}},P=()=>a?a.requiredCredentials.filter(D=>D.required).every(D=>{var $;return($=c[D.name])==null?void 0:$.trim()}):!1,_=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:"Select the LLM provider you want to configure."}),s.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[400px] overflow-y-auto",children:t.filter(M=>M.type!=="CLAUDE_CODE").map(M=>s.jsxs("button",{onClick:()=>E(M),className:"p-4 border-3 border-[var(--color-neo-border)] bg-white hover:bg-gray-50 text-left transition-colors",children:[s.jsx("div",{className:"font-display font-bold",children:M.displayName}),s.jsx("div",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1 line-clamp-2",children:M.description}),M.supportsStreaming&&s.jsx("div",{className:"text-xs text-green-600 mt-2",children:"Supports streaming"})]},M.type))})]}),O=()=>a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{onClick:()=>r("provider"),className:"neo-btn neo-btn-ghost p-1",children:s.jsx(Hu,{size:20})}),s.jsx("h3",{className:"font-display font-bold",children:a.displayName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Agent Name *"}),s.jsx("input",{type:"text",value:l,onChange:M=>o(M.target.value),placeholder:"e.g., My OpenAI Agent",className:"neo-input w-full"})]}),a.requiredCredentials.map(M=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:[M.label," ",M.required&&"*"]}),s.jsx("input",{type:M.type==="password"?"password":"text",value:c[M.name]||"",onChange:D=>N(M.name,D.target.value),placeholder:M.placeholder,className:"neo-input w-full"})]},M.name)),a.supportsCustomEndpoint&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Endpoint URL (optional)"}),s.jsx("input",{type:"url",value:g,onChange:M=>m(M.target.value),placeholder:"https://...",className:"neo-input w-full"})]}),C&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),C]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:R,disabled:!P()||!l.trim()||h.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:h.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Validating..."]}):s.jsxs(s.Fragment,{children:["Discover Models",s.jsx(ui,{size:16})]})})]})]}):null,F=()=>a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("button",{onClick:()=>r("credentials"),className:"neo-btn neo-btn-ghost p-1",children:s.jsx(Hu,{size:20})}),s.jsx("h3",{className:"font-display font-bold",children:"Select Model"})]}),s.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 text-green-700 text-sm flex items-center gap-2",children:[s.jsx(tn,{size:16}),"Credentials validated successfully!"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Default Model *"}),s.jsx("select",{value:w,onChange:M=>b(M.target.value),className:"neo-input w-full",children:x.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))})]}),C&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),C]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:!w||d.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Creating..."]}):"Create Agent"})]})]}):null;return s.jsx("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:s.jsxs("div",{ref:y,className:"neo-modal w-full max-w-lg p-6",onClick:M=>M.stopPropagation(),role:"dialog","aria-labelledby":"add-agent-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{id:"add-agent-title",className:"font-display text-xl font-bold",children:"Add AI Agent"}),s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),n==="provider"&&_(),n==="credentials"&&O(),n==="model"&&F()]})})}function Mv({agent:e,onClose:t,providers:n}){const[r,l]=p.useState(e.name),[o,a]=p.useState(e.defaultModel),[i,c]=p.useState(e.endpointUrl||""),[u,g]=p.useState(e.enabled),[m,x]=p.useState(!1),[v,w]=p.useState({}),[b,C]=p.useState(null),f=jv(),d=Nv(),h=p.useRef(null),y=n.find(P=>P.type===e.providerType),E=e.cachedModels||[];p.useEffect(()=>{const P=_=>{_.key==="Escape"&&t()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[t]);const N=(P,_)=>{w(O=>({...O,[P]:_}))},R=async()=>{C(null);try{await d.mutateAsync(e.id)}catch(P){C(P instanceof Error?P.message:"Failed to refresh models")}},I=async()=>{C(null);try{const P={name:r.trim(),defaultModel:o,enabled:u};y!=null&&y.supportsCustomEndpoint&&(P.endpointUrl=i||void 0),m&&Object.keys(v).length>0&&(P.credentials=v),await f.mutateAsync({id:e.id,config:P}),t()}catch(P){C(P instanceof Error?P.message:"Failed to update agent")}};return s.jsx("div",{className:"neo-modal-backdrop",onClick:t,role:"presentation",children:s.jsxs("div",{ref:h,className:"neo-modal w-full max-w-lg p-6",onClick:P=>P.stopPropagation(),role:"dialog","aria-labelledby":"edit-agent-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{id:"edit-agent-title",className:"font-display text-xl font-bold",children:"Edit Agent"}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 border-3 border-[var(--color-neo-border)]",children:[s.jsx("div",{className:"text-sm font-bold",children:(y==null?void 0:y.displayName)||e.providerType}),s.jsx("div",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:y==null?void 0:y.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Agent Name *"}),s.jsx("input",{type:"text",value:r,onChange:P=>l(P.target.value),className:"neo-input w-full"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-bold",children:"Default Model *"}),s.jsxs("button",{onClick:R,disabled:d.isPending,className:"neo-btn neo-btn-ghost text-xs flex items-center gap-1 p-1",children:[s.jsx(Fy,{size:12,className:d.isPending?"animate-spin":""}),"Refresh"]})]}),s.jsx("select",{value:o,onChange:P=>a(P.target.value),className:"neo-input w-full",children:E.length>0?E.map(P=>s.jsx("option",{value:P.id,children:P.name},P.id)):s.jsx("option",{value:e.defaultModel,children:e.defaultModel})}),E.length===0&&s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:'Click "Refresh" to load available models'})]}),(y==null?void 0:y.supportsCustomEndpoint)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Endpoint URL"}),s.jsx("input",{type:"url",value:i,onChange:P=>c(P.target.value),placeholder:"https://...",className:"neo-input w-full"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-bold text-sm",children:"Enabled"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Disabled agents won't appear in selection"})]}),s.jsx("button",{onClick:()=>g(!u),className:`relative w-14 h-8 rounded-none border-3 border-[var(--color-neo-border)] transition-colors ${u?"bg-[var(--color-neo-success)]":"bg-white"}`,role:"switch","aria-checked":u,children:s.jsx("span",{className:`absolute top-1 w-5 h-5 bg-[var(--color-neo-border)] transition-transform ${u?"left-7":"left-1"}`})})]}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("input",{type:"checkbox",id:"update-credentials",checked:m,onChange:P=>x(P.target.checked),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"update-credentials",className:"text-sm font-bold",children:"Update Credentials"})]}),m&&y&&s.jsx("div",{className:"space-y-3 pl-6",children:y.requiredCredentials.map(P=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:[P.label," ",P.required&&"*"]}),s.jsx("input",{type:P.type==="password"?"password":"text",value:v[P.name]||"",onChange:_=>N(P.name,_.target.value),placeholder:P.placeholder,className:"neo-input w-full"})]},P.name))})]}),b&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),b]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:!r.trim()||!o||f.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Saving..."]}):"Save Changes"})]})]})]})})}function _v({onClose:e}){const{data:t,isLoading:n,isError:r,refetch:l}=xv(),{data:o}=yv(),{data:a}=vv(),i=kv(),c=bv(),[u,g]=p.useState(!1),[m,x]=p.useState(null),[v,w]=p.useState(null),b=p.useRef(null),C=p.useRef(null),f=p.useRef(e),d=p.useRef(!1);p.useEffect(()=>{f.current=e},[e]),p.useEffect(()=>{var N;d.current||((N=C.current)==null||N.focus(),d.current=!0)},[]),p.useEffect(()=>{const N=R=>{R.key==="Escape"&&!u&&!m&&f.current()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[u,m]);const h=async N=>{if(v===N){try{await c.mutateAsync(N)}catch(R){console.error("Failed to delete agent:",R)}w(null)}else w(N),setTimeout(()=>w(null),3e3)},y=(N,R)=>{a&&i.mutate({...a,[N]:R})},E=N=>{var R;return((R=o==null?void 0:o.find(I=>I.type===N))==null?void 0:R.displayName)||N};return s.jsxs("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:[s.jsxs("div",{ref:b,className:"neo-modal w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),role:"dialog","aria-labelledby":"ai-agents-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Kr,{size:24}),s.jsx("h2",{id:"ai-agents-title",className:"font-display text-xl font-bold",children:"AI Agents"})]}),s.jsx("button",{ref:C,onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),n&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ue,{className:"animate-spin",size:24}),s.jsx("span",{className:"ml-2",children:"Loading agents..."})]}),r&&s.jsxs("div",{className:"p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)] mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{size:18}),s.jsx("span",{children:"Failed to load AI agents"})]}),s.jsx("button",{onClick:()=>l(),className:"mt-2 underline text-sm",children:"Retry"})]}),!n&&!r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-display font-bold",children:"Configured Agents"}),s.jsxs("button",{onClick:()=>g(!0),className:"neo-btn neo-btn-primary flex items-center gap-2",children:[s.jsx(Dt,{size:16}),"Add Agent"]})]}),t&&t.length===0&&s.jsxs("div",{className:"p-6 border-3 border-dashed border-[var(--color-neo-border)] text-center text-[var(--color-neo-text-secondary)]",children:[s.jsx(Kr,{size:32,className:"mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No AI agents configured yet."}),s.jsx("p",{className:"text-sm mt-1",children:"Add an agent to use different LLM providers."})]}),t&&t.length>0&&s.jsx("div",{className:"space-y-3",children:t.map(N=>s.jsx("div",{className:`p-4 border-3 border-[var(--color-neo-border)] ${N.enabled?"bg-white":"opacity-60 bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-display font-bold",children:N.name}),!N.enabled&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600",children:"Disabled"})]}),s.jsxs("p",{className:"text-sm text-[var(--color-neo-text-secondary)]",children:[E(N.providerType),N.defaultModel&&`  ${N.defaultModel}`]}),N.endpointUrl&&s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-1",children:N.endpointUrl})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>x(N),className:"neo-btn neo-btn-ghost p-2",title:"Edit agent",children:s.jsx(Ry,{size:16})}),s.jsx("button",{onClick:()=>h(N.id),className:`neo-btn p-2 ${v===N.id?"neo-btn-danger":"neo-btn-ghost"}`,title:v===N.id?"Click again to confirm":"Delete agent",children:v===N.id?s.jsx(ci,{size:16}):s.jsx(ar,{size:16})})]})]})},N.id))})]}),t&&t.length>0&&s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-6",children:[s.jsx("h3",{className:"font-display font-bold mb-4",children:"Default Agents by Role"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mb-4",children:"Configure which agent to use for each role. Leave unset to use the global default."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Global Default"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used when no specific agent is set"})]}),s.jsxs("select",{value:(a==null?void 0:a.defaultAgentId)??"",onChange:N=>y("defaultAgentId",N.target.value?parseInt(N.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Claude Code (Built-in)"}),t.filter(N=>N.enabled).map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Spec Creation"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for generating app specs"})]}),s.jsxs("select",{value:(a==null?void 0:a.specCreationAgentId)??"",onChange:N=>y("specCreationAgentId",N.target.value?parseInt(N.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(N=>N.enabled).map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Initialization"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for project initialization"})]}),s.jsxs("select",{value:(a==null?void 0:a.initializationAgentId)??"",onChange:N=>y("initializationAgentId",N.target.value?parseInt(N.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(N=>N.enabled).map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"Coding Agent"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Used for implementing features"})]}),s.jsxs("select",{value:(a==null?void 0:a.codingAgentId)??"",onChange:N=>y("codingAgentId",N.target.value?parseInt(N.target.value):null),className:"neo-input w-48",children:[s.jsx("option",{value:"",children:"Use Global Default"}),t.filter(N=>N.enabled).map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),i.isError&&s.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:"Failed to save defaults. Please try again."})]})]})]}),u&&s.jsx(Pv,{onClose:()=>g(!1),providers:o||[]}),m&&s.jsx(Mv,{agent:m,onClose:()=>x(null),providers:o||[]})]})}function zv({onClose:e,onUnlocked:t}){const[n,r]=p.useState(""),[l,o]=p.useState(null),a=Ev(),i=p.useRef(null),c=p.useRef(e);p.useEffect(()=>{c.current=e},[e]),p.useEffect(()=>{const g=setTimeout(()=>{var m;(m=i.current)==null||m.focus()},0);return()=>clearTimeout(g)},[]),p.useEffect(()=>{const g=m=>{m.key==="Escape"&&c.current()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[]);const u=async g=>{var m;if(g.preventDefault(),!!n.trim()){o(null);try{await a.mutateAsync(n),t()}catch(x){o(x instanceof Error?x.message:"Invalid password"),r(""),(m=i.current)==null||m.focus()}}};return oc.createPortal(s.jsx("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",style:{zIndex:1e3},children:s.jsxs("div",{className:"neo-modal w-full max-w-sm p-6",onClick:g=>g.stopPropagation(),role:"dialog","aria-labelledby":"unlock-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_y,{size:24}),s.jsx("h2",{id:"unlock-title",className:"font-display text-xl font-bold",children:"Unlock Credentials"})]}),s.jsx("button",{onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close",children:s.jsx(pe,{size:20})})]}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mb-6",children:"Enter your encryption password to access AI agent credentials. This is required once per session."}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"Password"}),s.jsx("input",{ref:i,type:"password",value:n,onChange:g=>r(g.target.value),placeholder:"Enter encryption password",className:"neo-input w-full",autoComplete:"current-password",autoFocus:!0})]}),l&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[s.jsx(nt,{size:16}),l]}),s.jsxs("div",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsx("strong",{children:"Tip:"})," You can set the RETROCODER_ENCRYPTION_KEY environment variable to auto-unlock on startup."]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:e,className:"neo-btn neo-btn-ghost",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!n.trim()||a.isPending,className:"neo-btn neo-btn-primary flex items-center gap-2",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"animate-spin",size:16}),"Unlocking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(My,{size:16}),"Unlock"]})})]})]})]})}),document.body)}function Rv({onClose:e}){const{data:t,isLoading:n,isError:r,refetch:l}=fc(),{data:o}=Lh(),{data:a}=Cv(),i=oy(),c=p.useRef(null),u=p.useRef(null),[g,m]=p.useState(!1),[x,v]=p.useState(!1),w=p.useRef(e),b=p.useRef(!1);p.useEffect(()=>{w.current=e},[e]),p.useEffect(()=>{var E;b.current||((E=u.current)==null||E.focus(),b.current=!0)},[]),p.useEffect(()=>{const E=c.current;if(!E)return;const N=I=>{if(I.key!=="Tab")return;const P=E.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),_=P[0],O=P[P.length-1];I.shiftKey?document.activeElement===_&&(I.preventDefault(),O==null||O.focus()):document.activeElement===O&&(I.preventDefault(),_==null||_.focus())},R=I=>{I.key==="Escape"&&w.current()};return document.addEventListener("keydown",N),document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",N),document.removeEventListener("keydown",R)}},[]);const C=()=>{t&&!i.isPending&&i.mutate({yolo_mode:!t.yolo_mode})},f=E=>{i.isPending||i.mutate({model:E})},d=()=>{a!=null&&a.unlocked?m(!0):v(!0)},h=(o==null?void 0:o.models)??[],y=i.isPending;return s.jsxs("div",{className:"neo-modal-backdrop",onClick:e,role:"presentation",children:[s.jsxs("div",{ref:c,className:"neo-modal w-full max-w-sm p-6",onClick:E=>E.stopPropagation(),role:"dialog","aria-labelledby":"settings-title","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{id:"settings-title",className:"font-display text-xl font-bold",children:["Settings",y&&s.jsx(ue,{className:"inline-block ml-2 animate-spin",size:16})]}),s.jsx("button",{ref:u,onClick:e,className:"neo-btn neo-btn-ghost p-2","aria-label":"Close settings",children:s.jsx(pe,{size:20})})]}),n&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(ue,{className:"animate-spin",size:24}),s.jsx("span",{className:"ml-2",children:"Loading settings..."})]}),r&&s.jsxs("div",{className:"p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)] mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{size:18}),s.jsx("span",{children:"Failed to load settings"})]}),s.jsx("button",{onClick:()=>l(),className:"mt-2 underline text-sm",children:"Retry"})]}),t&&!n&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{id:"yolo-label",className:"font-display font-bold text-base",children:"YOLO Mode"}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-1",children:"Skip testing for rapid prototyping"})]}),s.jsx("button",{onClick:C,disabled:y,className:`relative w-14 h-8 rounded-none border-3 border-[var(--color-neo-border)] transition-colors ${t.yolo_mode?"bg-[var(--color-neo-pending)]":"bg-white"} ${y?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":t.yolo_mode,"aria-labelledby":"yolo-label",children:s.jsx("span",{className:`absolute top-1 w-5 h-5 bg-[var(--color-neo-border)] transition-transform ${t.yolo_mode?"left-7":"left-1"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{id:"model-label",className:"font-display font-bold text-base block mb-2",children:"Model"}),s.jsx("div",{className:"flex border-3 border-[var(--color-neo-border)]",role:"radiogroup","aria-labelledby":"model-label",children:h.map(E=>s.jsx("button",{onClick:()=>f(E.id),disabled:y,role:"radio","aria-checked":t.model===E.id,className:`flex-1 py-3 px-4 font-display font-bold text-sm transition-colors ${t.model===E.id?"bg-[var(--color-neo-accent)] text-white":"bg-white text-[var(--color-neo-text)] hover:bg-gray-100"} ${y?"opacity-50 cursor-not-allowed":""}`,children:E.name},E.id))})]}),s.jsxs("div",{className:"border-t-3 border-[var(--color-neo-border)] pt-6",children:[s.jsxs("button",{onClick:d,className:"neo-btn neo-btn-secondary w-full flex items-center justify-center gap-2",children:[s.jsx(Kr,{size:18}),"Configure AI Agents"]}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2 text-center",children:"Use different LLM providers like OpenAI, Ollama, etc."})]}),i.isError&&s.jsx("div",{className:"p-3 bg-red-50 border-3 border-red-200 text-red-700 text-sm",children:"Failed to save settings. Please try again."})]})]}),g&&s.jsx(_v,{onClose:()=>m(!1)}),x&&s.jsx(zv,{onClose:()=>v(!1),onUnlocked:()=>{v(!1),m(!0)}})]})}function Tv({project:e,onOpenChange:t,onMenuHover:n,forceClose:r}){const[l,o]=p.useState(!1),[a,i]=p.useState(null),c=p.useRef(null);p.useEffect(()=>{r&&l&&(o(!1),i(null),t==null||t(!1))},[r,l,t]);const u=y=>{if(y&&c.current){const E=c.current.getBoundingClientRect();i({top:E.bottom+8,right:window.innerWidth-E.right})}else i(null);o(y),t==null||t(y)};p.useEffect(()=>{if(!l)return;const y=E=>{const N=E.target,R=document.getElementById(`project-settings-menu-${e.name}`),I=c.current;R&&!R.contains(N)&&I&&!I.contains(N)&&u(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[l,e.name]);const{data:g}=Lh(),{data:m}=fc(),x=Yx(e.name),v=(g==null?void 0:g.models)??[],w=x.isPending,b=e.yolo_mode??(m==null?void 0:m.yolo_mode)??!1,C=e.model??(m==null?void 0:m.model)??"claude-opus-4-5-20251101",f=e.yolo_mode!==null||e.model!==null,d=()=>{w||x.mutate({yolo_mode:!b})},h=y=>{w||x.mutate({model:y})};return s.jsxs("div",{className:"relative",children:[s.jsx("button",{ref:c,onClick:()=>u(!l),className:`neo-btn text-sm py-2 px-3 ${f?"bg-[var(--color-neo-accent)] text-white":""}`,title:"Project Settings","aria-label":"Project Settings",children:w?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsx(Vh,{size:18})}),l&&a&&oc.createPortal(s.jsx(s.Fragment,{children:s.jsxs("div",{id:`project-settings-menu-${e.name}`,className:"fixed w-64 neo-dropdown p-4",style:{zIndex:9999,top:a.top,right:a.right},onMouseEnter:()=>n==null?void 0:n(!0),onMouseLeave:()=>n==null?void 0:n(!1),children:[s.jsx("h4",{className:"font-display font-bold text-sm mb-4 uppercase",children:"Project Settings"}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm",children:"YOLO Mode"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:"Skip testing"})]}),s.jsx("button",{onClick:d,disabled:w,className:`relative w-12 h-6 rounded-none border-2 border-[var(--color-neo-border)] transition-colors ${b?"bg-[var(--color-neo-pending)]":"bg-white"} ${w?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":b,children:s.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-[var(--color-neo-border)] transition-transform ${b?"left-6":"left-0.5"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"font-display font-bold text-sm block mb-2",children:"Model"}),s.jsx("div",{className:"space-y-1",children:v.map(y=>s.jsx("button",{onClick:()=>h(y.id),disabled:w,className:`w-full text-left px-3 py-2 text-sm border-2 border-[var(--color-neo-border)] transition-colors ${C===y.id?"bg-[var(--color-neo-accent)] text-white font-bold":"bg-white hover:bg-gray-100"} ${w?"opacity-50 cursor-not-allowed":""}`,children:y.name},y.id))})]}),f&&s.jsx("div",{className:"mt-4 pt-3 border-t-2 border-[var(--color-neo-border)]",children:s.jsx("p",{className:"text-xs text-[var(--color-neo-accent)]",children:"Using project-specific settings"})})]})}),document.body)]})}function Fv({project:e,onSelect:t,onCreateSpec:n}){const[r,l]=p.useState(!1),[o,a]=p.useState(!1),{data:i}=Oh(e.name),c=(i==null?void 0:i.status)??"stopped",u=p.useRef(!1),g=p.useRef(!1),m=p.useRef(null),x=p.useRef(r);x.current=r;const v=p.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null)},[]),w=p.useCallback(()=>{v(),m.current=window.setTimeout(()=>{!u.current&&!g.current&&x.current&&(a(!0),setTimeout(()=>a(!1),0),l(!1))},500)},[v]),b=p.useCallback(()=>{u.current=!0,v()},[v]),C=p.useCallback(()=>{u.current=!1,x.current&&w()},[w]),f=p.useCallback(I=>{g.current=I,I?v():x.current&&w()},[v,w]),d=p.useCallback(I=>{l(I),I||v()},[v]),{stats:h,created_at:y}=e,E=h.total>0?h.percentage:0,N=I=>{if(!I)return"Unknown";try{return new Date(I).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return"Unknown"}},R=()=>{switch(c){case"running":return"bg-[var(--color-neo-progress)]";case"paused":return"bg-[var(--color-neo-pending)]";case"crashed":return"bg-[var(--color-neo-danger)]";default:return"bg-gray-400"}};return s.jsx("div",{className:`neo-card p-4 ${r?"":"transition-shadow hover:shadow-[6px_6px_0px_0px_var(--color-neo-border)]"}`,onMouseEnter:b,onMouseLeave:C,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${R()} ${c==="running"?"animate-pulse":""}`,title:`Agent: ${c}`}),s.jsx("button",{onClick:t,className:"flex-1 text-left hover:bg-[var(--color-neo-bg)] p-2 -m-2 rounded transition-colors",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(oo,{size:20,className:"text-[var(--color-neo-text-secondary)]"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-display font-bold text-lg truncate",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-neo-text-secondary)]",children:[s.jsx(jy,{size:14}),s.jsx("span",{children:N(y)})]})]})]})}),s.jsx("div",{className:"flex items-center gap-4 min-w-[200px]",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"neo-progress h-4 mb-1",children:s.jsx("div",{className:"neo-progress-fill",style:{width:`${E}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-[var(--color-neo-text-secondary)]",children:[s.jsxs("span",{className:"font-mono",children:[h.passing,"/",h.total]}),s.jsxs("span",{className:"font-mono font-bold text-[var(--color-neo-done)]",children:[E.toFixed(0),"%"]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[!e.has_spec&&n&&c==="stopped"&&s.jsx("button",{onClick:n,className:"neo-btn text-sm py-2 px-3 bg-[var(--color-neo-pending)]",title:"Create App Spec",children:s.jsx(pc,{size:18})}),(e.has_spec||c==="running"||c==="paused")&&s.jsx(Zh,{projectName:e.name,status:c}),s.jsx(Tv,{project:e,onOpenChange:d,onMenuHover:f,forceClose:o})]})]})})}function Jh({projectName:e,isOpen:t,onClose:n,onSpecCreated:r,onNavigateToProject:l}){const[o,a]=p.useState("idle"),[i,c]=p.useState(null),[u,g]=p.useState(!1);if(!t)return null;const m=async(C,f=!1)=>{g(f),a("starting");try{await dc(e,f),r(),b()}catch(d){a("error"),c(d instanceof Error?d.message:"Failed to start agent")}},x=()=>{c(null),a("idle"),m("",u)},v=()=>{b()},w=()=>{r(),b(),l==null||l()},b=()=>{a("idle"),c(null),g(!1),n()};return s.jsx("div",{className:"fixed inset-0 z-50 bg-[var(--color-neo-bg)]",children:s.jsx(Gh,{projectName:e,onComplete:m,onCancel:v,onExitToProject:w,initializerStatus:o,initializerError:i,onRetryInitializer:x})})}function Iv({projects:e,isLoading:t,onSelectProject:n,onNewProject:r}){const[l,o]=p.useState(!1),[a,i]=p.useState(null),[c,u]=p.useState(""),[g,m]=p.useState("date-desc"),x=ke(),v=p.useMemo(()=>{let f=e;if(c.trim()){const d=c.toLowerCase().trim();f=f.filter(h=>{var y,E;return!!(h.name.toLowerCase().includes(d)||h.path.toLowerCase().includes(d)||(y=h.created_at)!=null&&y.toLowerCase().includes(d)||(E=h.model)!=null&&E.toLowerCase().includes(d)||String(h.stats.total).includes(d)||String(h.stats.passing).includes(d)||String(h.stats.percentage).includes(d))})}return f=[...f].sort((d,h)=>{switch(g){case"name-asc":return d.name.localeCompare(h.name);case"name-desc":return h.name.localeCompare(d.name);case"date-asc":return(d.created_at||"").localeCompare(h.created_at||"");case"date-desc":return(h.created_at||"").localeCompare(d.created_at||"");case"percent-asc":return d.stats.percentage-h.stats.percentage;case"percent-desc":return h.stats.percentage-d.stats.percentage;default:return 0}}),f},[e,c,g]),w=f=>{i(f),o(!0)},b=()=>{x.invalidateQueries({queryKey:["projects"]}),o(!1),i(null)},C=()=>{o(!1),i(null)};return t?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx(ue,{size:32,className:"animate-spin text-[var(--color-neo-text-secondary)]"})}):e.length===0?s.jsxs("div",{className:"neo-empty-state mt-12",children:[s.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Welcome to Retro-Coder"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-6",children:"Create your first project to get started with autonomous coding."}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-primary text-lg py-3 px-6",children:[s.jsx(Dt,{size:20}),"New Project"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-display text-2xl font-bold uppercase",children:"Projects"}),s.jsxs("button",{onClick:r,className:"neo-btn neo-btn-primary",children:[s.jsx(Dt,{size:18}),"New Project"]})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsxs("div",{className:"relative",style:{width:"225px"},children:[s.jsx(mc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)]"}),s.jsx("input",{type:"text",value:c,onChange:f=>u(f.target.value),placeholder:"Filter...",className:"neo-input pl-9 pr-8 w-full"}),c&&s.jsx("button",{onClick:()=>u(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)] transition-colors",title:"Clear filter",children:s.jsx(pe,{size:16})})]}),s.jsxs("select",{value:g,onChange:f=>m(f.target.value),className:"neo-input w-48",children:[s.jsx("option",{value:"name-asc",children:"Project Name A-Z"}),s.jsx("option",{value:"name-desc",children:"Project Name Z-A"}),s.jsx("option",{value:"date-asc",children:"Create Date ASC"}),s.jsx("option",{value:"date-desc",children:"Create Date DESC"}),s.jsx("option",{value:"percent-asc",children:"% Complete ASC"}),s.jsx("option",{value:"percent-desc",children:"% Complete DESC"})]})]}),s.jsx("div",{className:"space-y-4",children:v.length===0&&c?s.jsx("div",{className:"neo-card p-6 text-center",children:s.jsxs("p",{className:"text-[var(--color-neo-text-secondary)]",children:['No projects match "',c,'"']})}):v.map(f=>s.jsx(Fv,{project:f,onSelect:()=>n(f.name),onCreateSpec:()=>w(f.name)},f.name))}),a&&s.jsx(Jh,{projectName:a,isOpen:l,onClose:C,onSpecCreated:b,onNavigateToProject:()=>n(a)})]})}function Av({projectName:e,onClose:t}){const n=p.useId(),[r,l]=p.useState("describe"),[o,a]=p.useState(""),[i,c]=p.useState(null),[u,g]=p.useState([]),[m,x]=p.useState(!1),[v,w]=p.useState(0),[b,C]=p.useState(""),[f,d]=p.useState(""),[h,y]=p.useState([]),[E,N]=p.useState([{id:`${n}-step-0`,value:""}]),[R,I]=p.useState(""),P=p.useRef(null),_=ay(e),O=Ah(e),F=p.useCallback(async T=>{const L=Array.from(T),B=[];for(const q of L)if(q.type.startsWith("text/")||q.name.endsWith(".ts")||q.name.endsWith(".tsx")||q.name.endsWith(".js")||q.name.endsWith(".jsx")||q.name.endsWith(".java")||q.name.endsWith(".py")||q.name.endsWith(".json")||q.name.endsWith(".xml")||q.name.endsWith(".yaml")||q.name.endsWith(".yml")||q.name.endsWith(".md")||q.name.endsWith(".css")||q.name.endsWith(".html")||q.name.endsWith(".sql")||q.name.endsWith(".log")||q.name.endsWith(".txt"))try{const oe=await q.text();B.push({id:crypto.randomUUID(),name:q.name,path:q.webkitRelativePath||q.name,content:oe.slice(0,1e4)})}catch(oe){console.error("Failed to read file:",q.name,oe)}g(q=>[...q,...B])},[]),M=p.useCallback(T=>{T.preventDefault(),x(!0)},[]),D=p.useCallback(T=>{T.preventDefault(),x(!1)},[]),$=p.useCallback(T=>{T.preventDefault(),x(!1),T.dataTransfer.files.length>0&&F(T.dataTransfer.files)},[F]),H=()=>{var T;(T=P.current)==null||T.click()},K=T=>{T.target.files&&T.target.files.length>0&&F(T.target.files)},z=T=>{g(L=>L.filter(B=>B.id!==T))},A=async T=>{T.preventDefault(),c(null),l("investigating");let L=o;if(u.length>0){L+=`

--- Related Files ---
`;for(const B of u)L+=`
### File: ${B.name}
\`\`\`
${B.content}
\`\`\`
`}try{const B=await _.mutateAsync(L);if(B.success){C(B.suggestedName||`Fix: ${o.slice(0,50)}`),d(B.rootCause||""),y(B.affectedFiles||[]);const q=B.steps&&B.steps.length>0?B.steps.map((oe,ae)=>({id:`${n}-step-${ae}`,value:oe})):[{id:`${n}-step-0`,value:""}];N(q),w(q.length),I(B.additionalNotes||""),l("review")}else c(B.error||"Investigation failed"),l("describe")}catch(B){c(B instanceof Error?B.message:"Investigation failed"),l("describe")}},k=async T=>{T.preventDefault(),c(null);const L=E.map(q=>q.value.trim()).filter(q=>q.length>0);let B=o;f&&(B+=`

Root Cause: ${f}`),h.length>0&&(B+=`

Affected Files:
${h.map(q=>`- ${q}`).join(`
`)}`),R&&(B+=`

Notes: ${R}`);try{await O.mutateAsync({category:"bugfix",name:b.trim(),description:B.trim(),steps:L}),t()}catch(q){c(q instanceof Error?q.message:"Failed to create bugfix")}},S=()=>{N([...E,{id:`${n}-step-${v}`,value:""}]),w(v+1)},Q=T=>{E.length>1&&N(E.filter(L=>L.id!==T))},G=(T,L)=>{N(E.map(B=>B.id===T?{...B,value:L}:B))},Z=o.trim().length>10,X=b.trim().length>0&&E.some(T=>T.value.trim().length>0);return s.jsx("div",{className:"neo-modal-backdrop",children:s.jsxs("div",{className:"neo-modal w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b-3 border-[var(--color-neo-border)]",children:[s.jsxs("h2",{className:"font-display text-2xl font-bold flex items-center gap-3",children:[s.jsx(Bh,{size:28,className:"text-red-600"}),r==="describe"&&"Report a Bug",r==="investigating"&&"Investigating...",r==="review"&&"Review Bug Fix"]}),s.jsx("button",{onClick:t,className:"neo-btn neo-btn-ghost p-2",children:s.jsx(pe,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="describe"&&s.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[i&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:i}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Bug Description"}),s.jsx("textarea",{value:o,onChange:T=>a(T.target.value),placeholder:"Describe what's happening, what you expected, and any error messages you see...",className:"neo-input min-h-[150px] resize-y",autoFocus:!0,required:!0}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-2",children:"Be as specific as possible. Include error messages, steps to reproduce, and what you expected."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Related Files (Optional)"}),s.jsxs("div",{className:`border-3 border-dashed rounded-lg p-6 text-center transition-colors ${m?"border-[var(--color-neo-primary)] bg-blue-50":"border-[var(--color-neo-border)] hover:border-[var(--color-neo-primary)]"}`,onDragOver:M,onDragLeave:D,onDrop:$,children:[s.jsx(Ly,{size:32,className:"mx-auto mb-3 text-[var(--color-neo-text-secondary)]"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-2",children:"Drag & drop files here, or"}),s.jsx("button",{type:"button",onClick:H,className:"neo-btn neo-btn-ghost text-sm",children:"Browse Files"}),s.jsx("input",{ref:P,type:"file",multiple:!0,onChange:K,className:"hidden",accept:".ts,.tsx,.js,.jsx,.java,.py,.json,.xml,.yaml,.yml,.md,.css,.html,.sql,.log,.txt"}),s.jsx("p",{className:"text-xs text-[var(--color-neo-text-secondary)] mt-3",children:"Supports: .ts, .tsx, .js, .java, .py, .json, .md, .log, .txt and more"})]}),u.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:u.map(T=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded",children:[s.jsx(pc,{size:18,className:"text-[var(--color-neo-text-secondary)] flex-shrink-0"}),s.jsx("span",{className:"flex-1 font-mono text-sm truncate",children:T.name}),s.jsxs("span",{className:"text-xs text-[var(--color-neo-text-secondary)]",children:[Math.round(T.content.length/1024),"KB"]}),s.jsx("button",{type:"button",onClick:()=>z(T.id),className:"neo-btn neo-btn-ghost p-1 text-red-600",children:s.jsx(ar,{size:16})})]},T.id))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"submit",disabled:!Z||_.isPending,className:"neo-btn neo-btn-primary flex-1",children:_.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(mc,{size:18}),"Investigate Bug"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]}),r==="investigating"&&s.jsxs("div",{className:"p-6 text-center py-16",children:[s.jsx(ue,{size:48,className:"animate-spin mx-auto text-[var(--color-neo-primary)] mb-4"}),s.jsx("p",{className:"font-display text-xl font-bold mb-2",children:"Investigating the bug..."}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"Searching the codebase to identify the root cause and fix steps."}),s.jsx("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-4",children:"This may take a minute or two."})]}),r==="review"&&s.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[i&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--color-neo-danger)] text-white border-3 border-[var(--color-neo-border)]",children:[s.jsx(nt,{size:20}),s.jsx("span",{children:i}),s.jsx("button",{type:"button",onClick:()=>c(null),className:"ml-auto",children:s.jsx(pe,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-100 border-3 border-green-600 rounded",children:[s.jsx(Sy,{size:24,className:"text-green-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-display font-bold text-green-800",children:"Investigation Complete"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Review the suggested fix steps below and submit to create a bugfix task."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Bug Fix Name"}),s.jsx("input",{type:"text",value:b,onChange:T=>C(T.target.value),className:"neo-input",required:!0})]}),f&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Root Cause"}),s.jsx("textarea",{value:f,onChange:T=>d(T.target.value),className:"neo-input min-h-[80px] resize-y"})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Affected Files"}),s.jsx("div",{className:"neo-input bg-[var(--color-neo-bg)] font-mono text-sm",children:h.map((T,L)=>s.jsx("div",{className:"py-1",children:T},L))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Fix Steps"}),s.jsx("div",{className:"space-y-2",children:E.map((T,L)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"neo-input w-12 text-center flex-shrink-0 flex items-center justify-center bg-[var(--color-neo-bg)]",children:L+1}),s.jsx("input",{type:"text",value:T.value,onChange:B=>G(T.id,B.target.value),placeholder:`Step ${L+1}`,className:"neo-input flex-1"}),E.length>1&&s.jsx("button",{type:"button",onClick:()=>Q(T.id),className:"neo-btn neo-btn-ghost p-2",children:s.jsx(ar,{size:18})})]},T.id))}),s.jsxs("button",{type:"button",onClick:S,className:"neo-btn neo-btn-ghost mt-2 text-sm",children:[s.jsx(Dt,{size:16}),"Add Step"]})]}),R&&s.jsxs("div",{children:[s.jsx("label",{className:"block font-display font-bold mb-2 uppercase text-sm",children:"Additional Notes"}),s.jsx("textarea",{value:R,onChange:T=>I(T.target.value),className:"neo-input min-h-[60px] resize-y"})]}),s.jsxs("details",{className:"text-sm",children:[s.jsx("summary",{className:"cursor-pointer font-display font-bold uppercase text-sm text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)]",children:"Original Bug Description"}),s.jsx("div",{className:"mt-2 p-4 bg-[var(--color-neo-bg)] border-2 border-[var(--color-neo-border)] rounded whitespace-pre-wrap font-mono text-sm",children:o})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t-3 border-[var(--color-neo-border)]",children:[s.jsx("button",{type:"button",onClick:()=>l("describe"),className:"neo-btn neo-btn-ghost",children:"Back"}),s.jsx("button",{type:"submit",disabled:!X||O.isPending,className:"neo-btn neo-btn-success flex-1",children:O.isPending?s.jsx(ue,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Dt,{size:18}),"Create Bug Fix Task"]})}),s.jsx("button",{type:"button",onClick:t,className:"neo-btn neo-btn-ghost",children:"Cancel"})]})]})]})]})})}const na="retrocoder-selected-project",Ju="retrocoder-view-mode";function Ov(){var Z,X;const[e,t]=p.useState(()=>{try{return localStorage.getItem(na)}catch{return null}}),[n,r]=p.useState(()=>{try{return localStorage.getItem(Ju)==="project"?"project":"dashboard"}catch{return"dashboard"}}),[l,o]=p.useState(!1),[a,i]=p.useState(!1),[c,u]=p.useState(!1),[g,m]=p.useState(!1),[x,v]=p.useState(null),[w,b]=p.useState(!0),[C,f]=p.useState(!1),[d,h]=p.useState(288),[y,E]=p.useState(!1),[N,R]=p.useState(!1),[I,P]=p.useState(!1),[_,O]=p.useState(""),F=ke(),{data:M,isLoading:D}=Vx(),{data:$}=Zx(e);Oh(e);const H=cy(e),K=ey(e??"");fy($),gy($,e);const z=p.useCallback(T=>{t(T);try{T?localStorage.setItem(na,T):localStorage.removeItem(na)}catch{}},[]),A=p.useCallback(T=>{r(T);try{localStorage.setItem(Ju,T)}catch{}},[]),k=p.useCallback(T=>{z(T),A("project")},[z,A]),S=p.useCallback(T=>{z(T),A("project"),m(!1)},[z,A]);p.useEffect(()=>{e&&M&&!M.some(T=>T.name===e)&&z(null)},[e,M,z]),p.useEffect(()=>{const T=L=>{L.target instanceof HTMLInputElement||L.target instanceof HTMLTextAreaElement||((L.key==="d"||L.key==="D")&&(L.preventDefault(),f(B=>!B)),(L.key==="n"||L.key==="N")&&e&&(L.preventDefault(),o(!0)),(L.key==="b"||L.key==="B")&&e&&(L.preventDefault(),i(!0)),(L.key==="e"||L.key==="E")&&e&&$&&$.pending.length+$.in_progress.length+$.done.length>0&&(L.preventDefault(),u(!0)),(L.key==="a"||L.key==="A")&&e&&(L.preventDefault(),E(B=>!B)),L.key===","&&(L.preventDefault(),R(!0)),(L.key==="h"||L.key==="H")&&(L.preventDefault(),A("dashboard")),L.key==="Escape"&&(c?u(!1):N?R(!1):y?E(!1):a?i(!1):l?o(!1):x?v(null):C&&f(!1)))};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[e,l,a,c,x,C,y,$,N,A]);const Q=$?{passing:$.done.length,total:$.pending.length+$.in_progress.length+$.done.length,percentage:0}:H.progress.total>0?{passing:H.progress.passing,total:H.progress.total,percentage:H.progress.percentage}:{passing:0,total:0,percentage:0};Q.total>0&&Q.percentage===0&&(Q.percentage=Math.round(Q.passing/Q.total*100*10)/10);const G=p.useMemo(()=>{if(!$)return;if(!_.trim())return $;const T=_.toLowerCase().trim(),L=B=>{var q,oe,ae;return B.priority.toString().includes(T)||B.name.toLowerCase().includes(T)||((q=B.description)==null?void 0:q.toLowerCase().includes(T))||((oe=B.category)==null?void 0:oe.toLowerCase().includes(T))||((ae=B.steps)==null?void 0:ae.some(me=>me.toLowerCase().includes(T)))};return{pending:$.pending.filter(L),in_progress:$.in_progress.filter(L),done:$.done.filter(L)}},[$,_]);return w?s.jsxs("div",{className:"min-h-screen bg-[var(--color-neo-bg)]",children:[s.jsx("header",{className:"bg-[var(--color-neo-text)] text-white border-b-4 border-[var(--color-neo-border)]",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>A("dashboard"),className:"hover:opacity-80 transition-opacity cursor-pointer",title:"Return to Dashboard (H)",children:s.jsx("h1",{className:"font-display text-2xl font-bold tracking-tight uppercase",children:"Retro-Coder"})}),s.jsx("div",{className:"flex items-center gap-4",children:n==="project"&&s.jsxs(s.Fragment,{children:[s.jsx(Ky,{projects:M??[],selectedProject:e,onSelectProject:z,onCurrentProjectDeleted:()=>{z(null),A("dashboard")},isLoading:D}),e&&s.jsxs(s.Fragment,{children:[((Z=M==null?void 0:M.find(T=>T.name===e))==null?void 0:Z.has_spec)===!1&&s.jsx("button",{onClick:()=>P(!0),className:"neo-btn text-sm py-2 px-3 bg-[var(--color-neo-pending)]",title:"Create App Spec",children:s.jsx(pc,{size:18})}),((X=M==null?void 0:M.find(T=>T.name===e))==null?void 0:X.has_spec)&&s.jsx(Zh,{projectName:e,status:H.agentStatus}),s.jsx("button",{onClick:()=>R(!0),className:"neo-btn text-sm py-2 px-3",title:"Settings (,)","aria-label":"Open Settings",children:s.jsx(Vh,{size:18})})]})]})})]})})}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",style:{paddingBottom:n==="project"&&C?d+32:void 0},children:n==="dashboard"?s.jsx(Iv,{projects:M??[],isLoading:D,onSelectProject:k,onNewProject:()=>m(!0)}):e?s.jsxs("div",{className:"space-y-8",children:[s.jsx(Jy,{passing:Q.passing,total:Q.total,percentage:Q.percentage,isConnected:H.isConnected}),s.jsx(av,{logs:H.logs,agentStatus:H.agentStatus}),$&&$.pending.length===0&&$.in_progress.length===0&&$.done.length===0&&H.agentStatus==="running"&&s.jsxs("div",{className:"neo-card p-8 text-center",children:[s.jsx(ue,{size:32,className:"animate-spin mx-auto mb-4 text-[var(--color-neo-progress)]"}),s.jsx("h3",{className:"font-display font-bold text-xl mb-2",children:"Initializing Features..."}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)]",children:"The agent is reading your spec and creating features. This may take a moment."})]}),s.jsxs("div",{className:"neo-card p-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(mc,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-neo-text-secondary)]"}),s.jsx("input",{type:"text",value:_,onChange:T=>O(T.target.value),placeholder:"Search tasks by name, description, or steps...",className:"neo-input pl-12 pr-10 w-full"}),_&&s.jsx("button",{onClick:()=>O(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-[var(--color-neo-bg)] rounded transition-colors",title:"Clear search",children:s.jsx(pe,{size:18,className:"text-[var(--color-neo-text-secondary)] hover:text-[var(--color-neo-text)]"})})]}),_&&G&&s.jsxs("p",{className:"text-sm text-[var(--color-neo-text-secondary)] mt-2",children:["Showing ",G.pending.length+G.in_progress.length+G.done.length," of ",Q.total," tasks"]})]}),s.jsx(Zy,{features:G,onFeatureClick:v,onAddFeature:()=>o(!0),onReportBug:()=>i(!0),onExpandProject:()=>u(!0),agentStatus:H.agentStatus,onResetInProgress:()=>K.mutate()})]}):s.jsxs("div",{className:"neo-empty-state mt-12",children:[s.jsx("h2",{className:"font-display text-2xl font-bold mb-2",children:"Welcome to Retro-Coder"}),s.jsx("p",{className:"text-[var(--color-neo-text-secondary)] mb-4",children:"Select a project from the dropdown above or create a new one to get started."})]})}),l&&e&&s.jsx(ev,{projectName:e,onClose:()=>o(!1)}),a&&e&&s.jsx(Av,{projectName:e,onClose:()=>i(!1)}),x&&e&&s.jsx(tv,{feature:x,projectName:e,onClose:()=>v(null)}),c&&e&&s.jsx(gv,{isOpen:c,projectName:e,onClose:()=>u(!1),onFeaturesAdded:()=>{F.invalidateQueries({queryKey:["features",e]})}}),e&&s.jsx(rv,{logs:H.logs,isOpen:C,onToggle:()=>f(!C),onClear:H.clearLogs,onHeightChange:h}),n==="project"&&e&&!c&&s.jsxs(s.Fragment,{children:[s.jsx(iv,{onClick:()=>E(!y),isOpen:y}),s.jsx(dv,{projectName:e,isOpen:y,onClose:()=>E(!1)})]}),N&&s.jsx(Rv,{onClose:()=>R(!1)}),s.jsx(Yh,{isOpen:g,onClose:()=>m(!1),onProjectCreated:S}),e&&s.jsx(Jh,{projectName:e,isOpen:I,onClose:()=>P(!1),onSpecCreated:()=>{F.invalidateQueries({queryKey:["projects"]}),P(!1)}})]}):s.jsx(Xy,{onComplete:()=>b(!0)})}const Dv=new tx({defaultOptions:{queries:{staleTime:5e3,refetchOnWindowFocus:!1}}});Sh(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(nx,{client:Dv,children:s.jsx(Ov,{})})}));
